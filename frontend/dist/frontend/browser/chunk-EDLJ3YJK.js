import{A as Ne,Aa as hn,B as we,Ba as ji,C as Lu,Ca as bi,D as M,Da as Mt,E as Je,F as Bt,G as ds,H as Dc,I as jc,J as Rc,K as yt,L as Iu,M as Fu,N as on,O as Tu,P as On,Q as Du,R as ju,S as Ru,T as Tn,U as Tt,V as Bu,W as vl,X as cr,Y as zu,Z as Ct,_ as li,a as sr,b as lr,ba as Uu,c as Ii,ca as qu,d as qe,da as Vu,e as wt,ea as Hu,g as la,ga as bl,h as Re,ha as xl,i as Be,ia as an,j as Fo,ja as rt,k as To,ka as sn,l as Ft,la as Dn,m as Nu,ma as da,n as q,na as dr,o as Ae,oa as Gu,p as Rr,pa as jn,q as ne,qa as wl,r as ku,ra as ur,s as Do,sa as Fi,t as ca,ta as Ti,u as x,ua,v as b,va as fa,w as Ge,wa as pa,x as Eu,xa as Di,y as Mu,ya as ha,z as bt,za as pn}from"./chunk-BEPC6ZMA.js";import{a as Nh}from"./chunk-K7DQ7AJW.js";import{a as $t}from"./chunk-MGDCNPXU.js";import{a as jr,d as Oh}from"./chunk-5FZOKLP6.js";var Eh=()=>({exact:!0});function Mh(e,n){e&1&&(x(0,"li",11)(1,"a",22)(2,"span",7),Fo(),x(3,"svg",8),Ge(4,"path",23),b()(),To(),x(5,"span",10),M(6,"Usuarios"),b()()())}var Wu=(()=>{class e{constructor(){this.user=bi.getInstance(),this.router=qe(qu)}goWhere(t){this.router.navigateByUrl(t)}logout(){try{bi.getInstance().cleanUser()}catch{}this.router.navigateByUrl("/login")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=wt({type:e,selectors:[["app-navbar"]],standalone:!0,features:[yt],decls:47,vars:3,consts:[[1,"cont-prin-nav"],[1,"nav-title"],["flex","",2,"justify-content","center"],["src","./../../../../assets/images/logo.png",2,"height","100px"],["aria-label","Navegaci\xF3n principal",1,"nav-content"],["routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/home/dashboard"],["aria-hidden","true",1,"icon"],["viewBox","0 0 24 24","width","18","height","18","fill","currentColor"],["d","M3 13h8V3H3v10zm0 8h8v-6H3v6zM13 21h8V11h-8v10zM13 3v6h8V3h-8z"],[1,"label"],["routerLinkActive","active"],["routerLink","/home/clientes-list"],["d","M12 12c2.7 0 5-2.3 5-5s-2.3-5-5-5-5 2.3-5 5 2.3 5 5 5zm0 2c-4 0-8 2-8 6v2h16v-2c0-4-4-6-8-6z"],["routerLink","/home/productos"],["d","M3 3h18v4H3V3zm0 7h18v11H3V10z"],["routerLink","/home/pedidos"],["d","M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2S15.9 22 17 22s2-.9 2-2-.9-2-2-2zM7.16 14l.84-2h8.79l2.1 5H9.53L7.16 14zM20 6H6l-.94-2H1v2h3l3.6 7.59-1.35 2.44C6.16 18.37 6 18.66 6 19c0 1.1.9 2 2 2h12v-2H8.42c-.14 0-.25-.11-.25-.25l.03-.12L9.1 16h7.45c.75 0 1.41-.41 1.75-1.03L22 8v-.01L20 6z"],["routerLink","/home/facturas"],["d","M21 3H3v18h18V3zM8 19H5v-2h3v2zm0-4H5v-2h3v2zm6 4h-4v-6h4v6z"],[1,"nav-settings"],[3,"click"],["routerLink","/home/usuarios"],["d","M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3zM8 11c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V20h14v-3.5C15 14.17 10.33 13 8 13zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.96 1.97 3.45V20h6v-1.5C23 15.17 18.33 14 16 14z"]],template:function(i,r){i&1&&(x(0,"div",0)(1,"div",1)(2,"div",2),Ge(3,"img",3),b(),x(4,"h1"),M(5,"Gestor de Ventas"),b()(),x(6,"nav",4)(7,"ul")(8,"li",5)(9,"a",6)(10,"span",7),Fo(),x(11,"svg",8),Ge(12,"path",9),b()(),To(),x(13,"span",10),M(14,"Dashboard"),b()()(),Ae(15,Mh,7,0,"li",11),x(16,"li",11)(17,"a",12)(18,"span",7),Fo(),x(19,"svg",8),Ge(20,"path",13),b()(),To(),x(21,"span",10),M(22,"Clientes"),b()()(),x(23,"li",11)(24,"a",14)(25,"span",7),Fo(),x(26,"svg",8),Ge(27,"path",15),b()(),To(),x(28,"span",10),M(29,"Productos"),b()()(),x(30,"li",11)(31,"a",16)(32,"span",7),Fo(),x(33,"svg",8),Ge(34,"path",17),b()(),To(),x(35,"span",10),M(36,"Pedidos"),b()()(),x(37,"li",11)(38,"a",18)(39,"span",7),Fo(),x(40,"svg",8),Ge(41,"path",19),b()(),To(),x(42,"span",10),M(43,"Facturas"),b()()()()(),x(44,"div",20)(45,"button",21),Ne("click",function(){return r.logout()}),M(46,"Cerrar sesi\xF3n"),b()()()),i&2&&(q(8),ne("routerLinkActiveOptions",Iu(2,Eh)),q(7),ca(15,r.user.User.role=="Admin"?15:-1))},dependencies:[Ct,bl,Vu,Hu],styles:['@charset "UTF-8";.cont-prin-nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:stretch;box-sizing:border-box;width:100%;min-height:96vh;padding:20px 16px;gap:8px}.nav-title[_ngcontent-%COMP%]{flex:0 0 auto;text-align:start;padding-bottom:40px;border-bottom:solid 2px rgba(15,23,42,.04);display:flex;flex-direction:column;gap:8px}.nav-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.6rem;font-weight:700;color:#008c75}.nav-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:.9rem;font-weight:500;color:#5f5f5f}.nav-content[_ngcontent-%COMP%]{flex:1 1 auto;overflow-y:auto;padding:8px 4px}.nav-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:8px}.nav-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:14px 8px;border-radius:8px;color:#0f172a;text-decoration:none;font-weight:400}.nav-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#208f7c}.nav-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#439486}.nav-content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:inline-flex;width:18px;height:18px;align-items:center;justify-content:center;color:inherit}.nav-content[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .nav-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .nav-content[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#008c75;background-color:#008c750f}.nav-settings[_ngcontent-%COMP%]{flex:0 0 28%;display:flex;flex-direction:column;align-items:center;padding:12px 8px;min-height:80px;border-top:1px solid rgba(15,23,42,.04)}.nav-settings[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#506177;text-decoration:none;font-size:.95rem}.nav-settings[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 12px;border-radius:8px;border:none;background:#ef4444;color:#fff;cursor:pointer}@media (max-width: 420px){.cont-prin-nav[_ngcontent-%COMP%]{padding:12px 10px;gap:12px}.nav-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1rem}.nav-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:9px 10px;font-size:.95rem}}']})}}return e})();function Lh(e,n){if(e&1){let t=bt();x(0,"div",5),Ne("click",function(){Re(t);let r=we();return Be(r.closeNavbar())}),b()}}var $u=(()=>{class e{constructor(){this.showNavbar=!1}toggleNavbar(){this.showNavbar=!this.showNavbar}closeNavbar(){this.showNavbar=!1}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=wt({type:e,selectors:[["app-home-page"]],standalone:!0,features:[yt],decls:8,vars:4,consts:[[1,"cont-principal"],["aria-label","Abrir men\xFA",1,"toggle-btn",3,"click"],[1,"navbar"],["class","overlay","aria-hidden","true",3,"click",4,"ngIf"],[1,"content"],["aria-hidden","true",1,"overlay",3,"click"]],template:function(i,r){i&1&&(x(0,"div",0)(1,"button",1),Ne("click",function(){return r.toggleNavbar()}),M(2,"\u2630"),b(),x(3,"div",2),Ge(4,"app-navbar"),b(),Ae(5,Lh,1,0,"div",3),x(6,"div",4),Ge(7,"router-outlet"),b()()),i&2&&(Do("nav-open",r.showNavbar),q(3),Rr("aria-hidden",!r.showNavbar),q(2),ne("ngIf",r.showNavbar))},dependencies:[Ct,Tt,bl,Uu,Wu],styles:['@charset "UTF-8";.cont-principal[_ngcontent-%COMP%]{display:flex;align-items:stretch;min-height:100vh;background-color:#f3faff;position:relative}.navbar[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%;background:#ecf3f8;padding:14px;box-shadow:inset -1px 0 #0000000a;overflow-y:auto;box-sizing:border-box}.content[_ngcontent-%COMP%]{flex:1 1 80%;max-width:80%;padding:24px}.toggle-btn[_ngcontent-%COMP%]{display:none;border:none;background:#1f6feb;color:#fff;padding:8px 10px;border-radius:8px;font-size:1.1rem;cursor:pointer}.overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000059;z-index:50}@media (max-width: 720px){.cont-principal[_ngcontent-%COMP%]{flex-direction:column;padding:0;min-height:100vh}.toggle-btn[_ngcontent-%COMP%]{display:block;position:fixed;top:12px;left:12px;z-index:60}.navbar[_ngcontent-%COMP%]{display:block;position:fixed;top:0;left:0;bottom:0;width:80%;max-width:320px;transform:translate(-110%);transition:transform .22s ease;z-index:70}.cont-principal.nav-open[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{transform:translate(0)}.content[_ngcontent-%COMP%]{width:100%;max-width:100%;padding:20px 16px;text-align:center}}']})}}return e})();var Zu=(()=>{class e{constructor(){this.url=`${ji.api}/reports`,this.http=qe(li),this.header=Mt()}monthly(){return this.header=Mt(),this.http.get(this.url+"/monthly",{headers:this.header})}countAll(){return this.header=Mt(),this.http.get(this.url+"/count",{headers:this.header})}topProducts(){return this.header=Mt(),this.http.get(this.url+"/products",{headers:this.header})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Ii({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ao=(()=>{class e{constructor(){this.url=`${ji.api}/order`,this.http=qe(li),this.header=Mt()}deleteOrder(t){return this.header=Mt(),this.http.delete(`${this.url}/${t}`,{headers:this.header})}findAllForInvoices(){return this.header=Mt(),this.http.get(this.url+"/invoices",{headers:this.header})}findAll(){return this.header=Mt(),this.http.get(this.url,{headers:this.header})}findAllNoPaid(){return this.header=Mt(),this.http.get(this.url+"/no-paid",{headers:this.header})}createOrder(t){return this.header=Mt(),this.http.post(this.url,t,{headers:this.header})}updateOrder(t,i){let r=new FormData;return r.append("id",t),r.append("file",i.imageBase64),this.http.post(`${this.url}-image/${t}`,r)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Ii({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ih(e,n){if(e&1&&(x(0,"div",14)(1,"div",15),M(2),b(),x(3,"div",16),M(4),b()()),e&2){let t=n.$implicit;q(2),Je(t.title),q(2),Je(t.value)}}function Fh(e,n){if(e&1&&Ge(0,"div",17),e&2){let t=n.$implicit,i=n.index,r=we();ku("height",t,"%"),Rr("title",r.monthlySales[i]+" USD")}}function Th(e,n){if(e&1&&(x(0,"span"),M(1),b()),e&2){let t=n.index;q(),Bt("M",t+1,"")}}function Dh(e,n){e&1&&(x(0,"li",18),M(1,"No Hay Pedidos sin Completar"),b())}function jh(e,n){if(e&1&&(x(0,"li")(1,"div",19)(2,"div",20),M(3),b(),x(4,"div",21),M(5),b()(),x(6,"div",22),M(7),b()()),e&2){let t=n.$implicit;q(3),Je(t.label),q(2),Je(t.time),q(2),Je(t.amount)}}function Rh(e,n){if(e&1&&(x(0,"section",1)(1,"div",23)(2,"div",15),M(3,"Cliente con m\xE1s Gastos"),b(),x(4,"div",16),M(5),b(),x(6,"div",15),M(7),b()(),x(8,"div",23)(9,"div",15),M(10,"Producto con m\xE1s Ingresos"),b(),x(11,"div",16),M(12),b(),x(13,"div",15),M(14),b()(),x(15,"div",23)(16,"div",15),M(17,"Vendedor con m\xE1s \xD3rdenes Concluidas"),b(),x(18,"div",16),M(19),b(),x(20,"div",15),M(21),b()(),x(22,"div",24)(23,"div",25),M(24,"Tasa BCV"),b(),x(25,"div",26),M(26,"254.87 Bs"),b()()()),e&2){let t=we();q(5),Bt("$ ",t.reports.client[0].totalGastado,""),q(2),ds("",t.reports.client[0].cliente," - V",t.reports.client[0].cedula,""),q(5),Bt("$ ",t.reports.product.ganancias,""),q(2),Je(t.reports.product.producto),q(5),Je(t.reports.sellers[0].cantidadOrdenes),q(2),Je(t.reports.sellers[0].usuario)}}var Yu=(()=>{class e{constructor(){this.stats=[],this.monthlySales=[3200,2750,3800,2e3,3100,6100,5800,3100,1220,7600,8200,9e3],this.maxMonthly=Math.max(...this.monthlySales),this.monthlyNormalized=this.monthlySales.map(t=>Math.round(t/this.maxMonthly*100)),this.recentActivity=[],this.reportService=qe(Zu),this.orderService=qe(ao)}ngOnInit(){this.gets()}gets(){this.reportService.countAll().subscribe({next:t=>{this.stats=[{title:"Ingresos totales",value:`$ ${t.totalAmount}`},{title:"Ventas completadas",value:t.invoices},{title:"Clientes Registrados",value:t.clients},{title:"Productos Registrados",value:t.products}]}}),this.reportService.topProducts().subscribe({next:t=>{this.reports=t}}),this.reportService.monthly().subscribe({next:t=>{let i=[];for(let r of[1,2,3,4,5,6,7,8,9,10,11,12]){let o=t.find(c=>c.month==r);o?i.push(o.totalIncome):i.push(0)}this.monthlySales=i,this.maxMonthly=Math.max(...this.monthlySales),this.monthlyNormalized=this.monthlySales.map(r=>Math.round(r/this.maxMonthly*100))}}),this.orderService.findAllNoPaid().subscribe({next:t=>{this.recentActivity=[];for(let i of t)this.recentActivity.push({label:`Orden-${i.orderId}`,amount:`$${i.total}`,time:`${this.formatDate(i.date)}`});this.recentActivity.length>=4&&(this.recentActivity=this.recentActivity.slice(0,4))}})}formatDate(t){let i=new Date(t.toString());return new Intl.DateTimeFormat("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}).format(i)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=wt({type:e,selectors:[["app-dashboard"]],standalone:!0,features:[yt],decls:21,vars:6,consts:[[1,"dashboard-container"],[1,"stats-row"],["class","stat-card",4,"ngFor","ngForOf"],[1,"charts-row"],[1,"main-chart","card"],[1,"chart-header"],[1,"chart-legend"],[1,"bars"],["class","bar",3,"height",4,"ngFor","ngForOf"],[1,"chart-xlabels"],[4,"ngFor","ngForOf"],[1,"activity","card"],["ft-12-500","",4,"ngIf"],["class","stats-row",4,"ngIf"],[1,"stat-card"],[1,"stat-title"],[1,"stat-value"],[1,"bar"],["ft-12-500",""],[1,"act-left"],[1,"act-title"],[1,"act-time"],[1,"act-amount"],[1,"stat-card",2,"padding","2em","height","8em"],[1,"stat-card",2,"padding","2em","height","8em","background-color","rgb(44, 44, 44)"],[1,"stat-title",2,"color","rgb(213, 213, 213)"],[1,"stat-value",2,"color","white"]],template:function(i,r){i&1&&(x(0,"div",0)(1,"section",1),Ae(2,Ih,5,2,"div",2),b(),x(3,"section",3)(4,"div",4)(5,"div",5)(6,"h3"),M(7,"Ventas mensuales"),b(),x(8,"div",6),M(9,"\xDAltimos 12 meses"),b()(),x(10,"div",7),Ae(11,Fh,1,3,"div",8),b(),x(12,"div",9),Ae(13,Th,2,1,"span",10),b()(),x(14,"aside",11)(15,"h3"),M(16,"Pedidos recientes sin completar"),b(),x(17,"ul"),Ae(18,Dh,2,0,"li",12)(19,jh,8,3,"li",10),b()()(),Ae(20,Rh,27,7,"section",13),b()),i&2&&(q(2),ne("ngForOf",r.stats),q(9),ne("ngForOf",r.monthlyNormalized),q(2),ne("ngForOf",r.monthlyNormalized),q(5),ne("ngIf",r.recentActivity.length==0),q(),ne("ngForOf",r.recentActivity),q(),ne("ngIf",r.reports))},dependencies:[Ct,Tn,Tt],styles:[".dashboard-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem}.stats-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:18px;height:7rem;border-radius:10px;box-shadow:0 8px 20px #1018280a;display:flex;flex-direction:column;gap:8px;justify-content:center}.stat-title[_ngcontent-%COMP%]{color:#6b7280;font-size:.9rem}.stat-value[_ngcontent-%COMP%]{font-size:1.45rem;font-weight:700;color:#0f172a}.charts-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;gap:16px}.card[_ngcontent-%COMP%]{background:#fff;padding:18px;border-radius:10px;box-shadow:0 8px 20px #1018280a}.main-chart[_ngcontent-%COMP%]   .chart-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:12px}.bars[_ngcontent-%COMP%]{display:flex;align-items:end;gap:8px;height:200px;padding:6px 4px;border-radius:6px;background:linear-gradient(180deg,#fbfdff,#f7f9fc)}.bar[_ngcontent-%COMP%]{width:100%;background:linear-gradient(180deg,#008c75,#00b486);border-radius:6px 6px 0 0;transition:transform .16s ease}.bar[_ngcontent-%COMP%]:hover{transform:translateY(-6px)}.chart-xlabels[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:space-between;margin-top:8px;font-size:.8rem;color:#6b7280}.activity[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:10px}.activity[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px;border-radius:8px;background:#fbfdff}.act-title[_ngcontent-%COMP%]{font-weight:600;color:#0f172a}.act-time[_ngcontent-%COMP%]{font-size:.85rem;color:#6b7280}.act-amount[_ngcontent-%COMP%]{font-weight:700;color:#7c0000}@media (max-width: 900px){.stats-row[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.charts-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.bars[_ngcontent-%COMP%]{height:160px}}@media (max-width: 480px){.stats-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.bars[_ngcontent-%COMP%]{height:130px}}"]})}}return e})();function Bh(e,n){e&1&&(x(0,"small"),M(1,"Formato inv\xE1lido."),b())}function zh(e,n){e&1&&(x(0,"small"),M(1,"El usuario es obligatorio."),b())}function Uh(e,n){if(e&1&&(x(0,"div",14),Ae(1,Bh,2,0,"small",15)(2,zh,2,0,"small",15),b()),e&2){let t,i,r=we();q(),ne("ngIf",((t=r.form.get("username"))==null?null:t.hasError("pattern"))&&((t=r.form.get("username"))==null?null:t.touched)),q(),ne("ngIf",((i=r.form.get("username"))==null?null:i.hasError("required"))&&((i=r.form.get("username"))==null?null:i.touched))}}function qh(e,n){e&1&&(x(0,"small"),M(1,"Formato inv\xE1lido."),b())}function Vh(e,n){e&1&&(x(0,"small"),M(1,"La contrase\xF1a es obligatoria."),b())}function Hh(e,n){if(e&1&&(x(0,"div",14),Ae(1,qh,2,0,"small",15)(2,Vh,2,0,"small",15),b()),e&2){let t,i,r=we();q(),ne("ngIf",((t=r.form.get("password"))==null?null:t.hasError("pattern"))&&((t=r.form.get("password"))==null?null:t.touched)),q(),ne("ngIf",((i=r.form.get("password"))==null?null:i.hasError("required"))&&((i=r.form.get("password"))==null?null:i.touched))}}var Ku=(()=>{class e{constructor(){this.fb=qe(Di),this.create=new Ft,this.cancel=new Ft,this.form=this.fb.group({username:["",[rt.required,rt.pattern("^[a-zA-Z0-9\\s,\\.\\-]{2,50}$")]],password:["",[rt.required]],role:["Vendedor"]})}onSave(){if(this.form.invalid){this.form.markAllAsTouched();return}this.create.emit({username:this.form.value.username??"",role:this.form.value.role??"Vendedor",password:this.form.value.password??""}),this.form.reset({role:"Vendedor"})}onCancel(){this.cancel.emit()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=wt({type:e,selectors:[["app-create-user"]],outputs:{create:"create",cancel:"cancel"},standalone:!0,features:[yt],decls:30,vars:3,consts:[[1,"modal-overlay",3,"click"],["role","dialog","aria-modal","true",1,"modal-window",3,"click"],[1,"modal-card"],["novalidate","",1,"dialog-form",3,"ngSubmit","formGroup"],[1,"title"],[1,"form-grid"],[1,"form-field"],["formControlName","username","type","text"],["class","field-error",4,"ngIf"],["formControlName","password","type","text"],["formControlName","role"],[1,"modal-actions"],["type","button",1,"btn-cancel",3,"click"],["type","submit",1,"btn-save"],[1,"field-error"],[4,"ngIf"]],template:function(i,r){if(i&1&&(x(0,"div",0),Ne("click",function(){return r.onCancel()}),b(),x(1,"div",1),Ne("click",function(c){return c.stopPropagation()}),x(2,"div",2)(3,"form",3),Ne("ngSubmit",function(){return r.onSave()}),x(4,"h3",4),M(5,"Crear usuario"),b(),x(6,"div",5)(7,"label",6)(8,"span"),M(9,"Usuario"),b(),Ge(10,"input",7),Ae(11,Uh,3,2,"div",8),b(),x(12,"label",6)(13,"span"),M(14,"Contrase\xF1a"),b(),Ge(15,"input",9),Ae(16,Hh,3,2,"div",8),b(),x(17,"label",6)(18,"span"),M(19,"Rol"),b(),x(20,"select",10)(21,"option"),M(22,"Admin"),b(),x(23,"option"),M(24,"Vendedor"),b()()()(),x(25,"div",11)(26,"button",12),Ne("click",function(){return r.onCancel()}),M(27,"Cancelar"),b(),x(28,"button",13),M(29,"Crear"),b()()()()()),i&2){let o,c;q(3),ne("formGroup",r.form),q(8),ne("ngIf",((o=r.form.get("username"))==null?null:o.touched)&&((o=r.form.get("username"))==null?null:o.invalid)),q(5),ne("ngIf",((c=r.form.get("password"))==null?null:c.touched)&&((c=r.form.get("password"))==null?null:c.invalid))}},dependencies:[Ct,Tt,pn,jn,fa,pa,an,ua,sn,Dn,Fi,Ti],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000061;z-index:998}.modal-window[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;padding:20px;z-index:999}.modal-card[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:0 12px 30px #0b16212e;padding:16px;width:100%;max-width:540px}.dialog-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:0;min-width:0}.title[_ngcontent-%COMP%]{margin:0 0 4px;font-size:18px;font-weight:600;color:#0b1621}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:12px}@media (min-width: 640px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.form-field[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:13px;color:#21313a;font-weight:600}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:8px 10px;border:1px solid #e3e7ea;border-radius:8px;font-size:14px;background:#fff;width:100%;box-sizing:border-box}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px;margin-top:6px}.btn-cancel[_ngcontent-%COMP%]{background:transparent;border:1px solid #d0d7da;color:#21313a;padding:8px 12px;border-radius:8px;cursor:pointer}.btn-save[_ngcontent-%COMP%]{background:#008c75;color:#fff;border:none;padding:8px 12px;border-radius:8px;cursor:pointer}.btn-save[_ngcontent-%COMP%]:active, .btn-save[_ngcontent-%COMP%]:focus{transform:translateY(.5px)}.field-error[_ngcontent-%COMP%]{margin-top:6px}.field-error[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;color:#b22a2a;font-size:12px}.full[_ngcontent-%COMP%]{width:100%}.actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px;margin-top:6px}.form-alert[_ngcontent-%COMP%]{padding:8px 10px;border-radius:8px;font-size:14px}.form-alert.success[_ngcontent-%COMP%]{background:#e6f9f0;color:#006a53;border:1px solid #cfeee6}.form-alert.error[_ngcontent-%COMP%]{background:#fff0f0;color:#9b2b2b;border:1px solid #ffd6d6}"]})}}return e})();var yl=(()=>{class e{constructor(){this.url=`${ji.api}/user`,this.http=qe(li),this.header=Mt()}delete(t){return this.header=Mt(),this.http.delete(`${this.url}/${t}`,{headers:this.header})}findAll(){return this.header=Mt(),this.http.get(this.url,{headers:this.header})}registerUser(t){return this.header=Mt(),this.http.post(this.url,t,{headers:this.header})}update(t,i){return this.header=Mt(),this.http.put(`${this.url}/${t}`,i,{headers:this.header})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Ii({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Gh(e,n){e&1&&(x(0,"small"),M(1,"Formato inv\xE1lido."),b())}function Wh(e,n){e&1&&(x(0,"small"),M(1,"Formato inv\xE1lido."),b())}function $h(e,n){if(e&1&&(x(0,"div",14),Ae(1,Gh,2,0,"small",15)(2,Wh,2,0,"small",15),b()),e&2){let t,i,r=we();q(),ne("ngIf",((t=r.form.get("username"))==null?null:t.hasError("required"))&&((t=r.form.get("username"))==null?null:t.touched)),q(),ne("ngIf",((i=r.form.get("username"))==null?null:i.hasError("pattern"))&&((i=r.form.get("username"))==null?null:i.touched))}}var Xu=(()=>{class e{constructor(){this.fb=qe(Di),this.userReq=qe(yl),this.popup=qe(hn),this.user=null,this.userId=null,this.saved=new Ft,this.cancelled=new Ft,this.form=this.fb.group({username:["",[rt.required,rt.pattern("^[a-zA-Z0-9\\s,\\.\\-]{2,50}$")]],password:["",rt.required],role:["user",rt.required]})}ngOnChanges(t){t.user&&this.user&&this.form.patchValue({username:this.user.username??"",password:this.user.password??"",role:this.user.role??"user"})}cancel(){this.cancelled.emit()}onSubmit(){let t=this.userId??this.user?._id;if(!t){this.saved.emit({error:"No user id provided"});return}let i=this.form.value,r={};["username","password","role"].forEach(o=>{let c=i[o],l=this.user?.[o];c!=null&&c!==""&&(l===void 0||c!==l)&&(r[o]=c)}),Object.keys(r).length===0&&this.popup.showInfo("Sin cambios por guardar"),this.userReq.update(t,r).subscribe({next:o=>{this.popup.showSuccess("Cambios guardados"),this.saved.emit()},error:o=>{this.popup.showError(o.error.message),this.saved.emit()}})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=wt({type:e,selectors:[["app-editar-usuario"]],inputs:{user:"user",userId:"userId"},outputs:{saved:"saved",cancelled:"cancelled"},standalone:!0,features:[la,yt],decls:23,vars:3,consts:[[1,"editar-usuario-form",3,"ngSubmit","formGroup"],[1,"field"],["for","username"],["id","username","type","text","formControlName","username","placeholder","Nombre de usuario"],["class","field-error",4,"ngIf"],["for","password"],["id","password","type","password","formControlName","password","placeholder","Contrase\xF1a"],["for","role"],["id","role","formControlName","role"],["value","Vendedor"],["value","Admin"],[1,"actions"],["type","button",3,"click"],["type","submit",3,"disabled"],[1,"field-error"],[4,"ngIf"]],template:function(i,r){if(i&1&&(x(0,"form",0),Ne("ngSubmit",function(){return r.onSubmit()}),x(1,"div",1)(2,"label",2),M(3,"Usuario"),b(),Ge(4,"input",3),Ae(5,$h,3,2,"div",4),b(),x(6,"div",1)(7,"label",5),M(8,"Contrase\xF1a"),b(),Ge(9,"input",6),b(),x(10,"div",1)(11,"label",7),M(12,"Rol"),b(),x(13,"select",8)(14,"option",9),M(15,"Vendedor"),b(),x(16,"option",10),M(17,"Administrador"),b()()(),x(18,"div",11)(19,"button",12),Ne("click",function(){return r.cancel()}),M(20,"Cancelar"),b(),x(21,"button",13),M(22,"Guardar"),b()()()),i&2){let o;ne("formGroup",r.form),q(5),ne("ngIf",((o=r.form.get("username"))==null?null:o.touched)&&((o=r.form.get("username"))==null?null:o.invalid)),q(16),ne("disabled",r.form.invalid)}},dependencies:[Ct,Tt,pn,jn,fa,pa,an,ua,sn,Dn,Fi,Ti],styles:[".editar-usuario-form[_ngcontent-%COMP%]{max-width:520px;margin:16px auto;padding:20px 22px;background:#fff;border-radius:12px;box-shadow:0 6px 18px #1414280f;display:flex;flex-direction:column;gap:12px;font-family:Inter,Segoe UI,Roboto,Arial,sans-serif}.editar-usuario-form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.editar-usuario-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;color:#374151;margin-bottom:6px;font-weight:600}.editar-usuario-form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .editar-usuario-form[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%], .editar-usuario-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:44px;padding:0 12px;border:1px solid #e6e9ee;border-radius:8px;background:#fbfdff;transition:border-color .15s ease,box-shadow .15s ease,transform 80ms ease;outline:none;font-size:14px;color:#0f1724}.editar-usuario-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:44px}.editar-usuario-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#9aa4b2}.editar-usuario-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .editar-usuario-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#5b8def;box-shadow:0 6px 18px #5b8def1f;transform:translateY(-1px)}.editar-usuario-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:8px}.editar-usuario-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:96px;height:40px;padding:0 14px;border-radius:8px;border:none;cursor:pointer;font-weight:600;font-size:14px}.editar-usuario-form[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{background:transparent;color:#374151}.editar-usuario-form[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]:hover{background:#f4f6fb}.editar-usuario-form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background:linear-gradient(90deg,#2563eb,#5b8def);color:#fff;box-shadow:0 8px 20px #2563eb1f}.editar-cliente-form[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed;box-shadow:none}@media (max-width: 560px){.editar-usuario-form[_ngcontent-%COMP%]{margin:12px;padding:16px}}"]})}}return e})();function Zh(e,n){if(e&1){let t=bt();x(0,"app-create-user",10),Ne("create",function(r){Re(t);let o=we();return Be(o.onCreate(r))})("cancel",function(){Re(t);let r=we();return Be(r.closeCreateUser())}),b()}}function Yh(e,n){if(e&1){let t=bt();x(0,"tr")(1,"td"),M(2),b(),x(3,"td"),M(4),b(),x(5,"td"),M(6),b(),x(7,"td")(8,"button",11),Ne("click",function(){let r=Re(t).$implicit,o=we();return Be(o.editUser(r._id))}),M(9,"Editar"),b(),x(10,"button",12),Ne("click",function(){let r=Re(t).$implicit,o=we();return Be(o.deleteUser(r._id))}),M(11,"Eliminar"),b()()()}if(e&2){let t=n.$implicit;q(2),Je(t.username),q(2),Je(t.password),q(2),Je(t.role)}}function Kh(e,n){if(e&1){let t=bt();x(0,"div",13),Ne("click",function(){Re(t);let r=we();return Be(r.editingUser=null)}),x(1,"div",14),Ne("click",function(r){return Re(t),Be(r.stopPropagation())}),x(2,"app-editar-usuario",15),Ne("saved",function(r){Re(t);let o=we();return Be(o.handleEditSaved(r))})("cancelled",function(){Re(t);let r=we();return Be(r.editingUser=null)}),b()()()}if(e&2){let t=we();q(2),ne("user",t.editingUser)("userId",t.editingUser._id)}}var Ju=(()=>{class e{constructor(){this.users=[],this.showCreateForm=!1,this.editingUser=null,this.allUsers=[],this.userService=qe(yl),this.popup=qe(hn),this.inpSearch=new dr("")}ngOnInit(){this.gets(),this.searchSub=this.inpSearch.valueChanges.pipe(sr(250),lr()).subscribe(()=>this.applyLocalFilter())}ngOnDestroy(){this.searchSub?.unsubscribe()}gets(){this.userService.findAll().subscribe({next:t=>{this.users=t,console.log(t),this.allUsers=Array.isArray(t)?t:[]}})}openCreateUser(){this.showCreateForm=!0}closeCreateUser(){this.showCreateForm=!1}onCreate(t){this.userService.registerUser(jr({},t)).subscribe({next:i=>{this.popup.showSuccess("Usuario agregado"),this.gets()},error:i=>{this.popup.showError(i.error.message)}}),this.showCreateForm=!1}deleteUser(t){window.confirm("\xBFEst\xE1s seguro que deseas eliminar este usuario?")&&this.userService.delete(t).subscribe({next:r=>{this.popup.showSuccess("Usuario eliminado"),this.gets()},error:r=>{this.popup.showError(r?.error?.message||"Error al eliminar usuario")}})}editUser(t){let i=this.users.find(r=>r._id===t);if(i){this.editingUser=i;return}this.userService.findAll().subscribe({next:r=>{let o=r.find(c=>c._id===t);o&&(this.editingUser=o)},error:()=>this.popup.showError("No se pudo cargar el usuario para editar")})}handleEditSaved(t){this.editingUser=null,this.gets()}applyLocalFilter(){let t=(this.inpSearch.value||"").toString().toLowerCase().trim();if(!t){this.users=[...this.allUsers];return}this.users=this.allUsers.filter(i=>(i.username||"").toString().toLowerCase().includes(t))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=wt({type:e,selectors:[["app-usuarios"]],standalone:!0,features:[yt],decls:28,vars:4,consts:[[1,"cont-prin-usu"],[1,"section-1"],[1,"user-actions"],[1,"btn-add-user",3,"click"],[3,"create","cancel",4,"ngIf"],[1,"input-search"],["placeholder","Buscar Usuario","type","text",1,"sub-top-inp","inp-a",3,"formControl"],[1,"section-2"],[4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],[3,"create","cancel"],[1,"btn-edit",3,"click"],[1,"btn-delete",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[3,"saved","cancelled","user","userId"]],template:function(i,r){i&1&&(x(0,"div",0)(1,"section",1)(2,"div")(3,"h1"),M(4,"Gesti\xF3n de Usuarios"),b(),x(5,"p"),M(6,"Administra los usuarios de la aplicaci\xF3n desde esta secci\xF3n."),b()(),x(7,"div",2)(8,"button",3),Ne("click",function(){return r.openCreateUser()}),M(9,"Agregar Usuario"),b()()(),Ae(10,Zh,1,0,"app-create-user",4),x(11,"div",5),Ge(12,"input",6),b(),x(13,"section",7)(14,"table")(15,"thead")(16,"tr")(17,"th"),M(18,"Usuario"),b(),x(19,"th"),M(20,"Contrase\xF1a"),b(),x(21,"th"),M(22,"Rol"),b(),x(23,"th"),M(24,"Acciones"),b()()(),x(25,"tbody"),Ae(26,Yh,12,3,"tr",8),b()()(),Ae(27,Kh,3,2,"div",9),b()),i&2&&(q(10),ne("ngIf",r.showCreateForm),q(2),ne("formControl",r.inpSearch),q(14),ne("ngForOf",r.users),q(),ne("ngIf",r.editingUser))},dependencies:[Ct,Tn,Tt,Ku,Xu,pn,an,sn,ur],styles:['@charset "UTF-8";.cont-prin-usu[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:24px;gap:20px;box-sizing:border-box}.section-1[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.btn-add-user[_ngcontent-%COMP%]{padding:10px 16px;border:none;border-radius:8px;background:#144b9d;color:#fff;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn-add-user[_ngcontent-%COMP%]:hover{background:#1d6ddc}.btn-add-user[_ngcontent-%COMP%]:active{background:#0e3a73}.section-2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:fixed;background:#fff;border-radius:8px;overflow:hidden}.section-2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .section-2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 10px;text-align:left;border-bottom:1px solid #eef2f7;vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.section-2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1), .section-2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1){width:20%}.section-2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), .section-2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:30%}.section-2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), .section-2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:15%}.section-2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4), .section-2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){width:15%}.section-2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(5), .section-2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(5){width:20%}.section-2[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8fafc;color:#344054;font-weight:600}.section-2[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#fbfdff}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{padding:8px 10px;border-radius:6px;border:none;cursor:pointer;font-weight:600}.btn-edit[_ngcontent-%COMP%]{background:#0ea5a4;color:#fff;margin-right:6px}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff}@media (max-width: 720px){.section-2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{display:block;overflow-x:auto;white-space:nowrap}.section-2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .section-2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{white-space:normal}}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0c141e7a;display:flex;align-items:center;justify-content:center;z-index:9999;padding:24px}.modal-content[_ngcontent-%COMP%]{width:100%;max-width:720px;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]   app-editar-usuario[_ngcontent-%COMP%]{width:100%}.input-search[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;box-sizing:border-box;margin:0 auto;padding:8px 0}.input-search[_ngcontent-%COMP%]   .sub-top-inp[_ngcontent-%COMP%], .input-search[_ngcontent-%COMP%]   .inp-a[_ngcontent-%COMP%]{width:100%;max-width:640px;background:#ffffffe6;border:1px solid rgba(11,22,33,.08);box-shadow:0 6px 18px #0b16210f;padding:10px 16px;border-radius:999px;font-size:14px;outline:none;transition:box-shadow .12s ease,transform .12s ease}.input-search[_ngcontent-%COMP%]   .sub-top-inp[_ngcontent-%COMP%]:focus, .input-search[_ngcontent-%COMP%]   .inp-a[_ngcontent-%COMP%]:focus{box-shadow:0 8px 22px #0b16211f;transform:translateY(-1px)}@media (max-width: 680px){.input-search[_ngcontent-%COMP%]   .sub-top-inp[_ngcontent-%COMP%], .input-search[_ngcontent-%COMP%]   .inp-a[_ngcontent-%COMP%]{max-width:100%;border-radius:12px}}']})}}return e})();function Xh(e,n){if(e&1){let t=bt();x(0,"button",12),Ne("click",function(){Re(t);let r=we(2);return Be(r.delete.emit(r.client._id))}),M(1,"Eliminar"),b()}}function Jh(e,n){if(e&1){let t=bt();x(0,"div",1)(1,"div",2)(2,"div",3),M(3),on(4,"uppercase"),b(),x(5,"div",4)(6,"div",5),M(7),b(),x(8,"div",6),M(9),b()()(),x(10,"div",7)(11,"div",8)(12,"span"),M(13,"Tel\xE9fono"),b(),x(14,"div"),M(15),b()(),x(16,"div",8)(17,"span"),M(18,"Direcci\xF3n"),b(),x(19,"div"),M(20),b()()(),x(21,"div",9)(22,"button",10),Ne("click",function(){Re(t);let r=we();return Be(r.edit.emit(r.client._id))}),M(23,"Editar"),b(),Ae(24,Xh,2,0,"button",11),b()()}if(e&2){let t=we();q(3),Je(t.client.name?Tu(4,6,t.client.name.charAt(0)):"?"),q(4),Je(t.client.name),q(2),Je(t.client.email||"\u2014"),q(6),Je(t.client.phone||"\u2014"),q(5),Je(t.client.address||"\u2014"),q(4),ne("ngIf",t.user.User.role=="Admin")}}var Qu=(()=>{class e{constructor(){this.client=null,this.edit=new Ft,this.delete=new Ft,this.user=bi.getInstance()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=wt({type:e,selectors:[["app-client-card"]],inputs:{client:"client"},outputs:{edit:"edit",delete:"delete"},standalone:!0,features:[yt],decls:1,vars:1,consts:[["class","client-card",4,"ngIf"],[1,"client-card"],[1,"card-header"],[1,"avatar"],[1,"meta"],[1,"name"],[1,"small"],[1,"card-body"],[1,"field"],[1,"card-actions"],["type","button",1,"btn",3,"click"],["type","button","class","btn danger",3,"click",4,"ngIf"],["type","button",1,"btn","danger",3,"click"]],template:function(i,r){i&1&&Ae(0,Jh,25,8,"div",0),i&2&&ne("ngIf",r.client)},dependencies:[Ct,Tt,Bu],styles:[".client-card[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:0 8px 20px #0b162114;padding:24px;display:flex;flex-direction:column;gap:10px;width:320px;height:fit-content}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.avatar[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%;background:linear-gradient(135deg,#e6f7f2,#dff3ef);display:flex;align-items:center;justify-content:center;font-weight:700;color:#008c75}.meta[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:600;color:#0b1621}.meta[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{font-size:12px;color:#556565}.status[_ngcontent-%COMP%]{margin-left:auto;font-size:12px;padding:6px 8px;border-radius:8px;background:#eaf7f4;color:#006a53}.status.inactive[_ngcontent-%COMP%]{background:#fff0f0;color:#b22a2a}.card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;font-size:13px;color:#223033}.card-body[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:12px;color:#556565}.card-actions[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end}.btn[_ngcontent-%COMP%]{padding:6px 10px;border-radius:8px;border:1px solid #d7e6e2;background:transparent;cursor:pointer}.btn.danger[_ngcontent-%COMP%]{background:#ffebe9;border-color:#ffc6c0;color:#b22a2a}"]})}}return e})();function Qh(e,n){e&1&&(x(0,"small"),M(1,"Solo letras y n\xFAmeros, entre 3 y 100 car\xE1cteres."),b())}function e1(e,n){e&1&&(x(0,"small"),M(1,"El nombre es obligatorio."),b())}function t1(e,n){if(e&1&&(x(0,"div",16),Ae(1,Qh,2,0,"small",17)(2,e1,2,0,"small",17),b()),e&2){let t,i,r=we();q(),ne("ngIf",((t=r.form.get("name"))==null?null:t.hasError("pattern"))&&((t=r.form.get("name"))==null?null:t.touched)),q(),ne("ngIf",((i=r.form.get("name"))==null?null:i.hasError("required"))&&((i=r.form.get("name"))==null?null:i.touched))}}function n1(e,n){e&1&&(x(0,"small"),M(1,"Formato inv\xE1lido."),b())}function i1(e,n){e&1&&(x(0,"small"),M(1,"La cedula es obligatoria."),b())}function r1(e,n){if(e&1&&(x(0,"div",16),Ae(1,n1,2,0,"small",17)(2,i1,2,0,"small",17),b()),e&2){let t,i,r=we();q(),ne("ngIf",((t=r.form.get("cedula"))==null?null:t.hasError("pattern"))&&((t=r.form.get("cedula"))==null?null:t.touched)),q(),ne("ngIf",((i=r.form.get("cedula"))==null?null:i.hasError("required"))&&((i=r.form.get("cedula"))==null?null:i.touched))}}function o1(e,n){e&1&&(x(0,"small"),M(1,"El email es obligatorio."),b())}function a1(e,n){e&1&&(x(0,"small"),M(1,"Solo formatos gmail, hotmail, outlook."),b())}function s1(e,n){e&1&&(x(0,"small"),M(1,"Formato inv\xE1lido."),b())}function l1(e,n){if(e&1&&(x(0,"div",16),Ae(1,o1,2,0,"small",17)(2,a1,2,0,"small",17)(3,s1,2,0,"small",17),b()),e&2){let t,i,r,o=we();q(),ne("ngIf",((t=o.form.get("email"))==null?null:t.hasError("required"))&&((t=o.form.get("email"))==null?null:t.touched)),q(),ne("ngIf",((i=o.form.get("email"))==null?null:i.hasError("pattern"))&&((i=o.form.get("email"))==null?null:i.touched)),q(),ne("ngIf",((r=o.form.get("email"))==null?null:r.hasError("email"))&&((r=o.form.get("email"))==null?null:r.touched))}}function c1(e,n){e&1&&(x(0,"small"),M(1,"El tel\xE9fono es obligatorio."),b())}function d1(e,n){e&1&&(x(0,"small"),M(1,"Formato inv\xE1lido."),b())}function u1(e,n){if(e&1&&(x(0,"div",16),Ae(1,c1,2,0,"small",17)(2,d1,2,0,"small",17),b()),e&2){let t,i,r=we();q(),ne("ngIf",((t=r.form.get("phone"))==null?null:t.hasError("required"))&&((t=r.form.get("phone"))==null?null:t.touched)),q(),ne("ngIf",((i=r.form.get("phone"))==null?null:i.hasError("pattern"))&&((i=r.form.get("phone"))==null?null:i.touched))}}function f1(e,n){e&1&&(x(0,"small"),M(1,"La direcci\xF3n es obligatoria."),b())}function p1(e,n){e&1&&(x(0,"small"),M(1,"Solo letras y n\xFAmeros, entre 4 y 200 car\xE1cteres."),b())}function h1(e,n){if(e&1&&(x(0,"div",16),Ae(1,f1,2,0,"small",17)(2,p1,2,0,"small",17),b()),e&2){let t,i,r=we();q(),ne("ngIf",((t=r.form.get("address"))==null?null:t.hasError("required"))&&((t=r.form.get("address"))==null?null:t.touched)),q(),ne("ngIf",((i=r.form.get("address"))==null?null:i.hasError("pattern"))&&((i=r.form.get("address"))==null?null:i.touched))}}var ef=(()=>{class e{constructor(){this.fb=qe(Di),this.saving=!1,this.create=new Ft,this.cancel=new Ft,this.form=this.fb.group({name:["",[rt.required,rt.pattern("^[a-zA-Z0-9\\s,\\.\\-\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD1\xFC\xDC]{3,100}$")]],email:["",[rt.required,rt.email,rt.pattern(/^[a-zA-Z0-9._%+-]+@(gmail|hotmail|outlook)\.com$/i)]],phone:["",[rt.required,rt.pattern("^\\d{11}$")]],address:["",[rt.required,rt.pattern("^[a-zA-Z0-9\\s,\\.\\-\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD1\xFC\xDC]{4,200}$")]],cedula:["",[rt.required,rt.pattern("^\\d{1,9}$")]]})}onSave(){if(this.form.invalid){this.form.markAllAsTouched();return}this.create.emit({name:this.form.value.name??"",email:this.form.value.email??"",phone:this.form.value.phone??"",address:this.form.value.address??"",cedula:this.form.value.cedula??""}),this.form.reset({})}onCancel(){this.cancel.emit()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=wt({type:e,selectors:[["app-create-cliente"]],outputs:{create:"create",cancel:"cancel"},standalone:!0,features:[yt],decls:37,vars:9,consts:[[1,"modal-overlay",3,"click"],["role","dialog","aria-modal","true",1,"modal-window",3,"click"],[1,"modal-card"],["novalidate","",1,"dialog-form",3,"ngSubmit","formGroup"],[1,"title"],[1,"form-grid"],[1,"form-field"],["formControlName","name","type","text"],["class","field-error",4,"ngIf"],["formControlName","cedula","type","text"],["formControlName","email","type","email"],["formControlName","phone","type","text"],["formControlName","address","type","text"],[1,"modal-actions"],["type","button",1,"btn-cancel",3,"click","disabled"],["type","submit",1,"btn-save",3,"disabled"],[1,"field-error"],[4,"ngIf"]],template:function(i,r){if(i&1&&(x(0,"div",0),Ne("click",function(){return r.onCancel()}),b(),x(1,"div",1),Ne("click",function(c){return c.stopPropagation()}),x(2,"div",2)(3,"form",3),Ne("ngSubmit",function(){return r.onSave()}),x(4,"h3",4),M(5,"Crear cliente"),b(),x(6,"div",5)(7,"label",6)(8,"span"),M(9,"Nombre"),b(),Ge(10,"input",7),Ae(11,t1,3,2,"div",8),b(),x(12,"label",6)(13,"span"),M(14,"Cedula"),b(),Ge(15,"input",9),Ae(16,r1,3,2,"div",8),b(),x(17,"label",6)(18,"span"),M(19,"Email"),b(),Ge(20,"input",10),Ae(21,l1,4,3,"div",8),b(),x(22,"label",6)(23,"span"),M(24,"Tel\xE9fono"),b(),Ge(25,"input",11),Ae(26,u1,3,2,"div",8),b(),x(27,"label",6)(28,"span"),M(29,"Direcci\xF3n"),b(),Ge(30,"input",12),Ae(31,h1,3,2,"div",8),b()(),x(32,"div",13)(33,"button",14),Ne("click",function(){return r.onCancel()}),M(34,"Cancelar"),b(),x(35,"button",15),M(36),b()()()()()),i&2){let o,c,l,u,p;q(3),ne("formGroup",r.form),q(8),ne("ngIf",((o=r.form.get("name"))==null?null:o.touched)&&((o=r.form.get("name"))==null?null:o.invalid)),q(5),ne("ngIf",((c=r.form.get("cedula"))==null?null:c.touched)&&((c=r.form.get("cedula"))==null?null:c.invalid)),q(5),ne("ngIf",((l=r.form.get("email"))==null?null:l.touched)&&((l=r.form.get("email"))==null?null:l.invalid)),q(5),ne("ngIf",((u=r.form.get("phone"))==null?null:u.touched)&&((u=r.form.get("phone"))==null?null:u.invalid)),q(5),ne("ngIf",((p=r.form.get("address"))==null?null:p.touched)&&((p=r.form.get("address"))==null?null:p.invalid)),q(2),ne("disabled",r.saving),q(2),ne("disabled",r.saving),q(),Je(r.saving?"Creando...":"Crear")}},dependencies:[Ct,Tt,pn,jn,an,sn,Dn,Fi,Ti],styles:['@charset "UTF-8";.form-alert[_ngcontent-%COMP%]{padding:8px 10px;border-radius:8px;font-size:14px}.form-alert.success[_ngcontent-%COMP%]{background:#e6f9f0;color:#006a53;border:1px solid #cfeee6}.form-alert.error[_ngcontent-%COMP%]{background:#fff0f0;color:#9b2b2b;border:1px solid #ffd6d6}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000061;z-index:998}.modal-window[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;padding:20px;z-index:999}.modal-card[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:0 12px 30px #0b16212e;padding:32px;width:100%;max-width:540px}.dialog-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:0}.title[_ngcontent-%COMP%]{margin:0 0 4px;font-size:18px;font-weight:600;color:#0b1621}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:12px}@media (min-width: 640px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:8px 10px;border:1px solid #e3e7ea;border-radius:8px;font-size:14px;background:#fff;width:100%;box-sizing:border-box}.field-error[_ngcontent-%COMP%]{margin-top:6px}.field-error[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;color:#b22a2a;font-size:12px}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px;margin-top:6px}.btn-cancel[_ngcontent-%COMP%]{background:transparent;border:1px solid #d0d7da;color:#21313a;padding:8px 18px;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer}.btn-cancel[_ngcontent-%COMP%]:hover{background:#f5f7f8}.btn-cancel[_ngcontent-%COMP%]:active{transform:scale(.98)}.btn-save[_ngcontent-%COMP%]{background:#008c75;color:#fff;border:none;padding:8px 18px;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer}.btn-save[_ngcontent-%COMP%]:hover{background:#006a53}.btn-save[_ngcontent-%COMP%]:active{transform:scale(.98)}']})}}return e})();var ma=(()=>{class e{constructor(){this.url=`${ji.api}/client`,this.http=qe(li),this.header=Mt()}deleteClient(t){return this.header=Mt(),this.http.delete(`${this.url}/${t}`,{headers:this.header})}findAll(){return this.header=Mt(),this.http.get(this.url,{headers:this.header})}createClient(t){return this.header=Mt(),this.http.post(this.url,t,{headers:this.header})}updateClient(t,i){return this.header=Mt(),this.http.put(`${this.url}/${t}`,i,{headers:this.header})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Ii({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function m1(e,n){e&1&&(x(0,"small"),M(1,"Solo letras y n\xFAmeros, entre 3 y 100 car\xE1cteres."),b())}function g1(e,n){e&1&&(x(0,"small"),M(1,"El nombre es obligatorio."),b())}function _1(e,n){if(e&1&&(x(0,"div",16),Ae(1,m1,2,0,"small",17)(2,g1,2,0,"small",17),b()),e&2){let t,i,r=we();q(),ne("ngIf",((t=r.form.get("name"))==null?null:t.hasError("pattern"))&&((t=r.form.get("name"))==null?null:t.touched)),q(),ne("ngIf",((i=r.form.get("name"))==null?null:i.hasError("required"))&&((i=r.form.get("name"))==null?null:i.touched))}}function v1(e,n){e&1&&(x(0,"small"),M(1,"La Cedula es obligatoria."),b())}function b1(e,n){e&1&&(x(0,"small"),M(1,"Formato inv\xE1lido."),b())}function x1(e,n){if(e&1&&(x(0,"div",16),Ae(1,v1,2,0,"small",17)(2,b1,2,0,"small",17),b()),e&2){let t,i,r=we();q(),ne("ngIf",((t=r.form.get("cedula"))==null?null:t.hasError("required"))&&((t=r.form.get("cedula"))==null?null:t.touched)),q(),ne("ngIf",((i=r.form.get("cedula"))==null?null:i.hasError("pattern"))&&((i=r.form.get("cedula"))==null?null:i.touched))}}function w1(e,n){e&1&&(x(0,"small"),M(1,"El tel\xE9fono es obligatorio."),b())}function y1(e,n){e&1&&(x(0,"small"),M(1,"Formato inv\xE1lido."),b())}function C1(e,n){if(e&1&&(x(0,"div",16),Ae(1,w1,2,0,"small",17)(2,y1,2,0,"small",17),b()),e&2){let t,i,r=we();q(),ne("ngIf",((t=r.form.get("phone"))==null?null:t.hasError("required"))&&((t=r.form.get("phone"))==null?null:t.touched)),q(),ne("ngIf",((i=r.form.get("phone"))==null?null:i.hasError("pattern"))&&((i=r.form.get("phone"))==null?null:i.touched))}}function S1(e,n){e&1&&(x(0,"small"),M(1,"Solo letras y n\xFAmeros, entre 4 y 200 car\xE1cteres."),b())}function P1(e,n){e&1&&(x(0,"small"),M(1,"Formato inv\xE1lido.tienen que ser entre 15-50 caracteres"),b())}function A1(e,n){if(e&1&&(x(0,"div",16),Ae(1,S1,2,0,"small",17)(2,P1,2,0,"small",17),b()),e&2){let t,i,r=we();q(),ne("ngIf",((t=r.form.get("address"))==null?null:t.hasError("required"))&&((t=r.form.get("address"))==null?null:t.touched)),q(),ne("ngIf",((i=r.form.get("address"))==null?null:i.hasError("pattern"))&&((i=r.form.get("address"))==null?null:i.touched))}}function O1(e,n){e&1&&(x(0,"small"),M(1,"El email es obligatorio."),b())}function N1(e,n){e&1&&(x(0,"small"),M(1,"Solo formatos gmail, hotmail, outlook."),b())}function k1(e,n){e&1&&(x(0,"small"),M(1,"Formato inv\xE1lido."),b())}function E1(e,n){if(e&1&&(x(0,"div",16),Ae(1,O1,2,0,"small",17)(2,N1,2,0,"small",17)(3,k1,2,0,"small",17),b()),e&2){let t,i,r,o=we();q(),ne("ngIf",((t=o.form.get("email"))==null?null:t.hasError("required"))&&((t=o.form.get("email"))==null?null:t.touched)),q(),ne("ngIf",((i=o.form.get("email"))==null?null:i.hasError("pattern"))&&((i=o.form.get("email"))==null?null:i.touched)),q(),ne("ngIf",((r=o.form.get("email"))==null?null:r.hasError("email"))&&((r=o.form.get("email"))==null?null:r.touched))}}var tf=(()=>{class e{constructor(){this.fb=qe(Di),this.clientReq=qe(ma),this.popup=qe(hn),this.client=null,this.clientId=null,this.saved=new Ft,this.cancelled=new Ft,this.form=this.fb.group({name:["",[rt.required,rt.pattern("^[a-zA-Z0-9\\s,\\.\\-\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD1\xFC\xDC]{3,100}$")]],email:["",[rt.required,rt.email,rt.pattern(/^[a-zA-Z0-9._%+-]+@(gmail|hotmail|outlook)\.com$/i)]],phone:["",[rt.required,rt.pattern("^\\d{11}$")]],address:["",[rt.required,rt.pattern("^[a-zA-Z0-9\\s,\\.\\-\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD1\xFC\xDC]{4,200}$")]],cedula:["",[rt.required,rt.pattern("^\\d{1,9}$")]]})}ngOnChanges(t){t.client&&this.client&&this.form.patchValue({name:this.client.name??"",email:this.client.email??"",phone:this.client.phone??"",address:this.client.address??"",cedula:this.client.cedula??""})}cancel(){this.cancelled.emit()}onSubmit(){let t=this.clientId??this.client?._id;if(!t){this.saved.emit({error:"No client id provided"});return}let i=this.form.value,r={};if(["name","email","phone","address","cedula"].forEach(o=>{let c=i[o],l=this.client?.[o];c!=null&&c!==""&&(l===void 0||c!==l)&&(r[o]=c)}),Object.keys(r).length===0){this.popup.showInfo("Sin cambios para guardar"),this.saved.emit();return}this.clientReq.updateClient(t,r).subscribe({next:o=>{this.popup.showSuccess("Cambios guardados"),this.saved.emit()},error:o=>{this.popup.showError(o.error.message),this.saved.emit()}})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=wt({type:e,selectors:[["app-editar-cliente"]],inputs:{client:"client",clientId:"clientId"},outputs:{saved:"saved",cancelled:"cancelled"},standalone:!0,features:[la,yt],decls:31,vars:7,consts:[[1,"editar-cliente-form",3,"ngSubmit","formGroup"],[1,"field"],["for","name"],["id","name","type","text","formControlName","name","placeholder","Nombre"],["class","field-error",4,"ngIf"],["for","cedula"],["id","cedula","type","text","formControlName","cedula","placeholder","C\xE9dula"],["for","phone"],["id","phone","type","text","formControlName","phone","placeholder","Tel\xE9fono"],["for","address"],["id","address","type","text","formControlName","address","placeholder","Direcci\xF3n"],["for","email"],["id","email","type","email","formControlName","email","placeholder","Correo electr\xF3nico"],[1,"actions"],["type","button",3,"click"],["type","submit",3,"disabled"],[1,"field-error"],[4,"ngIf"]],template:function(i,r){if(i&1&&(x(0,"form",0),Ne("ngSubmit",function(){return r.onSubmit()}),x(1,"div",1)(2,"label",2),M(3,"Nombre"),b(),Ge(4,"input",3),Ae(5,_1,3,2,"div",4),b(),x(6,"div",1)(7,"label",5),M(8,"Cedula"),b(),Ge(9,"input",6),Ae(10,x1,3,2,"div",4),b(),x(11,"div",1)(12,"label",7),M(13,"Tel\xE9fono"),b(),Ge(14,"input",8),Ae(15,C1,3,2,"div",4),b(),x(16,"div",1)(17,"label",9),M(18,"Direcci\xF3n"),b(),Ge(19,"input",10),Ae(20,A1,3,2,"div",4),b(),x(21,"div",1)(22,"label",11),M(23,"Correo electr\xF3nico"),b(),Ge(24,"input",12),Ae(25,E1,4,3,"div",4),b(),x(26,"div",13)(27,"button",14),Ne("click",function(){return r.cancel()}),M(28,"Cancelar"),b(),x(29,"button",15),M(30,"Guardar"),b()()()),i&2){let o,c,l,u,p;ne("formGroup",r.form),q(5),ne("ngIf",((o=r.form.get("name"))==null?null:o.touched)&&((o=r.form.get("name"))==null?null:o.invalid)),q(5),ne("ngIf",((c=r.form.get("cedula"))==null?null:c.touched)&&((c=r.form.get("cedula"))==null?null:c.invalid)),q(5),ne("ngIf",((l=r.form.get("phone"))==null?null:l.touched)&&((l=r.form.get("phone"))==null?null:l.invalid)),q(5),ne("ngIf",((u=r.form.get("address"))==null?null:u.touched)&&((u=r.form.get("address"))==null?null:u.invalid)),q(5),ne("ngIf",((p=r.form.get("email"))==null?null:p.touched)&&((p=r.form.get("email"))==null?null:p.invalid)),q(4),ne("disabled",r.form.invalid)}},dependencies:[Ct,Tt,pn,jn,an,sn,Dn,Fi,Ti],styles:[".editar-cliente-form[_ngcontent-%COMP%]{max-width:520px;margin:20px auto;padding:20px 22px;background:#fff;border-radius:12px;box-shadow:0 6px 18px #14142814;display:flex;flex-direction:column;gap:12px;font-family:Inter,Segoe UI,Roboto,Arial,sans-serif}.editar-cliente-form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.editar-cliente-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;color:#344054;margin-bottom:6px;font-weight:600}.editar-cliente-form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .editar-cliente-form[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{height:44px;padding:0 12px;border:1px solid #e6e9ee;border-radius:8px;background:#fbfdff;transition:border-color .15s ease,box-shadow .15s ease,transform 80ms ease;outline:none;font-size:14px;color:#0f1724}.editar-cliente-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#9aa4b2}.editar-cliente-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#5b8def;box-shadow:0 6px 18px #5b8def1f;transform:translateY(-1px)}.editar-cliente-form[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#d14343;font-size:12px;margin-top:6px}.editar-cliente-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:8px}.editar-cliente-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:96px;height:40px;padding:0 14px;border-radius:8px;border:none;cursor:pointer;font-weight:600;font-size:14px}.editar-cliente-form[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{background:transparent;color:#334155;border:1px solid transparent}.editar-cliente-form[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]:hover{background:#f4f6fb}.editar-cliente-form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background:linear-gradient(90deg,#2563eb,#5b8def);color:#fff;box-shadow:0 8px 20px #2563eb1f}.editar-cliente-form[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed;box-shadow:none}.field-error[_ngcontent-%COMP%]{margin-top:6px}.field-error[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;color:#b22a2a;font-size:12px}@media (max-width: 560px){.editar-cliente-form[_ngcontent-%COMP%]{margin:12px;padding:16px}}"]})}}return e})();function M1(e,n){if(e&1){let t=bt();x(0,"app-client-card",11),Ne("edit",function(r){Re(t);let o=we();return Be(o.onEdit(r))})("delete",function(r){Re(t);let o=we();return Be(o.onDelete(r))}),b()}if(e&2){let t=n.$implicit;ne("client",t)}}function L1(e,n){if(e&1){let t=bt();x(0,"app-create-cliente",12),Ne("create",function(r){Re(t);let o=we();return Be(o.onCreateCliente(r))})("cancel",function(){Re(t);let r=we();return Be(r.closeCreateClient())}),b()}}function I1(e,n){if(e&1){let t=bt();x(0,"div",13),Ne("click",function(){Re(t);let r=we();return Be(r.editingClient=null)}),x(1,"div",14),Ne("click",function(r){return Re(t),Be(r.stopPropagation())}),x(2,"app-editar-cliente",15),Ne("saved",function(r){Re(t);let o=we();return Be(o.onEditSaved(r))})("cancelled",function(){Re(t);let r=we();return Be(r.editingClient=null)}),b()()()}if(e&2){let t=we();q(2),ne("client",t.editingClient)("clientId",t.editingClient._id)}}var nf=(()=>{class e{constructor(){this.clients=[],this.clientService=qe(ma),this.allClients=[],this.popup=qe(hn),this.editingClient=null,this.inpSearch=new dr(""),this.user=bi.getInstance(),this.showCreateClient=!1}ngOnInit(){this.gets(),this.searchSub=this.inpSearch.valueChanges.pipe(sr(250),lr()).subscribe(()=>this.applyLocalFilter())}ngOnDestroy(){this.searchSub?.unsubscribe()}gets(){this.clientService.findAll().subscribe({next:t=>{this.clients=t,this.allClients=Array.isArray(t)?t:[]}})}openCreateUser(){this.showCreateClient=!0}closeCreateClient(){this.showCreateClient=!1}onCreateCliente(t){this.clientService.createClient(jr({},t)).subscribe({next:i=>{this.popup.showSuccess("Cliente agregado"),this.gets()},error:i=>{this.popup.showError(i?.error?.message||"Error al crear cliente")}}),this.showCreateClient=!1}onDelete(t){window.confirm("\xBFEst\xE1s seguro que deseas eliminar este cliente?")&&this.clientService.deleteClient(t).subscribe({next:()=>{this.popup.showSuccess("Cliente eliminado"),this.gets()},error:r=>{this.popup.showError(r?.error?.message||"Error al eliminar cliente")}})}onEdit(t){let i=this.clients.find(r=>r._id===t);if(i){this.editingClient=i;return}this.clientService.findAll().subscribe({next:r=>{let o=r.find(c=>c._id===t);o&&(this.editingClient=o)},error:()=>{this.popup.showError("No se pudo cargar el cliente para editar")}})}onEditSaved(t){this.editingClient=null,this.gets()}applyLocalFilter(){let t=(this.inpSearch.value||"").toString().toLowerCase().trim();if(!t){this.clients=[...this.allClients];return}this.clients=this.allClients.filter(i=>(i.name||"").toString().toLowerCase().includes(t)||(i.email||"").toString().toLowerCase().includes(t)||(i.cedula||"").toString().toLowerCase().includes(t))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=wt({type:e,selectors:[["app-clientes-list"]],standalone:!0,features:[yt],decls:17,vars:4,consts:[[1,"cont-prin-clie"],[1,"section-1"],[1,"user-actions"],["type","button",1,"btn-add-user",3,"click"],[1,"input-search"],["type","text","placeholder","Buscar Cliente",1,"inp-a",3,"formControl"],[1,"section-cards"],[1,"cards-grid"],[3,"client","edit","delete",4,"ngFor","ngForOf"],[3,"create","cancel",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[3,"edit","delete","client"],[3,"create","cancel"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[3,"saved","cancelled","client","clientId"]],template:function(i,r){i&1&&(x(0,"div",0)(1,"section",1)(2,"div")(3,"h1"),M(4,"Gesti\xF3n de Clientes"),b(),x(5,"p"),M(6,"Administra los clientes desde esta secci\xF3n."),b()(),x(7,"div",2)(8,"button",3),Ne("click",function(){return r.openCreateUser()}),M(9,"Agregar Cliente"),b()()(),x(10,"div",4),Ge(11,"input",5),b(),x(12,"section",6)(13,"div",7),Ae(14,M1,1,1,"app-client-card",8),b()(),Ae(15,L1,1,0,"app-create-cliente",9)(16,I1,3,2,"div",10),b()),i&2&&(q(11),ne("formControl",r.inpSearch),q(3),ne("ngForOf",r.clients),q(),ne("ngIf",r.showCreateClient),q(),ne("ngIf",r.editingClient))},dependencies:[Ct,Tn,Tt,Qu,ef,tf,pn,an,sn,ur],styles:['@charset "UTF-8";.cont-prin-clie[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:24px;gap:20px;box-sizing:border-box}.section-1[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:26px}.btn-add-user[_ngcontent-%COMP%]{padding:10px 16px;border:none;border-radius:8px;background:#144b9d;color:#fff;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn-add-user[_ngcontent-%COMP%]:hover{background:#1d6ddc}.btn-add-user[_ngcontent-%COMP%]:active{background:#0e3a73}.section-cards[_ngcontent-%COMP%]{width:100%}.cards-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:20px 24px;align-items:start;justify-items:stretch;width:100%}@media (max-width: 1000px){.cards-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:18px}}@media (max-width: 640px){.cards-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:14px}}.cards-grid[_ngcontent-%COMP%]   app-client-card[_ngcontent-%COMP%]{width:100%}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0c141e7a;display:flex;align-items:center;justify-content:center;z-index:9999;padding:24px}.modal-content[_ngcontent-%COMP%]{width:100%;max-width:720px;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]   app-editar-cliente[_ngcontent-%COMP%]{width:100%}.input-search[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;box-sizing:border-box;margin:0 auto;padding:8px 0}.input-search[_ngcontent-%COMP%]   .sub-top-inp[_ngcontent-%COMP%], .input-search[_ngcontent-%COMP%]   .inp-a[_ngcontent-%COMP%]{width:100%;max-width:640px;background:#ffffffe6;border:1px solid rgba(11,22,33,.08);box-shadow:0 6px 18px #0b16210f;padding:10px 16px;border-radius:999px;font-size:14px;outline:none;transition:box-shadow .12s ease,transform .12s ease}.input-search[_ngcontent-%COMP%]   .sub-top-inp[_ngcontent-%COMP%]:focus, .input-search[_ngcontent-%COMP%]   .inp-a[_ngcontent-%COMP%]:focus{box-shadow:0 8px 22px #0b16211f;transform:translateY(-1px)}@media (max-width: 680px){.input-search[_ngcontent-%COMP%]   .sub-top-inp[_ngcontent-%COMP%], .input-search[_ngcontent-%COMP%]   .inp-a[_ngcontent-%COMP%]{max-width:100%;border-radius:12px}}']})}}return e})();function F1(e,n){e&1&&(x(0,"small"),M(1,"Solo letras y n\xFAmeros, entre 2 y 100 car\xE1cteres."),b())}function T1(e,n){e&1&&(x(0,"small"),M(1,"El nombre es obligatorio."),b())}function D1(e,n){if(e&1&&(x(0,"div",17),Ae(1,F1,2,0,"small",18)(2,T1,2,0,"small",18),b()),e&2){let t,i,r=we();q(),ne("ngIf",((t=r.form.get("name"))==null?null:t.hasError("pattern"))&&((t=r.form.get("name"))==null?null:t.touched)),q(),ne("ngIf",((i=r.form.get("name"))==null?null:i.hasError("required"))&&((i=r.form.get("name"))==null?null:i.touched))}}function j1(e,n){e&1&&(x(0,"small"),M(1,"El precio es obligatorio."),b())}function R1(e,n){if(e&1&&(x(0,"div",17),Ae(1,j1,2,0,"small",18),b()),e&2){let t,i=we();q(),ne("ngIf",((t=i.form.get("price"))==null?null:t.hasError("required"))&&((t=i.form.get("price"))==null?null:t.touched))}}function B1(e,n){e&1&&(x(0,"small"),M(1,"El stock es obligatorio."),b())}function z1(e,n){if(e&1&&(x(0,"div",17),Ae(1,B1,2,0,"small",18),b()),e&2){let t,i=we();q(),ne("ngIf",((t=i.form.get("stock"))==null?null:t.hasError("required"))&&((t=i.form.get("stock"))==null?null:t.touched))}}function U1(e,n){e&1&&(x(0,"small"),M(1,"Solo letras y n\xFAmeros, entre 8 y 200 car\xE1cteres."),b())}function q1(e,n){e&1&&(x(0,"small"),M(1,"La descripci\xF3n es obligatoria."),b())}function V1(e,n){if(e&1&&(x(0,"div",17),Ae(1,U1,2,0,"small",18)(2,q1,2,0,"small",18),b()),e&2){let t,i,r=we();q(),ne("ngIf",((t=r.form.get("description"))==null?null:t.hasError("pattern"))&&((t=r.form.get("description"))==null?null:t.touched)),q(),ne("ngIf",((i=r.form.get("description"))==null?null:i.hasError("required"))&&((i=r.form.get("description"))==null?null:i.touched))}}var rf=(()=>{class e{constructor(){this.fb=qe(Di),this.saving=!1,this.create=new Ft,this.close=new Ft,this.form=this.fb.group({name:["",[rt.required,rt.pattern("^[a-zA-Z0-9\\s,\\.\\-\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD1\xFC\xDC]{2,100}$")]],price:[1,[rt.required,rt.min(1)]],stock:[1,[rt.required,rt.min(1)]],description:["",[rt.required,rt.pattern("^[a-zA-Z0-9\\s,\\.\\-\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD1\xFC\xDC]{8,200}$")]],iva:[!0]})}onSave(){if(this.form.invalid){this.form.markAllAsTouched();return}this.create.emit({name:this.form.value.name??"",description:this.form.value.description??"",price:this.form.value.price??0,stock:this.form.value.stock??0,iva:this.form.value.iva??!0}),this.form.reset({})}onClose(){this.close.emit()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=wt({type:e,selectors:[["app-create-producto"]],outputs:{create:"create",close:"close"},standalone:!0,features:[yt],decls:35,vars:8,consts:[[1,"modal-overlay",3,"click"],["role","dialog","aria-modal","true",1,"modal-window",3,"click"],[1,"modal-card"],["novalidate","",1,"dialog-form",3,"ngSubmit","formGroup"],[1,"title"],[1,"form-grid"],[1,"form-field"],["formControlName","name","type","text"],["class","field-error",4,"ngIf"],["formControlName","price","type","number","step","0.01"],["ft-12-500","","type","checkbox","formControlName","iva"],["formControlName","stock","type","number"],[1,"form-field",2,"grid-column","1 / -1"],["formControlName","description","rows","3"],[1,"modal-actions"],["type","button",1,"btn-cancel",3,"click","disabled"],["type","submit",1,"btn-save",3,"disabled"],[1,"field-error"],[4,"ngIf"]],template:function(i,r){if(i&1&&(x(0,"div",0),Ne("click",function(){return r.onClose()}),b(),x(1,"div",1),Ne("click",function(c){return c.stopPropagation()}),x(2,"div",2)(3,"form",3),Ne("ngSubmit",function(){return r.onSave()}),x(4,"h3",4),M(5,"Crear producto"),b(),x(6,"div",5)(7,"label",6)(8,"span"),M(9,"Nombre"),b(),Ge(10,"input",7),Ae(11,D1,3,2,"div",8),b(),x(12,"label",6)(13,"span"),M(14,"Precio"),b(),Ge(15,"input",9),Ae(16,R1,2,1,"div",8),b(),x(17,"label"),Ge(18,"input",10),M(19," Producto Incluye IVA "),b(),x(20,"label",6)(21,"span"),M(22,"Stock"),b(),Ge(23,"input",11),Ae(24,z1,2,1,"div",8),b(),x(25,"label",12)(26,"span"),M(27,"Descripci\xF3n"),b(),Ge(28,"textarea",13),Ae(29,V1,3,2,"div",8),b()(),x(30,"div",14)(31,"button",15),Ne("click",function(){return r.onClose()}),M(32,"Cancelar"),b(),x(33,"button",16),M(34),b()()()()()),i&2){let o,c,l,u;q(3),ne("formGroup",r.form),q(8),ne("ngIf",((o=r.form.get("name"))==null?null:o.touched)&&((o=r.form.get("name"))==null?null:o.invalid)),q(5),ne("ngIf",((c=r.form.get("price"))==null?null:c.touched)&&((c=r.form.get("price"))==null?null:c.invalid)),q(8),ne("ngIf",((l=r.form.get("stock"))==null?null:l.touched)&&((l=r.form.get("stock"))==null?null:l.invalid)),q(5),ne("ngIf",((u=r.form.get("description"))==null?null:u.touched)&&((u=r.form.get("description"))==null?null:u.invalid)),q(2),ne("disabled",r.saving),q(2),ne("disabled",r.saving),q(),Je(r.saving?"Creando...":"Crear")}},dependencies:[Ct,Tt,pn,jn,an,wl,xl,sn,Dn,Fi,Ti],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000061;z-index:998}.modal-window[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;padding:20px;z-index:999}.modal-card[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:0 12px 30px #0b16212e;padding:16px;width:100%;max-width:580px}.dialog-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:0}.title[_ngcontent-%COMP%]{margin:0 0 4px;font-size:18px;font-weight:600;color:#0b1621}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:12px}@media (min-width: 640px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:8px 10px;border:1px solid #e3e7ea;border-radius:8px;font-size:14px}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px;margin-top:6px}.btn-cancel[_ngcontent-%COMP%]{background:transparent;border:1px solid #d0d7da;color:#21313a;padding:8px 12px;border-radius:8px}.btn-save[_ngcontent-%COMP%]{background:#008c75;color:#fff;border:none;padding:8px 12px;border-radius:8px}.form-alert[_ngcontent-%COMP%]{padding:8px 10px;border-radius:8px;font-size:14px}.form-alert.success[_ngcontent-%COMP%]{background:#e6f9f0;color:#006a53;border:1px solid #cfeee6}.form-alert.error[_ngcontent-%COMP%]{background:#fff0f0;color:#9b2b2b;border:1px solid #ffd6d6}.field-error[_ngcontent-%COMP%]{margin-top:6px}.field-error[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;color:#b22a2a;font-size:12px}"]})}}return e})();var ga=(()=>{class e{constructor(){this.url=`${ji.api}/product`,this.http=qe(li),this.header=Mt()}deleteProduct(t){return this.header=Mt(),this.http.delete(`${this.url}/${t}`,{headers:this.header})}findAll(){return this.header=Mt(),this.http.get(this.url,{headers:this.header})}createProduct(t){return this.header=Mt(),this.http.post(this.url,t,{headers:this.header})}updateProduct(t,i){return this.header=Mt(),this.http.put(`${this.url}/${t}`,i,{headers:this.header})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Ii({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function H1(e,n){e&1&&(x(0,"small"),M(1,"Solo letras y n\xFAmeros, entre 2 y 100 car\xE1cteres."),b())}function G1(e,n){e&1&&(x(0,"small"),M(1,"El nombre es obligatorio."),b())}function W1(e,n){if(e&1&&(x(0,"div",16),Ae(1,H1,2,0,"small",17)(2,G1,2,0,"small",17),b()),e&2){let t,i,r=we();q(),ne("ngIf",((t=r.form.get("name"))==null?null:t.hasError("pattern"))&&((t=r.form.get("name"))==null?null:t.touched)),q(),ne("ngIf",((i=r.form.get("name"))==null?null:i.hasError("required"))&&((i=r.form.get("name"))==null?null:i.touched))}}function $1(e,n){e&1&&(x(0,"small"),M(1,"El precio es obligatorio."),b())}function Z1(e,n){if(e&1&&(x(0,"div",16),Ae(1,$1,2,0,"small",17),b()),e&2){let t,i=we();q(),ne("ngIf",((t=i.form.get("price"))==null?null:t.hasError("required"))&&((t=i.form.get("price"))==null?null:t.touched))}}function Y1(e,n){e&1&&(x(0,"small"),M(1,"El stock es obligatorio."),b())}function K1(e,n){if(e&1&&(x(0,"div",16),Ae(1,Y1,2,0,"small",17),b()),e&2){let t,i=we();q(),ne("ngIf",((t=i.form.get("stock"))==null?null:t.hasError("required"))&&((t=i.form.get("stock"))==null?null:t.touched))}}function X1(e,n){e&1&&(x(0,"small"),M(1,"Solo letras y entre 8 y 200 caracteres"),b())}function J1(e,n){e&1&&(x(0,"small"),M(1,"La descripci\xF3n es obligatoria."),b())}function Q1(e,n){if(e&1&&(x(0,"div",16),Ae(1,X1,2,0,"small",17)(2,J1,2,0,"small",17),b()),e&2){let t,i,r=we();q(),ne("ngIf",((t=r.form.get("description"))==null?null:t.hasError("pattern"))&&((t=r.form.get("description"))==null?null:t.touched)),q(),ne("ngIf",((i=r.form.get("description"))==null?null:i.hasError("required"))&&((i=r.form.get("description"))==null?null:i.touched))}}function e2(e,n){if(e&1){let t=bt();x(0,"div",18)(1,"span"),M(2,"Confirmar cambios?"),b(),x(3,"button",19),Ne("click",function(){Re(t);let r=we();return Be(r.confirmYes())}),M(4,"S\xED"),b(),x(5,"button",20),Ne("click",function(){Re(t);let r=we();return Be(r.confirmNo())}),M(6,"No"),b()()}}function t2(e,n){if(e&1&&(x(0,"button",21),M(1,"Guardar"),b()),e&2){let t=we();ne("disabled",t.form.invalid)}}var of=(()=>{class e{constructor(){this.fb=qe(Di),this.productReq=qe(ga),this.popup=qe(hn),this.product=null,this.productId=null,this.saved=new Ft,this.cancelled=new Ft,this.form=this.fb.group({name:["",[rt.required,rt.pattern("^[a-zA-Z0-9\\s,\\.\\-\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD1\xFC\xDC]{2,100}$")]],price:[1,[rt.required,rt.min(1)]],stock:[1,[rt.required,rt.min(1)]],description:["",[rt.required,rt.pattern("^[a-zA-Z0-9\\s,\\.\\-\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD1\xFC\xDC]{8,200}$")]],iva:[!0]}),this.showConfirm=!1,this.pendingPayload=null}ngOnChanges(t){t.product&&this.product&&this.form.patchValue({name:this.product.name??"",price:this.product.price??0,stock:this.product.stock??0,description:this.product.description??"",iva:this.product.iva??!0})}cancel(){this.cancelled.emit()}onSubmit(){if(!(this.productId??this.product?._id)){this.saved.emit({error:"No product id provided"});return}let i=this.form.value,r={};if(["name","price","stock","description","iva"].forEach(o=>{let c=i[o],l=this.product?.[o];c!=null&&c!==""&&(l===void 0||c!==l)&&(r[o]=c)}),Object.keys(r).length===0){this.popup.showInfo("Sin cambios por guardar"),this.saved.emit({message:"Sin cambios por guardar"});return}this.pendingPayload=jr({},r),this.showConfirm=!0}confirmYes(){let t=this.productId??this.product?._id;if(!t||!this.pendingPayload){this.saved.emit({error:"No product id or payload"}),this.showConfirm=!1,this.pendingPayload=null,console.log("fallo aqui");return}let i=this.pendingPayload.name;if(i){this.productReq.findAll().subscribe({next:r=>{if(r.find(c=>c.name===i&&c._id!==t)){this.saved.emit({error:{message:"Nombre de producto ya registrado"}}),this.showConfirm=!1,this.pendingPayload=null;return}this.productReq.updateProduct(t,this.pendingPayload).subscribe({next:c=>{this.saved.emit(c),this.showConfirm=!1,this.pendingPayload=null},error:c=>{this.saved.emit({error:c}),this.showConfirm=!1,this.pendingPayload=null}})},error:()=>{this.productReq.updateProduct(t,this.pendingPayload).subscribe({next:r=>{this.saved.emit(r),this.showConfirm=!1,this.pendingPayload=null},error:r=>{this.saved.emit({error:r}),this.showConfirm=!1,this.pendingPayload=null}})}});return}this.productReq.updateProduct(t,this.pendingPayload).subscribe({next:r=>{this.popup.showSuccess("Cambios guardados"),this.saved.emit(),this.showConfirm=!1,this.pendingPayload=null},error:r=>{this.popup.showError(r.error.message),this.saved.emit(),this.showConfirm=!1,this.pendingPayload=null}})}confirmNo(){this.showConfirm=!1,this.pendingPayload=null}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=wt({type:e,selectors:[["app-editar-productos"]],inputs:{product:"product",productId:"productId"},outputs:{saved:"saved",cancelled:"cancelled"},standalone:!0,features:[la,yt],decls:29,vars:8,consts:[[1,"editar-producto-form",3,"ngSubmit","formGroup"],[1,"field"],["for","name"],["id","name","type","text","formControlName","name","placeholder","Nombre del producto"],["class","field-error",4,"ngIf"],["for","price"],["id","price","type","number","formControlName","price","placeholder","0.00","step","0.01"],["ft-12-500","","type","checkbox","formControlName","iva"],["for","stock"],["id","stock","type","number","formControlName","stock","placeholder","0"],["for","description"],["id","description","formControlName","description","placeholder","Descripci\xF3n breve"],[1,"actions"],["type","button",3,"click","disabled"],["class","confirm-box",4,"ngIf"],["type","submit",3,"disabled",4,"ngIf"],[1,"field-error"],[4,"ngIf"],[1,"confirm-box"],["type","button",1,"confirm-yes",3,"click"],["type","button",1,"confirm-no",3,"click"],["type","submit",3,"disabled"]],template:function(i,r){if(i&1&&(x(0,"form",0),Ne("ngSubmit",function(){return r.onSubmit()}),x(1,"div",1)(2,"label",2),M(3,"Nombre"),b(),Ge(4,"input",3),Ae(5,W1,3,2,"div",4),b(),x(6,"div",1)(7,"label",5),M(8,"Precio"),b(),Ge(9,"input",6),Ae(10,Z1,2,1,"div",4),b(),x(11,"label"),Ge(12,"input",7),M(13," Producto Incluye IVA "),b(),x(14,"div",1)(15,"label",8),M(16,"Stock"),b(),Ge(17,"input",9),Ae(18,K1,2,1,"div",4),b(),x(19,"div",1)(20,"label",10),M(21,"Descripci\xF3n"),b(),Ge(22,"textarea",11),Ae(23,Q1,3,2,"div",4),b(),x(24,"div",12)(25,"button",13),Ne("click",function(){return r.cancel()}),M(26,"Cancelar"),b(),Ae(27,e2,7,0,"div",14)(28,t2,2,1,"button",15),b()()),i&2){let o,c,l,u;ne("formGroup",r.form),q(5),ne("ngIf",((o=r.form.get("name"))==null?null:o.touched)&&((o=r.form.get("name"))==null?null:o.invalid)),q(5),ne("ngIf",((c=r.form.get("price"))==null?null:c.touched)&&((c=r.form.get("price"))==null?null:c.invalid)),q(8),ne("ngIf",((l=r.form.get("stock"))==null?null:l.touched)&&((l=r.form.get("stock"))==null?null:l.invalid)),q(5),ne("ngIf",((u=r.form.get("description"))==null?null:u.touched)&&((u=r.form.get("description"))==null?null:u.invalid)),q(2),ne("disabled",r.showConfirm),q(2),ne("ngIf",r.showConfirm),q(),ne("ngIf",!r.showConfirm)}},dependencies:[Ct,Tt,pn,jn,an,wl,xl,sn,Dn,Fi,Ti],styles:[".editar-producto-form[_ngcontent-%COMP%]{max-width:640px;width:100%;margin:0;padding:20px;background:#fff;border-radius:12px;box-shadow:0 8px 28px #10182814;display:flex;flex-direction:column;gap:12px}.editar-producto-form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.editar-producto-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;color:#334155;margin-bottom:6px;font-weight:600}.editar-producto-form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .editar-producto-form[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .editar-producto-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:44px;padding:0 12px;border:1px solid #e6e9ee;border-radius:8px;background:#fbfdff;transition:border-color .15s ease,box-shadow .15s ease;outline:none;font-size:14px;color:#0f1724}.editar-producto-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:90px;padding-top:8px}.editar-producto-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .editar-producto-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#2563eb;box-shadow:0 10px 24px #2563eb14}.editar-producto-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px}.editar-producto-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:96px;height:40px;padding:0 14px;border-radius:8px;border:none;cursor:pointer;font-weight:700}.editar-producto-form[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{background:#f3f4f6;color:#111827}.editar-producto-form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background:linear-gradient(90deg,#0ea5e9,#2563eb);color:#fff}@media (max-width: 560px){.editar-producto-form[_ngcontent-%COMP%]{padding:14px}}.confirm-box[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;background:#fff9f0;border:1px solid #f59e0b;padding:6px 8px;border-radius:8px}.confirm-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;color:#7c2d12}.confirm-box[_ngcontent-%COMP%]   .confirm-yes[_ngcontent-%COMP%]{background:#10b981;color:#fff;border:none;padding:6px 10px;border-radius:6px;cursor:pointer}.confirm-box[_ngcontent-%COMP%]   .confirm-no[_ngcontent-%COMP%]{background:#ef4444;color:#fff;border:none;padding:6px 10px;border-radius:6px;cursor:pointer}.field-error[_ngcontent-%COMP%]{margin-top:6px}.field-error[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;color:#b22a2a;font-size:12px}.editar-cliente-form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background:linear-gradient(90deg,#2563eb,#5b8def);color:#fff;box-shadow:0 8px 20px #2563eb1f}.editar-cliente-form[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed;box-shadow:none}"]})}}return e})();function n2(e,n){if(e&1){let t=bt();x(0,"button",12),Ne("click",function(){Re(t);let r=we();return Be(r.openCreateProduct())}),M(1,"Agregar Producto"),b()}}function i2(e,n){if(e&1){let t=bt();x(0,"app-create-producto",13),Ne("create",function(r){Re(t);let o=we();return Be(o.onCreateProduct(r))})("close",function(){Re(t);let r=we();return Be(r.closeCreateProduct())}),b()}}function r2(e,n){e&1&&(x(0,"th"),M(1,"Acciones"),b())}function o2(e,n){if(e&1){let t=bt();x(0,"td")(1,"button",14),Ne("click",function(){Re(t);let r=we().$implicit,o=we();return Be(o.editProduct(r._id))}),M(2,"Editar"),b(),x(3,"button",15),Ne("click",function(){Re(t);let r=we().$implicit,o=we();return Be(o.onDelete(r._id))}),M(4,"Eliminar"),b()()}}function a2(e,n){if(e&1&&(x(0,"tr")(1,"td"),M(2),b(),x(3,"td"),M(4),on(5,"currency"),b(),x(6,"td"),M(7),b(),x(8,"td"),M(9),b(),Ae(10,o2,5,0,"td",9),b()),e&2){let t=n.$implicit,i=we();q(2),Je(t.name),q(2),Je(Du(5,5,t.price,"USD","symbol","1.2-2")),q(3),Je(t.stock),q(2),Je(t.description),q(),ne("ngIf",i.user.User.role=="Admin")}}function s2(e,n){if(e&1){let t=bt();x(0,"div",16),Ne("click",function(){Re(t);let r=we();return Be(r.editingProduct=null)}),x(1,"div",17),Ne("click",function(r){return Re(t),Be(r.stopPropagation())}),x(2,"app-editar-productos",18),Ne("saved",function(r){Re(t);let o=we();return Be(o.handleEditSaved(r))})("cancelled",function(){Re(t);let r=we();return Be(r.editingProduct=null)}),b()()()}if(e&2){let t=we();q(2),ne("product",t.editingProduct)("productId",t.editingProduct._id)}}var af=(()=>{class e{constructor(){this.showCreateForm=!1,this.products=[],this.allProducts=[],this.productService=qe(ga),this.popup=qe(hn),this.editingProduct=null,this.inpSearch=new dr(""),this.user=bi.getInstance()}ngOnInit(){this.gets(),this.searchSub=this.inpSearch.valueChanges.pipe(sr(250),lr()).subscribe(()=>this.applyLocalFilter())}ngOnDestroy(){this.searchSub?.unsubscribe()}gets(){this.productService.findAll().subscribe({next:t=>{this.products=t,this.allProducts=Array.isArray(t)?t:[]}})}openCreateProduct(){this.showCreateForm=!0}closeCreateProduct(){this.showCreateForm=!1}onCreateProduct(t){this.productService.createProduct(jr({},t)).subscribe({next:i=>{this.popup.showSuccess("Producto agregado"),this.gets()},error:i=>{this.popup.showError(i.error.message)}}),this.showCreateForm=!1}onDelete(t){window.confirm("\xBFEst\xE1s seguro que deseas eliminar este producto?")&&this.productService.deleteProduct(t).subscribe({next:r=>{this.popup.showSuccess("Producto eliminado"),this.gets()},error:r=>{this.popup.showError(r?.error?.message||"Error al eliminar producto")}})}editProduct(t){let i=this.products.find(r=>r._id===t);if(i){this.editingProduct=i;return}this.productService.findAll().subscribe({next:r=>{let o=r.find(c=>c._id===t);o&&(this.editingProduct=o)},error:()=>this.popup.showError("No se pudo cargar el producto")})}applyLocalFilter(){let t=(this.inpSearch.value||"").toString().toLowerCase().trim();if(!t){this.products=[...this.allProducts];return}this.products=this.allProducts.filter(i=>{let r=(i.name||"").toString().toLowerCase(),o=(i.description||"").toString().toLowerCase();return r.includes(t)||o.includes(t)})}handleEditSaved(t){this.editingProduct=null,this.gets()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=wt({type:e,selectors:[["app-products"]],standalone:!0,features:[yt],decls:28,vars:6,consts:[[1,"cont-prin-products"],[1,"section-1"],[1,"user-actions"],["type","button","class","btn-add-user",3,"click",4,"ngIf"],[3,"create","close",4,"ngIf"],[1,"input-search"],["placeholder","Buscar Producto","type","text",1,"sub-top-inp","inp-a",3,"formControl"],[1,"section-products"],[1,"products-table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],["type","button",1,"btn-add-user",3,"click"],[3,"create","close"],["type","button",1,"btn-edit",3,"click"],["type","button",1,"btn-delete",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[3,"saved","cancelled","product","productId"]],template:function(i,r){i&1&&(x(0,"div",0)(1,"section",1)(2,"div")(3,"h1"),M(4,"Gesti\xF3n de Productos"),b(),x(5,"p"),M(6,"Administra los productos desde esta secci\xF3n."),b()(),x(7,"div",2),Ae(8,n2,2,0,"button",3),b()(),Ae(9,i2,1,0,"app-create-producto",4),x(10,"div",5),Ge(11,"input",6),b(),x(12,"section",7)(13,"table",8)(14,"thead")(15,"tr")(16,"th"),M(17,"Nombre"),b(),x(18,"th"),M(19,"Precio"),b(),x(20,"th"),M(21,"Stock"),b(),x(22,"th"),M(23,"Descripci\xF3n"),b(),Ae(24,r2,2,0,"th",9),b()(),x(25,"tbody"),Ae(26,a2,11,10,"tr",10),b()()(),Ae(27,s2,3,2,"div",11),b()),i&2&&(q(8),ne("ngIf",r.user.User.role=="Admin"),q(),ne("ngIf",r.showCreateForm),q(2),ne("formControl",r.inpSearch),q(13),ne("ngIf",r.user.User.role=="Admin"),q(2),ne("ngForOf",r.products),q(),ne("ngIf",r.editingProduct))},dependencies:[Ct,Tn,Tt,zu,rf,of,pn,an,sn,ur],styles:['@charset "UTF-8";.cont-prin-products[_ngcontent-%COMP%]{padding:20px}.section-1[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.btn-add-user[_ngcontent-%COMP%]{padding:10px 16px;border:none;border-radius:8px;background:#144b9d;color:#fff;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn-add-user[_ngcontent-%COMP%]:hover{background:#1d6ddc}.btn-add-user[_ngcontent-%COMP%]:active{background:#0e3a73}.products-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#fff;border-radius:8px;overflow:hidden}.products-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .products-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 10px;text-align:left;border-bottom:1px solid #eef2f2}.products-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f7faf9;font-weight:600}.btn-edit[_ngcontent-%COMP%]{margin-right:8px;padding:6px 10px;border-radius:6px;border:1px solid #d0d7da;background:transparent;cursor:pointer}.btn-delete[_ngcontent-%COMP%]{padding:6px 10px;border-radius:6px;border:1px solid #ffc6c0;background:#ffebe9;color:#b22a2a;cursor:pointer}@media (max-width: 700px){.products-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.products-table[_ngcontent-%COMP%], .products-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .products-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .products-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;width:100%}.products-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{margin-bottom:12px}.products-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:50%;position:relative}.products-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{position:absolute;left:10px;width:40%;white-space:nowrap;font-weight:600}.products-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(1):before{content:"Nombre"}.products-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(2):before{content:"Precio"}.products-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(3):before{content:"Stock"}.products-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(4):before{content:"Descripci\\f3n"}.products-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(5):before{content:"Acciones"}}.cont-prin-products[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:24px;gap:20px;box-sizing:border-box}.section-1[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:26px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0c141e7a;display:flex;align-items:center;justify-content:center;z-index:9999;padding:24px}.modal-content[_ngcontent-%COMP%]{width:100%;max-width:720px;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]   app-editar-productos[_ngcontent-%COMP%]{width:100%}.input-search[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;box-sizing:border-box;margin:0 auto;padding:8px 0}.input-search[_ngcontent-%COMP%]   .sub-top-inp[_ngcontent-%COMP%], .input-search[_ngcontent-%COMP%]   .inp-a[_ngcontent-%COMP%]{width:100%;max-width:640px;background:#ffffffe6;border:1px solid rgba(11,22,33,.08);box-shadow:0 6px 18px #0b16210f;padding:10px 16px;border-radius:999px;font-size:14px;outline:none;transition:box-shadow .12s ease,transform .12s ease}.input-search[_ngcontent-%COMP%]   .sub-top-inp[_ngcontent-%COMP%]:focus, .input-search[_ngcontent-%COMP%]   .inp-a[_ngcontent-%COMP%]:focus{box-shadow:0 8px 22px #0b16211f;transform:translateY(-1px)}@media (max-width: 680px){.input-search[_ngcontent-%COMP%]   .sub-top-inp[_ngcontent-%COMP%], .input-search[_ngcontent-%COMP%]   .inp-a[_ngcontent-%COMP%]{max-width:100%;border-radius:12px}}']})}}return e})();function l2(e,n){if(e&1&&(x(0,"option",8),M(1),b()),e&2){let t=n.$implicit;ne("ngValue",t._id),q(),ds("",t.name," \u2014 ",t.email,"")}}function c2(e,n){if(e&1&&(x(0,"div",22)(1,"small"),M(2),b()()),e&2){let t=we();q(2),ds("Productos disponibles: ",t.products.length," \u2014 Filtrados: ",t.filteredProducts.length,"")}}function d2(e,n){if(e&1){let t=bt();x(0,"div",23)(1,"div",24)(2,"div",25),M(3),b(),x(4,"div",26),M(5),on(6,"number"),b()(),x(7,"div",27)(8,"small"),M(9),b(),x(10,"button",28),Ne("click",function(){let r=Re(t).$implicit,o=we();return Be(o.addToCart(r))}),M(11,"Agregar"),b()()()}if(e&2){let t=n.$implicit;q(3),Je(t.name),q(2),Je(On(6,4,t.price,"1.2-2")),q(4),Bt("Stock: ",t.stock,""),q(),ne("disabled",t.stock<=0)}}function u2(e,n){e&1&&(x(0,"div"),M(1,"No hay productos seleccionados."),b())}function f2(e,n){if(e&1&&(x(0,"div",31),M(1),b()),e&2){let t=we().$implicit;q(),Bt("IVA $",t.product.price*t.quantity*.16,"")}}function p2(e,n){if(e&1){let t=bt();x(0,"div",29)(1,"div",30),M(2),b(),Ae(3,f2,2,1,"div",31),x(4,"div",32)(5,"input",33),Ne("input",function(r){let o=Re(t).$implicit,c=we();return Be(c.setQuantity(o.product,r.target.value))}),b()(),x(6,"div",34)(7,"button",35),Ne("click",function(){let r=Re(t).$implicit,o=we();return Be(o.removeFromCart(r.product))}),M(8,"Eliminar"),b()()()}if(e&2){let t=n.$implicit;q(2),Je(t.product.name),q(),ca(3,t.product.iva==!0?3:-1),q(2),ne("value",t.quantity)("min",1)("max",t.product.stock)}}var sf=(()=>{class e{constructor(){this.clients=[],this.products=[],this.create=new Ft,this.close=new Ft,this.selectedClientId=null,this.quantities={},this.selectedProducts=[],this.searchTerm=""}get filteredProducts(){let t=(this.searchTerm||"").toLowerCase().trim();return t?(this.products||[]).filter(i=>(i.name||"").toLowerCase().includes(t)):this.products||[]}onClose(){this.close.emit()}addToCart(t){this.selectedProducts.find(r=>r.product._id==t._id)||this.selectedProducts.push({product:t,quantity:1})}removeFromCart(t){this.selectedProducts=this.selectedProducts.filter(i=>i.product._id!=t._id)}getTotal(){let t=0;for(let i of this.selectedProducts)t+=i.quantity*i.product.price;return t}getTotalIVA(){let t=0;for(let i of this.selectedProducts)i.product.iva&&(t+=i.quantity*i.product.price*.16);return t}setQuantity(t,i){let r=this.selectedProducts.find(c=>c.product._id==t._id);if(!r)return;let o=Math.max(1,Math.min(Math.floor(i)||1,r.product.stock??0));t.stock<i&&alert(`El producto ${t.name} no tiene el suficiente stock para su orden`),r.quantity=o}saveOrder(){if(!this.selectedClientId){alert("Selecciona un cliente para la orden.");return}if(this.selectedProducts.length==0){alert("Selecciona al menos un producto para la orden.");return}let t=[];for(let r of this.selectedProducts){if(r.product.stock<r.quantity){alert(`El producto ${r.product.name} no tiene el suficiente stock para su orden`);return}t.push({productId:r.product._id,quantity:r.quantity})}let i={userId:this.user?._id,clientId:this.selectedClientId,details:t};this.create.emit(i)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=wt({type:e,selectors:[["app-create-orden"]],inputs:{clients:"clients",products:"products",user:"user"},outputs:{create:"create",close:"close"},standalone:!0,features:[yt],decls:45,vars:20,consts:[[1,"modal-overlay",3,"click"],["role","dialog","aria-modal","true",1,"modal-window",3,"click"],[1,"modal-card"],[1,"dialog-form",3,"submit"],[1,"title"],[1,"form-grid"],[1,"form-field"],["name","selectedClient","aria-label","Seleccionar cliente",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["class","debug-counts",4,"ngIf"],[1,"products-search"],["name","searchTerm","type","search","placeholder","Buscar producto...",3,"ngModelChange","ngModel"],[1,"products-list"],["class","product-card",4,"ngFor","ngForOf"],[1,"cart-list"],[4,"ngIf"],["class","cart-item",4,"ngFor","ngForOf"],[1,"order-summary"],[1,"modal-actions"],["type","button",1,"btn-cancel",3,"click"],["type","submit",1,"btn-save"],[1,"debug-counts"],[1,"product-card"],[1,"prod-main"],[1,"prod-name"],[1,"prod-price"],[1,"prod-meta"],["type","button",3,"click","disabled"],[1,"cart-item"],[1,"cart-name"],["ft-12-500",""],[1,"cart-qty"],["type","number",3,"input","value","min","max"],[1,"cart-remove"],["type","button",3,"click"]],template:function(i,r){i&1&&(x(0,"div",0),Ne("click",function(){return r.onClose()}),b(),x(1,"div",1),Ne("click",function(c){return c.stopPropagation()}),x(2,"div",2)(3,"form",3),Ne("submit",function(c){return r.saveOrder(),c.preventDefault()}),x(4,"h3",4),M(5,"Crear orden"),b(),x(6,"div",5)(7,"label",6)(8,"span"),M(9,"Cliente"),b(),x(10,"select",7),Rc("ngModelChange",function(c){return jc(r.selectedClientId,c)||(r.selectedClientId=c),c}),x(11,"option",8),M(12,"-- Selecciona cliente --"),b(),Ae(13,l2,2,3,"option",9),b()()(),Ae(14,c2,3,2,"div",10),x(15,"h4"),M(16,"Agregar productos"),b(),x(17,"div",11)(18,"input",12),Rc("ngModelChange",function(c){return jc(r.searchTerm,c)||(r.searchTerm=c),c}),b()(),x(19,"div",13),Ae(20,d2,12,7,"div",14),b(),x(21,"h4"),M(22,"Productos en la orden"),b(),x(23,"div",15),Ae(24,u2,2,0,"div",16)(25,p2,9,5,"div",17),b(),x(26,"div",18)(27,"strong"),M(28,"Total:"),b(),M(29),on(30,"number"),x(31,"strong"),M(32,"IVA:"),b(),M(33),on(34,"number"),b(),x(35,"div",18)(36,"strong"),M(37,"TOTAL + IVA:"),b(),M(38),on(39,"number"),b(),x(40,"div",19)(41,"button",20),Ne("click",function(){return r.onClose()}),M(42,"Cancelar"),b(),x(43,"button",21),M(44,"Crear orden"),b()()()()()),i&2&&(q(10),Dc("ngModel",r.selectedClientId),q(),ne("ngValue",null),q(2),ne("ngForOf",r.clients),q(),ne("ngIf",r.products),q(4),Dc("ngModel",r.searchTerm),q(2),ne("ngForOf",r.filteredProducts),q(4),ne("ngIf",r.selectedProducts.length===0),q(),ne("ngForOf",r.selectedProducts),q(4),Bt(" ",On(30,11,r.getTotal(),"1.2-2")," "),q(4),Bt(" ",On(34,14,r.getTotalIVA(),"1.2-2")," "),q(5),Bt(" ",On(39,17,r.getTotal()+r.getTotalIVA(),"1.2-2")," "))},dependencies:[Ct,Tn,Tt,cr,ha,jn,fa,pa,an,ua,sn,Dn,Gu,da],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000061;z-index:998}.modal-window[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;padding:20px;z-index:999;overflow-y:auto}.modal-card[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:0 12px 30px #0b16212e;padding:16px;width:100%;max-width:760px}.dialog-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:0;min-width:0}.title[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;font-weight:600;color:#0b1621}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:12px}@media (min-width: 640px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.form-field[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:13px;color:#21313a;font-weight:600}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:8px 10px;border:1px solid #e3e7ea;border-radius:8px;font-size:14px;background:#fff;box-sizing:border-box}.products-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px 10px;border:1px solid #e3e7ea;border-radius:8px;margin-bottom:10px}.products-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:8px;max-height:240px;overflow:auto}@media (min-width: 640px){.products-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.product-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px;border:1px solid #eef2f4;border-radius:8px;background:#fff}.product-card[_ngcontent-%COMP%]   .prod-main[_ngcontent-%COMP%]{display:flex;flex-direction:column}.product-card[_ngcontent-%COMP%]   .prod-name[_ngcontent-%COMP%]{font-weight:600;color:#0b1621}.product-card[_ngcontent-%COMP%]   .prod-price[_ngcontent-%COMP%]{color:#006a53;font-weight:600}.product-card[_ngcontent-%COMP%]   .prod-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.product-card[_ngcontent-%COMP%]   .prod-meta[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#5b6b70}.product-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#008c75;color:#fff;border:none;padding:6px 8px;border-radius:6px;cursor:pointer}.cart-list[_ngcontent-%COMP%]{margin-top:8px;display:flex;flex-direction:column;gap:6px;max-height:200px;overflow:auto}.cart-item[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;padding:6px 8px;border-radius:6px;border:1px solid #f0f4f5}.cart-name[_ngcontent-%COMP%]{flex:1;font-weight:600;color:#0b1621}.cart-qty[_ngcontent-%COMP%]{width:96px}.cart-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:72px;padding:6px;border:1px solid #e3e7ea;border-radius:6px}.cart-remove[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:1px solid #ddd;padding:6px 8px;border-radius:6px;cursor:pointer}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px;margin-top:12px}.btn-cancel[_ngcontent-%COMP%]{background:transparent;border:1px solid #d0d7da;color:#21313a;padding:8px 12px;border-radius:8px;cursor:pointer}.btn-save[_ngcontent-%COMP%]{background:#008c75;color:#fff;border:none;padding:8px 12px;border-radius:8px;cursor:pointer}.full[_ngcontent-%COMP%]{width:100%}"]})}}return e})();var lf=(()=>{class e{constructor(){this.create=new Ft,this.close=new Ft,this.selectedOrder="",this.orderServices=qe(ao),this.popup=qe(hn)}onClose(){this.close.emit()}saveOrder(){this.create.emit({orderId:this.selectedOrder})}onFileSelected(t){let i=t.target.files[0];i&&(this.file=i)}sendFile(){this.file&&this.order?._id&&this.orderServices.updateOrder(this.order._id,{imageBase64:this.file}).subscribe({next:t=>{this.popup.showSuccess("Comprobante de Pago cargado")},error:t=>{this.popup.showError(t?.error?.message||"Error al cargar comprobante")}})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=wt({type:e,selectors:[["edit-order"]],inputs:{order:"order"},outputs:{create:"create",close:"close"},standalone:!0,features:[yt],decls:17,vars:1,consts:[[1,"modal-overlay",3,"click"],["role","dialog","aria-modal","true",1,"modal-window",3,"click"],[1,"modal-card"],[1,"dialog-form",3,"submit"],[1,"title"],["flex-col",""],[1,"form-field"],[2,"height","1em"],["type","file",3,"change"],[1,"modal-actions"],["type","button",1,"btn-cancel",3,"click"],["type","submit",1,"btn-save",3,"click"]],template:function(i,r){i&1&&(x(0,"div",0),Ne("click",function(){return r.onClose()}),b(),x(1,"div",1),Ne("click",function(c){return c.stopPropagation()}),x(2,"div",2)(3,"form",3),Ne("submit",function(c){return r.saveOrder(),c.preventDefault()}),x(4,"h3",4),M(5,"Cargar Comprobante de Pago"),b(),x(6,"div",5)(7,"label",6)(8,"span"),M(9),b()(),Ge(10,"div",7),x(11,"input",8),Ne("change",function(c){return r.onFileSelected(c)}),b()(),x(12,"div",9)(13,"button",10),Ne("click",function(){return r.onClose()}),M(14,"Cancelar"),b(),x(15,"button",11),Ne("click",function(){return r.sendFile()}),M(16,"Cargar Comprobante"),b()()()()()),i&2&&(q(9),Bt("Pedido #",r.order==null?null:r.order.orderId,""))},dependencies:[Ct,ha,jn,Dn,da],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000061;z-index:998}.modal-window[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;padding:20px;z-index:999}.modal-card[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:0 12px 30px #0b16212e;padding:16px;width:100%;max-width:760px}.dialog-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:0;min-width:0}.title[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;font-weight:600;color:#0b1621}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:12px}@media (min-width: 640px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.form-field[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:13px;color:#21313a;font-weight:600}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:8px 10px;border:1px solid #e3e7ea;border-radius:8px;font-size:14px;background:#fff;box-sizing:border-box}.products-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px 10px;border:1px solid #e3e7ea;border-radius:8px;margin-bottom:10px}.products-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:8px;max-height:240px;overflow:auto}@media (min-width: 640px){.products-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.product-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px;border:1px solid #eef2f4;border-radius:8px;background:#fff}.product-card[_ngcontent-%COMP%]   .prod-main[_ngcontent-%COMP%]{display:flex;flex-direction:column}.product-card[_ngcontent-%COMP%]   .prod-name[_ngcontent-%COMP%]{font-weight:600;color:#0b1621}.product-card[_ngcontent-%COMP%]   .prod-price[_ngcontent-%COMP%]{color:#006a53;font-weight:600}.product-card[_ngcontent-%COMP%]   .prod-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.product-card[_ngcontent-%COMP%]   .prod-meta[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#5b6b70}.product-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#008c75;color:#fff;border:none;padding:6px 8px;border-radius:6px;cursor:pointer}.cart-list[_ngcontent-%COMP%]{margin-top:8px;display:flex;flex-direction:column;gap:6px;max-height:200px;overflow:auto}.cart-item[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;padding:6px 8px;border-radius:6px;border:1px solid #f0f4f5}.cart-name[_ngcontent-%COMP%]{flex:1;font-weight:600;color:#0b1621}.cart-qty[_ngcontent-%COMP%]{width:96px}.cart-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:72px;padding:6px;border:1px solid #e3e7ea;border-radius:6px}.cart-remove[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:1px solid #ddd;padding:6px 8px;border-radius:6px;cursor:pointer}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px;margin-top:12px}.btn-cancel[_ngcontent-%COMP%]{background:transparent;border:1px solid #d0d7da;color:#21313a;padding:8px 12px;border-radius:8px;cursor:pointer}.btn-save[_ngcontent-%COMP%]{background:#008c75;color:#fff;border:none;padding:8px 12px;border-radius:8px;cursor:pointer}.full[_ngcontent-%COMP%]{width:100%}"]})}}return e})();function h2(e,n){if(e&1){let t=bt();x(0,"app-create-orden",9),Ne("close",function(){Re(t);let r=we();return Be(r.closeCreateOrder())})("create",function(r){Re(t);let o=we();return Be(o.onCreateOrder(r))}),b()}if(e&2){let t=we();ne("clients",t.clients)("products",t.products)("user",t.currentSeller)}}function m2(e,n){if(e&1){let t=bt();x(0,"edit-order",10),Ne("close",function(){Re(t);let r=we();return Be(r.closeEdit())})("create",function(r){Re(t);let o=we();return Be(o.onEditOrder(r))}),b()}if(e&2){let t=we();ne("order",t.orderSelected)}}function g2(e,n){if(e&1){let t=bt();x(0,"button",25),Ne("click",function(r){Re(t);let o=we().$implicit,c=we(2);return r.stopPropagation(),Be(c.openEdit(o))}),M(1,"Cargar Pago"),b()}}function _2(e,n){if(e&1){let t=bt();x(0,"li")(1,"div",14)(2,"span",15),M(3),b(),x(4,"div",16)(5,"span",17),M(6),b(),x(7,"span",18),M(8),b(),x(9,"span",19),M(10),b(),x(11,"span",20),M(12),b()()(),x(13,"div",21),M(14),on(15,"number"),b(),x(16,"div",22),Ae(17,g2,2,0,"button",23),x(18,"button",24),Ne("click",function(r){let o=Re(t).$implicit,c=we(2);return r.stopPropagation(),Be(c.onDelete(o._id))}),M(19,"Eliminar"),b()()()}if(e&2){let t=n.$implicit;q(3),Bt("#",t.orderId,""),q(3),Bt("Cliente: ",(t.client==null?null:t.client.name)||"Cliente "+((t.client==null?null:t.client._id)||"\u2014"),""),q(2),Bt("Vendedor: ",(t.user==null?null:t.user.username)||"\u2014",""),q(2),Bt("",(t.details==null?null:t.details.length)||0," \xEDtems"),q(2),Bt("Estado: ",t.paid?"Pagado":"Esperando Comprobante",""),q(2),Je(On(15,7,t.total,"1.2-2")),q(3),ca(17,t.paid?-1:17)}}function v2(e,n){if(e&1&&(x(0,"section",11)(1,"h2"),M(2,"Pedidos recientes"),b(),x(3,"ul",12),Ae(4,_2,20,10,"li",13),b()()),e&2){let t=we();q(4),ne("ngForOf",t.orders)}}var cf=(()=>{class e{constructor(){this.showCreateOrder=!1,this.showEditOrder=!1,this.currentSeller=bi.getInstance().User,this.productService=qe(ga),this.orderService=qe(ao),this.clientService=qe(ma),this.popup=qe(hn),this.allOrders=[],this.inpSearch=new dr(""),this.orders=[],this.selectedOrder=null,this.clients=[],this.products=[]}openCreateOrder(){this.showCreateOrder=!0}closeCreateOrder(){this.showCreateOrder=!1}ngOnInit(){this.gets(),this.searchSub=this.inpSearch.valueChanges.pipe(sr(250),lr()).subscribe(()=>this.applyLocalFilter())}gets(){this.orderService.findAll().subscribe({next:t=>{this.orders=t,this.allOrders=t}}),this.productService.findAll().subscribe({next:t=>{this.products=t}}),this.clientService.findAll().subscribe({next:t=>{this.clients=t}})}selectOrder(t){this.selectedOrder=t}closeSelected(){this.selectedOrder=null}onCreateOrder(t){this.orderService.createOrder(t).subscribe({next:i=>{this.popup.showSuccess("Orden agregada"),this.showCreateOrder=!1,this.gets()},error:i=>{this.popup.showError(i.error.message)}})}formatDate(t){let i=new Date(t.toString());return new Intl.DateTimeFormat("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}).format(i)}onDelete(t){window.confirm("\xBFEst\xE1s seguro que deseas eliminar esta orden?")&&this.orderService.deleteOrder(t).subscribe({next:r=>{this.popup.showSuccess("Orden eliminado"),this.gets()},error:r=>{this.popup.showError(r?.error?.message||"Error al eliminar orden")}})}openEdit(t){this.orderSelected=t,this.showEditOrder=!0}closeEdit(){this.showEditOrder=!1,this.gets()}applyLocalFilter(){let t=(this.inpSearch.value||"").toString().toLowerCase().trim();if(!t){this.orders=[...this.allOrders];return}this.orders=this.allOrders.filter(i=>(i.client?.name||"").toString().toLowerCase().includes(t)||(i._id||"").toString().toLowerCase().includes(t))}onEditOrder(t){this.orderSelected=void 0,this.showEditOrder=!1,this.gets()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=wt({type:e,selectors:[["app-ordenes"]],standalone:!0,features:[yt],decls:15,vars:4,consts:[[1,"cont-prin-ordenes"],[1,"section-1"],[1,"user-actions"],["type","button",1,"btn-add-user",3,"click"],[1,"input-search"],["type","text","placeholder","Buscar Pedido por Cliente",1,"inp-a",3,"formControl"],[3,"clients","products","user","close","create",4,"ngIf"],[3,"order","close","create",4,"ngIf"],["class","section-2",4,"ngIf"],[3,"close","create","clients","products","user"],[3,"close","create","order"],[1,"section-2"],[1,"orders-list"],[4,"ngFor","ngForOf"],[1,"meta"],[1,"id-badge"],[1,"info"],[1,"client"],[1,"seller"],[1,"items"],[1,"status"],[1,"total"],[1,"order-actions"],["type","button",1,"btn-edit"],["type","button",1,"btn-delete",3,"click"],["type","button",1,"btn-edit",3,"click"]],template:function(i,r){i&1&&(x(0,"div",0)(1,"section",1)(2,"div")(3,"h1"),M(4,"Gesti\xF3n de Pedidos"),b(),x(5,"p"),M(6,"Administra las Pedidos desde esta secci\xF3n."),b()(),x(7,"div",2)(8,"button",3),Ne("click",function(){return r.openCreateOrder()}),M(9,"Agregar Pedido"),b()()(),x(10,"div",4),Ge(11,"input",5),b(),Ae(12,h2,1,3,"app-create-orden",6)(13,m2,1,1,"edit-order",7)(14,v2,5,1,"section",8),b()),i&2&&(q(11),ne("formControl",r.inpSearch),q(),ne("ngIf",r.showCreateOrder),q(),ne("ngIf",r.showEditOrder),q(),ne("ngIf",r.orders&&r.orders.length))},dependencies:[lf,Ct,Tn,Tt,cr,sf,pn,an,sn,ur],styles:['@charset "UTF-8";.cont-prin-ordenes[_ngcontent-%COMP%]{padding:20px}.section-1[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.btn-add-user[_ngcontent-%COMP%]{padding:10px 16px;border:none;border-radius:8px;background:#144b9d;color:#fff;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn-add-user[_ngcontent-%COMP%]:hover{background:#1d6ddc}.btn-add-user[_ngcontent-%COMP%]:active{background:#0e3a73}.section-2[_ngcontent-%COMP%]{margin-top:18px}.section-2[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 12px;font-size:16px;font-weight:700;color:#0b1621}.orders-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:grid;gap:8px}.orders-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;background:#fff;border:1px solid #eef2f4;border-radius:10px;box-shadow:0 4px 14px #0b16210a}.orders-list[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;color:#47585a;font-size:14px;justify-content:space-between;cursor:pointer}.orders-list[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .id-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;min-width:44px;height:28px;border-radius:8px;background:#f1f6fb;color:#144b9d;font-weight:700}.orders-list[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]{font-weight:600;color:#0b1621}.orders-list[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;justify-content:space-around;gap:40px}.orders-list[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .seller[_ngcontent-%COMP%]{color:#6b7a7f;font-size:13px}.orders-list[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{color:#6b7a7f}.orders-list[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{color:#4b5051;font-weight:700}.orders-list[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{font-weight:700;color:#008c75;min-width:120px;text-align:right}@media (max-width: 640px){.orders-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.orders-list[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{text-align:left}}.btn-delete[_ngcontent-%COMP%]{padding:6px 10px;border-radius:6px;border:1px solid #ffc6c0;background:#ffebe9;color:#b22a2a;cursor:pointer}.btn-edit[_ngcontent-%COMP%]{padding:6px 10px;border-radius:6px;border:1px solid #300bc4;background:#e9efff;color:#300bc4;cursor:pointer;margin-right:4px}.order-preview-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000073;display:flex;align-items:center;justify-content:center;z-index:9999}.order-preview-wrapper[_ngcontent-%COMP%]{position:relative}.close-preview[_ngcontent-%COMP%]{position:absolute;right:-12px;top:-12px;z-index:10000;width:44px;height:44px;padding:0;border:none;border-radius:50%;background:linear-gradient(135deg,#ff6b6b,#ff3b3b);box-shadow:0 6px 18px #ff3b3b2e;display:inline-flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:18px;line-height:1;cursor:pointer;transition:transform .12s ease,box-shadow .12s ease,opacity .12s ease;text-indent:-9999px}.close-preview[_ngcontent-%COMP%]:before{content:"\\d7";text-indent:0;font-size:20px;line-height:1;display:block}.close-preview[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.03);box-shadow:0 10px 24px #ff3b3b38}.close-preview[_ngcontent-%COMP%]:active{transform:scale(.98);opacity:.95}.close-preview[_ngcontent-%COMP%]:focus{outline:3px solid rgba(255,107,107,.22);outline-offset:2px}.input-search[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;box-sizing:border-box;margin:0 auto;padding:8px 0}.input-search[_ngcontent-%COMP%]   .sub-top-inp[_ngcontent-%COMP%], .input-search[_ngcontent-%COMP%]   .inp-a[_ngcontent-%COMP%]{width:100%;max-width:640px;background:#ffffffe6;border:1px solid rgba(11,22,33,.08);box-shadow:0 6px 18px #0b16210f;padding:10px 16px;border-radius:999px;font-size:14px;outline:none;transition:box-shadow .12s ease,transform .12s ease}.input-search[_ngcontent-%COMP%]   .sub-top-inp[_ngcontent-%COMP%]:focus, .input-search[_ngcontent-%COMP%]   .inp-a[_ngcontent-%COMP%]:focus{box-shadow:0 8px 22px #0b16211f;transform:translateY(-1px)}@media (max-width: 680px){.input-search[_ngcontent-%COMP%]   .sub-top-inp[_ngcontent-%COMP%], .input-search[_ngcontent-%COMP%]   .inp-a[_ngcontent-%COMP%]{max-width:100%;border-radius:12px}}']})}}return e})();var _a=(()=>{class e{constructor(){this.url=`${ji.api}/invoice`,this.http=qe(li),this.header=Mt()}deleteInvoice(t){return this.header=Mt(),this.http.delete(`${this.url}/${t}`,{headers:this.header})}findAll(){return this.header=Mt(),this.http.get(this.url,{headers:this.header})}createInvoice(t){return this.header=Mt(),this.http.post(this.url,t,{headers:this.header})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Ii({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var b2=e=>({selected:e});function x2(e,n){if(e&1){let t=bt();x(0,"div",12),Ne("tabindex",function(){return Re(t),Be(0)})("click",function(){let r=Re(t).$implicit,o=we();return Be(o.selectedOrder=r._id)}),x(1,"div",13)(2,"p"),M(3),b()(),x(4,"div",14),M(5),b(),x(6,"div",15),M(7),on(8,"date"),b(),x(9,"div"),M(10),on(11,"number"),b(),x(12,"div"),M(13),b()()}if(e&2){let t=n.$implicit,i=we();ne("ngClass",Fu(12,b2,i.selectedOrder===t._id)),q(3),Bt(" Orden ",t.orderId," "),q(2),Je((t.client==null?null:t.client.name)||"\u2014"),q(2),Je(On(8,6,t.date,"mediumDate")),q(3),Bt(" Total: ",On(11,9,t.total,"1.2-2")," "),q(3),Bt(" \xCDtems: ",(t.details==null?null:t.details.length)||0," ")}}var df=(()=>{class e{constructor(){this.orders=[],this.create=new Ft,this.close=new Ft,this.invoiceService=qe(_a),this.orderService=qe(ao),this.popup=qe(hn)}onClose(){this.close.emit()}ngOnInit(){this.orderService.findAllForInvoices().subscribe({next:t=>{this.orders=t}})}sendSubmit(){this.selectedOrder&&this.invoiceService.createInvoice({orderId:this.selectedOrder}).subscribe({next:t=>{this.popup.showSuccess("Factura creada"),this.create.emit()},error:t=>{this.popup.showError(t?.error?.message||"Error al crear la factura")}})}saveOrder(){this.create.emit()}formatDate(t){let i=new Date(t.toString());return new Intl.DateTimeFormat("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}).format(i)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=wt({type:e,selectors:[["app-create-invoice"]],outputs:{create:"create",close:"close"},standalone:!0,features:[yt],decls:17,vars:1,consts:[[1,"modal-overlay",3,"click"],["role","dialog","aria-modal","true",1,"modal-window",3,"click"],[1,"modal-card"],[1,"dialog-form",3,"submit"],[1,"title"],[1,"form-grid"],[1,"form-field"],["role","list",1,"orders-grid"],["class","order-card","role","button",3,"ngClass","tabindex","click",4,"ngFor","ngForOf"],[1,"modal-actions"],["type","button",1,"btn-cancel",3,"click"],["type","submit",1,"btn-save",3,"click"],["role","button",1,"order-card",3,"tabindex","click","ngClass"],[1,"order-label"],[1,"order-client"],[1,"order-date"]],template:function(i,r){i&1&&(x(0,"div",0),Ne("click",function(){return r.onClose()}),b(),x(1,"div",1),Ne("click",function(c){return c.stopPropagation()}),x(2,"div",2)(3,"form",3),Ne("submit",function(c){return c.preventDefault()}),x(4,"h3",4),M(5,"Crear Factura"),b(),x(6,"div",5)(7,"div",6)(8,"span"),M(9,"Orden"),b(),x(10,"div",7),Ae(11,x2,14,14,"div",8),b()()(),x(12,"div",9)(13,"button",10),Ne("click",function(){return r.onClose()}),M(14,"Cancelar"),b(),x(15,"button",11),Ne("click",function(){return r.sendSubmit()}),M(16,"Crear Factura"),b()()()()()),i&2&&(q(11),ne("ngForOf",r.orders))},dependencies:[Ct,Ru,Tn,cr,vl,ha,jn,Dn,da],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000061;z-index:998}.modal-window[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;padding:20px;z-index:999}.modal-card[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:0 12px 30px #0b16212e;padding:16px;width:100%;max-width:760px}.dialog-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:0;min-width:0}.title[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;font-weight:600;color:#0b1621}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:12px}@media (min-width: 640px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.form-field[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:13px;color:#21313a;font-weight:600}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:8px 10px;border:1px solid #e3e7ea;border-radius:8px;font-size:14px;background:#fff;box-sizing:border-box}.products-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px 10px;border:1px solid #e3e7ea;border-radius:8px;margin-bottom:10px}.products-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:8px;max-height:240px;overflow:auto}@media (min-width: 640px){.products-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.product-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px;border:1px solid #eef2f4;border-radius:8px;background:#fff}.product-card[_ngcontent-%COMP%]   .prod-main[_ngcontent-%COMP%]{display:flex;flex-direction:column}.product-card[_ngcontent-%COMP%]   .prod-name[_ngcontent-%COMP%]{font-weight:600;color:#0b1621}.product-card[_ngcontent-%COMP%]   .prod-price[_ngcontent-%COMP%]{color:#006a53;font-weight:600}.product-card[_ngcontent-%COMP%]   .prod-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.product-card[_ngcontent-%COMP%]   .prod-meta[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#5b6b70}.product-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#008c75;color:#fff;border:none;padding:6px 8px;border-radius:6px;cursor:pointer}.cart-list[_ngcontent-%COMP%]{margin-top:8px;display:flex;flex-direction:column;gap:6px;max-height:200px;overflow:auto}.cart-item[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;padding:6px 8px;border-radius:6px;border:1px solid #f0f4f5}.cart-name[_ngcontent-%COMP%]{flex:1;font-weight:600;color:#0b1621}.cart-qty[_ngcontent-%COMP%]{width:96px}.cart-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:72px;padding:6px;border:1px solid #e3e7ea;border-radius:6px}.cart-remove[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:1px solid #ddd;padding:6px 8px;border-radius:6px;cursor:pointer}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px;margin-top:12px}.btn-cancel[_ngcontent-%COMP%]{background:transparent;border:1px solid #d0d7da;color:#21313a;padding:8px 12px;border-radius:8px;cursor:pointer}.btn-save[_ngcontent-%COMP%]{background:#008c75;color:#fff;border:none;padding:8px 12px;border-radius:8px;cursor:pointer}.full[_ngcontent-%COMP%]{width:100%}.orders-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;align-items:center;margin-top:8px}.order-card[_ngcontent-%COMP%]{width:134px;height:92px;display:inline-flex;box-sizing:border-box;padding:8px;flex-direction:column;align-items:start;justify-content:center;background:#f7faf9;border:1px solid #e6eef2;border-radius:8px;cursor:pointer;font-size:12px;color:#0b1621;-webkit-user-select:none;user-select:none;transition:transform .12s ease,box-shadow .12s ease,background .12s ease}.order-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 18px #0b16210f}.order-card.selected[_ngcontent-%COMP%]{background:#008c75;color:#fff;border-color:#007a65}.order-label[_ngcontent-%COMP%]{font-weight:600}"]})}}return e})();function w2(e,n){if(e&1){let t=bt();x(0,"button",12),Ne("click",function(){Re(t);let r=we(2);return Be(r.onDelete(r.invoice._id))}),M(1,"Anular Factura"),b()}}function y2(e,n){if(e&1&&(x(0,"article",1)(1,"header",2)(2,"div",3),M(3),on(4,"date"),b()(),x(5,"div",4),M(6),b(),Ae(7,w2,2,0,"button",5),x(8,"div",6)(9,"div",7)(10,"span",8),M(11,"Pedido:"),b(),x(12,"span",9),M(13),b()(),x(14,"div",7)(15,"span",8),M(16,"Cliente:"),b(),x(17,"span",9),M(18),b()(),x(19,"div",7)(20,"span",8),M(21,"Vendedor:"),b(),x(22,"span",9),M(23),b()(),x(24,"div",7)(25,"span",8),M(26,"\xCDtems:"),b(),x(27,"span",9),M(28),b()()(),x(29,"footer",10)(30,"div",11),M(31,"Total: "),x(32,"strong"),M(33),on(34,"number"),b()()()()),e&2){let t=we();q(3),Je(On(4,8,t.invoice.date,"mediumDate")),q(3),Bt("Factura ",t.invoice._id,""),q(),ne("ngIf",t.invoice.status!="ANULADA"&&t.user.User.role=="Admin"),q(6),Je(t.invoice.order==null?null:t.invoice.order.orderId),q(5),Je((t.invoice.order==null||t.invoice.order.client==null?null:t.invoice.order.client.name)||"\u2014"),q(5),Je((t.invoice.order==null||t.invoice.order.user==null?null:t.invoice.order.user.username)||"\u2014"),q(5),Je((t.invoice.order==null||t.invoice.order.details==null?null:t.invoice.order.details.length)||0),q(5),Je(On(34,11,t.invoice.total,"1.2-2"))}}var uf=(()=>{class e{constructor(){this.invoice=null,this.invoiceService=qe(_a),this.popup=qe(hn),this.complete=new Ft,this.user=bi.getInstance()}onDelete(t){window.confirm("\xBFEst\xE1s seguro que deseas anular esta factura?")&&this.invoiceService.deleteInvoice(t).subscribe({next:r=>{this.popup.showSuccess("Factura Anulada"),this.complete.emit({})},error:r=>{this.popup.showError(r?.error?.message||"Error al Anular Factura")}})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=wt({type:e,selectors:[["app-card-invoice"]],inputs:{invoice:"invoice"},outputs:{complete:"complete"},standalone:!0,features:[yt],decls:1,vars:1,consts:[["class","card-invoice","style","cursor: pointer;",4,"ngIf"],[1,"card-invoice",2,"cursor","pointer"],[1,"card-header"],[1,"date"],[2,"color","rgb(87, 87, 87)","font-size","12px"],["type","button","class","btn-delete",3,"click",4,"ngIf"],[1,"card-body"],[1,"row"],[1,"label"],[1,"value"],[1,"card-footer"],[1,"total"],["type","button",1,"btn-delete",3,"click"]],template:function(i,r){i&1&&Ae(0,y2,35,14,"article",0),i&2&&ne("ngIf",r.invoice)},dependencies:[Ct,Tt,cr,vl],styles:[".card-invoice[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:0 8px 24px #1018280f;padding:14px;width:340px;height:fit-content;box-sizing:border-box;display:flex;flex-direction:column;gap:10px;font-family:Inter,Segoe UI,Roboto,Arial,sans-serif}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline}.btn-delete[_ngcontent-%COMP%]{padding:6px 10px;border-radius:6px;border:1px solid #ffc6c0;background:#ffebe9;color:#b22a2a;cursor:pointer}.card-header[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]{font-weight:700;color:#0f1724}.card-header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#6b7280;font-size:.9rem}.card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.card-body[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;gap:8px}.card-body[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#475569;font-weight:600;width:80px}.card-body[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#0f1724}.card-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.card-footer[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#0f1724}@media (max-width: 720px){.card-invoice[_ngcontent-%COMP%]{width:100%}}"]})}}return e})();var Zi=Uint8Array,wi=Uint16Array,Vc=Int32Array,Hc=new Zi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Gc=new Zi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ff=new Zi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gf=function(e,n){for(var t=new wi(31),i=0;i<31;++i)t[i]=n+=1<<e[i-1];for(var r=new Vc(t[30]),i=1;i<30;++i)for(var o=t[i];o<t[i+1];++o)r[o]=o-t[i]<<5|i;return{b:t,r}},_f=gf(Hc,2),C2=_f.b,zc=_f.r;C2[28]=258,zc[258]=28;var vf=gf(Gc,0),i3=vf.b,pf=vf.r,Uc=new wi(32768);for(zt=0;zt<32768;++zt)Br=(zt&43690)>>1|(zt&21845)<<1,Br=(Br&52428)>>2|(Br&13107)<<2,Br=(Br&61680)>>4|(Br&3855)<<4,Uc[zt]=((Br&65280)>>8|(Br&255)<<8)>>1;var Br,zt,ps=function(e,n,t){for(var i=e.length,r=0,o=new wi(n);r<i;++r)e[r]&&++o[e[r]-1];var c=new wi(n);for(r=1;r<n;++r)c[r]=c[r-1]+o[r-1]<<1;var l;if(t){l=new wi(1<<n);var u=15-n;for(r=0;r<i;++r)if(e[r])for(var p=r<<4|e[r],g=n-e[r],S=c[e[r]-1]++<<g,A=S|(1<<g)-1;S<=A;++S)l[Uc[S]>>u]=p}else for(l=new wi(i),r=0;r<i;++r)e[r]&&(l[r]=Uc[c[e[r]-1]++]>>15-e[r]);return l},jo=new Zi(288);for(zt=0;zt<144;++zt)jo[zt]=8;var zt;for(zt=144;zt<256;++zt)jo[zt]=9;var zt;for(zt=256;zt<280;++zt)jo[zt]=7;var zt;for(zt=280;zt<288;++zt)jo[zt]=8;var zt,Cl=new Zi(32);for(zt=0;zt<32;++zt)Cl[zt]=5;var zt,S2=ps(jo,9,0);var P2=ps(Cl,5,0);var bf=function(e){return(e+7)/8|0},A2=function(e,n,t){return(n==null||n<0)&&(n=0),(t==null||t>e.length)&&(t=e.length),new Zi(e.subarray(n,t))};var zr=function(e,n,t){t<<=n&7;var i=n/8|0;e[i]|=t,e[i+1]|=t>>8},us=function(e,n,t){t<<=n&7;var i=n/8|0;e[i]|=t,e[i+1]|=t>>8,e[i+2]|=t>>16},Bc=function(e,n){for(var t=[],i=0;i<e.length;++i)e[i]&&t.push({s:i,f:e[i]});var r=t.length,o=t.slice();if(!r)return{t:wf,l:0};if(r==1){var c=new Zi(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(ce,ye){return ce.f-ye.f}),t.push({s:-1,f:25001});var l=t[0],u=t[1],p=0,g=1,S=2;for(t[0]={s:-1,f:l.f+u.f,l,r:u};g!=r-1;)l=t[t[p].f<t[S].f?p++:S++],u=t[p!=g&&t[p].f<t[S].f?p++:S++],t[g++]={s:-1,f:l.f+u.f,l,r:u};for(var A=o[0].s,i=1;i<r;++i)o[i].s>A&&(A=o[i].s);var h=new wi(A+1),j=qc(t[g-1],h,0);if(j>n){var i=0,L=0,B=j-n,k=1<<B;for(o.sort(function(ye,_e){return h[_e.s]-h[ye.s]||ye.f-_e.f});i<r;++i){var Y=o[i].s;if(h[Y]>n)L+=k-(1<<j-h[Y]),h[Y]=n;else break}for(L>>=B;L>0;){var K=o[i].s;h[K]<n?L-=1<<n-h[K]++-1:++i}for(;i>=0&&L;--i){var V=o[i].s;h[V]==n&&(--h[V],++L)}j=n}return{t:new Zi(h),l:j}},qc=function(e,n,t){return e.s==-1?Math.max(qc(e.l,n,t+1),qc(e.r,n,t+1)):n[e.s]=t},hf=function(e){for(var n=e.length;n&&!e[--n];);for(var t=new wi(++n),i=0,r=e[0],o=1,c=function(u){t[i++]=u},l=1;l<=n;++l)if(e[l]==r&&l!=n)++o;else{if(!r&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(r),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(r);o=1,r=e[l]}return{c:t.subarray(0,i),n}},fs=function(e,n){for(var t=0,i=0;i<n.length;++i)t+=e[i]*n[i];return t},xf=function(e,n,t){var i=t.length,r=bf(n+2);e[r]=i&255,e[r+1]=i>>8,e[r+2]=e[r]^255,e[r+3]=e[r+1]^255;for(var o=0;o<i;++o)e[r+o+4]=t[o];return(r+4+i)*8},mf=function(e,n,t,i,r,o,c,l,u,p,g){zr(n,g++,t),++r[256];for(var S=Bc(r,15),A=S.t,h=S.l,j=Bc(o,15),L=j.t,B=j.l,k=hf(A),Y=k.c,K=k.n,V=hf(L),ce=V.c,ye=V.n,_e=new wi(19),Q=0;Q<Y.length;++Q)++_e[Y[Q]&31];for(var Q=0;Q<ce.length;++Q)++_e[ce[Q]&31];for(var z=Bc(_e,7),oe=z.t,O=z.l,T=19;T>4&&!oe[ff[T-1]];--T);var W=p+5<<3,G=fs(r,jo)+fs(o,Cl)+c,le=fs(r,A)+fs(o,L)+c+14+3*T+fs(_e,oe)+2*_e[16]+3*_e[17]+7*_e[18];if(u>=0&&W<=G&&W<=le)return xf(n,g,e.subarray(u,u+p));var fe,he,se,ge;if(zr(n,g,1+(le<G)),g+=2,le<G){fe=ps(A,h,0),he=A,se=ps(L,B,0),ge=L;var Me=ps(oe,O,0);zr(n,g,K-257),zr(n,g+5,ye-1),zr(n,g+10,T-4),g+=14;for(var Q=0;Q<T;++Q)zr(n,g+3*Q,oe[ff[Q]]);g+=3*T;for(var Pe=[Y,ce],C=0;C<2;++C)for(var R=Pe[C],Q=0;Q<R.length;++Q){var U=R[Q]&31;zr(n,g,Me[U]),g+=oe[U],U>15&&(zr(n,g,R[Q]>>5&127),g+=R[Q]>>12)}}else fe=S2,he=jo,se=P2,ge=Cl;for(var Q=0;Q<l;++Q){var $=i[Q];if($>255){var U=$>>18&31;us(n,g,fe[U+257]),g+=he[U+257],U>7&&(zr(n,g,$>>23&31),g+=Hc[U]);var J=$&31;us(n,g,se[J]),g+=ge[J],J>3&&(us(n,g,$>>5&8191),g+=Gc[J])}else us(n,g,fe[$]),g+=he[$]}return us(n,g,fe[256]),g+he[256]},O2=new Vc([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),wf=new Zi(0),N2=function(e,n,t,i,r,o){var c=o.z||e.length,l=new Zi(i+c+5*(1+Math.ceil(c/7e3))+r),u=l.subarray(i,l.length-r),p=o.l,g=(o.r||0)&7;if(n){g&&(u[0]=o.r>>3);for(var S=O2[n-1],A=S>>13,h=S&8191,j=(1<<t)-1,L=o.p||new wi(32768),B=o.h||new wi(j+1),k=Math.ceil(t/3),Y=2*k,K=function(Xe){return(e[Xe]^e[Xe+1]<<k^e[Xe+2]<<Y)&j},V=new Vc(25e3),ce=new wi(288),ye=new wi(32),_e=0,Q=0,z=o.i||0,oe=0,O=o.w||0,T=0;z+2<c;++z){var W=K(z),G=z&32767,le=B[W];if(L[G]=le,B[W]=G,O<=z){var fe=c-z;if((_e>7e3||oe>24576)&&(fe>423||!p)){g=mf(e,u,0,V,ce,ye,Q,oe,T,z-T,g),oe=_e=Q=0,T=z;for(var he=0;he<286;++he)ce[he]=0;for(var he=0;he<30;++he)ye[he]=0}var se=2,ge=0,Me=h,Pe=G-le&32767;if(fe>2&&W==K(z-Pe))for(var C=Math.min(A,fe)-1,R=Math.min(32767,z),U=Math.min(258,fe);Pe<=R&&--Me&&G!=le;){if(e[z+se]==e[z+se-Pe]){for(var $=0;$<U&&e[z+$]==e[z+$-Pe];++$);if($>se){if(se=$,ge=Pe,$>C)break;for(var J=Math.min(Pe,$-2),ie=0,he=0;he<J;++he){var de=z-Pe+he&32767,ue=L[de],xe=de-ue&32767;xe>ie&&(ie=xe,le=de)}}}G=le,le=L[G],Pe+=G-le&32767}if(ge){V[oe++]=268435456|zc[se]<<18|pf[ge];var Ee=zc[se]&31,Te=pf[ge]&31;Q+=Hc[Ee]+Gc[Te],++ce[257+Ee],++ye[Te],O=z+se,++_e}else V[oe++]=e[z],++ce[e[z]]}}for(z=Math.max(z,O);z<c;++z)V[oe++]=e[z],++ce[e[z]];g=mf(e,u,p,V,ce,ye,Q,oe,T,z-T,g),p||(o.r=g&7|u[g/8|0]<<3,g-=7,o.h=B,o.p=L,o.i=z,o.w=O)}else{for(var z=o.w||0;z<c+p;z+=65535){var Fe=z+65535;Fe>=c&&(u[g/8|0]=p,Fe=c),g=xf(u,g+1,e.subarray(z,Fe))}o.i=c}return A2(l,0,i+bf(g)+r)};var yf=function(){var e=1,n=0;return{p:function(t){for(var i=e,r=n,o=t.length|0,c=0;c!=o;){for(var l=Math.min(c+2655,o);c<l;++c)r+=i+=t[c];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}e=i,n=r},d:function(){return e%=65521,n%=65521,(e&255)<<24|(e&65280)<<8|(n&255)<<8|n>>8}}},k2=function(e,n,t,i,r){if(!r&&(r={l:1},n.dictionary)){var o=n.dictionary.subarray(-32768),c=new Zi(o.length+e.length);c.set(o),c.set(e,o.length),e=c,r.w=o.length}return N2(e,n.level==null?6:n.level,n.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+n.mem,t,i,r)};var Cf=function(e,n,t){for(;t;++n)e[n]=t,t>>>=8};var E2=function(e,n){var t=n.level,i=t==0?0:t<6?1:t==9?3:2;if(e[0]=120,e[1]=i<<6|(n.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,n.dictionary){var r=yf();r.p(n.dictionary),Cf(e,2,r.d())}};function Sl(e,n){n||(n={});var t=yf();t.p(e);var i=k2(e,n,n.dictionary?6:2,4);return E2(i,n),Cf(i,i.length-4,t.d()),i}var M2=typeof TextDecoder<"u"&&new TextDecoder,L2=0;try{M2.decode(wf,{stream:!0}),L2=1}catch{}function Sf(e){if(Array.isArray(e))return e}function Pf(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var i,r,o,c,l=[],u=!0,p=!1;try{if(o=(t=t.call(e)).next,n===0){if(Object(t)!==t)return;u=!1}else for(;!(u=(i=o.call(t)).done)&&(l.push(i.value),l.length!==n);u=!0);}catch(g){p=!0,r=g}finally{try{if(!u&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(p)throw r}}return l}}function Wc(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}function Af(e,n){if(e){if(typeof e=="string")return Wc(e,n);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Wc(e,n):void 0}}function Of(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $c(e,n){return Sf(e)||Pf(e,n)||Af(e,n)||Of()}function Zc(e,n="utf8"){return new TextDecoder(n).decode(e)}var I2=new TextEncoder;function Nf(e){return I2.encode(e)}var F2=1024*8,T2=(()=>{let e=new Uint8Array(4),n=new Uint32Array(e.buffer);return!((n[0]=1)&e[0])})(),Yc={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array},hs=class e{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(n=F2,t={}){let i=!1;typeof n=="number"?n=new ArrayBuffer(n):(i=!0,this.lastWrittenByte=n.byteLength);let r=t.offset?t.offset>>>0:0,o=n.byteLength-r,c=r;(ArrayBuffer.isView(n)||n instanceof e)&&(n.byteLength!==n.buffer.byteLength&&(c=n.byteOffset+r),n=n.buffer),i?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=n,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(n=1){return this.offset+n<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(n=1){return this.offset+=n,this}back(n=1){return this.offset-=n,this}seek(n){return this.offset=n,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){let n=this._marks.pop();if(n===void 0)throw new Error("Mark stack empty");return this.seek(n),this}rewind(){return this.offset=0,this}ensureAvailable(n=1){if(!this.available(n)){let i=(this.offset+n)*2,r=new Uint8Array(i);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(n=1){return this.readArray(n,"uint8")}readArray(n,t){let i=Yc[t].BYTES_PER_ELEMENT*n,r=this.byteOffset+this.offset,o=this.buffer.slice(r,r+i);if(this.littleEndian===T2&&t!=="uint8"&&t!=="int8"){let l=new Uint8Array(this.buffer.slice(r,r+i));l.reverse();let u=new Yc[t](l.buffer);return this.offset+=i,u.reverse(),u}let c=new Yc[t](o);return this.offset+=i,c}readInt16(){let n=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,n}readUint16(){let n=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,n}readInt32(){let n=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,n}readUint32(){let n=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,n}readFloat32(){let n=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,n}readFloat64(){let n=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,n}readBigInt64(){let n=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,n}readBigUint64(){let n=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,n}readChar(){return String.fromCharCode(this.readInt8())}readChars(n=1){let t="";for(let i=0;i<n;i++)t+=this.readChar();return t}readUtf8(n=1){return Zc(this.readBytes(n))}decodeText(n=1,t="utf8"){return Zc(this.readBytes(n),t)}writeBoolean(n){return this.writeUint8(n?255:0),this}writeInt8(n){return this.ensureAvailable(1),this._data.setInt8(this.offset++,n),this._updateLastWrittenByte(),this}writeUint8(n){return this.ensureAvailable(1),this._data.setUint8(this.offset++,n),this._updateLastWrittenByte(),this}writeByte(n){return this.writeUint8(n)}writeBytes(n){this.ensureAvailable(n.length);for(let t=0;t<n.length;t++)this._data.setUint8(this.offset++,n[t]);return this._updateLastWrittenByte(),this}writeInt16(n){return this.ensureAvailable(2),this._data.setInt16(this.offset,n,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(n){return this.ensureAvailable(2),this._data.setUint16(this.offset,n,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(n){return this.ensureAvailable(4),this._data.setInt32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(n){return this.ensureAvailable(4),this._data.setUint32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(n){return this.ensureAvailable(4),this._data.setFloat32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(n){return this.ensureAvailable(8),this._data.setFloat64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(n){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(n){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(n){return this.writeUint8(n.charCodeAt(0))}writeChars(n){for(let t=0;t<n.length;t++)this.writeUint8(n.charCodeAt(t));return this}writeUtf8(n){return this.writeBytes(Nf(n))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}};function Ca(e){let n=e.length;for(;--n>=0;)e[n]=0}var D2=0,p0=1,j2=2,R2=3,B2=258,bd=29,ks=256,ws=ks+1+bd,xa=30,xd=19,h0=2*ws+1,Ro=15,Kc=16,z2=7,wd=256,m0=16,g0=17,_0=18,dd=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),El=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),U2=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),v0=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),q2=512,qr=new Array((ws+2)*2);Ca(qr);var vs=new Array(xa*2);Ca(vs);var ys=new Array(q2);Ca(ys);var Cs=new Array(B2-R2+1);Ca(Cs);var yd=new Array(bd);Ca(yd);var Ml=new Array(xa);Ca(Ml);function Xc(e,n,t,i,r){this.static_tree=e,this.extra_bits=n,this.extra_base=t,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}var b0,x0,w0;function Jc(e,n){this.dyn_tree=e,this.max_code=0,this.stat_desc=n}var y0=e=>e<256?ys[e]:ys[256+(e>>>7)],Ss=(e,n)=>{e.pending_buf[e.pending++]=n&255,e.pending_buf[e.pending++]=n>>>8&255},ci=(e,n,t)=>{e.bi_valid>Kc-t?(e.bi_buf|=n<<e.bi_valid&65535,Ss(e,e.bi_buf),e.bi_buf=n>>Kc-e.bi_valid,e.bi_valid+=t-Kc):(e.bi_buf|=n<<e.bi_valid&65535,e.bi_valid+=t)},pr=(e,n,t)=>{ci(e,t[n*2],t[n*2+1])},C0=(e,n)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--n>0);return t>>>1},V2=e=>{e.bi_valid===16?(Ss(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},H2=(e,n)=>{let t=n.dyn_tree,i=n.max_code,r=n.stat_desc.static_tree,o=n.stat_desc.has_stree,c=n.stat_desc.extra_bits,l=n.stat_desc.extra_base,u=n.stat_desc.max_length,p,g,S,A,h,j,L=0;for(A=0;A<=Ro;A++)e.bl_count[A]=0;for(t[e.heap[e.heap_max]*2+1]=0,p=e.heap_max+1;p<h0;p++)g=e.heap[p],A=t[t[g*2+1]*2+1]+1,A>u&&(A=u,L++),t[g*2+1]=A,!(g>i)&&(e.bl_count[A]++,h=0,g>=l&&(h=c[g-l]),j=t[g*2],e.opt_len+=j*(A+h),o&&(e.static_len+=j*(r[g*2+1]+h)));if(L!==0){do{for(A=u-1;e.bl_count[A]===0;)A--;e.bl_count[A]--,e.bl_count[A+1]+=2,e.bl_count[u]--,L-=2}while(L>0);for(A=u;A!==0;A--)for(g=e.bl_count[A];g!==0;)S=e.heap[--p],!(S>i)&&(t[S*2+1]!==A&&(e.opt_len+=(A-t[S*2+1])*t[S*2],t[S*2+1]=A),g--)}},S0=(e,n,t)=>{let i=new Array(Ro+1),r=0,o,c;for(o=1;o<=Ro;o++)r=r+t[o-1]<<1,i[o]=r;for(c=0;c<=n;c++){let l=e[c*2+1];l!==0&&(e[c*2]=C0(i[l]++,l))}},G2=()=>{let e,n,t,i,r,o=new Array(Ro+1);for(t=0,i=0;i<bd-1;i++)for(yd[i]=t,e=0;e<1<<dd[i];e++)Cs[t++]=i;for(Cs[t-1]=i,r=0,i=0;i<16;i++)for(Ml[i]=r,e=0;e<1<<El[i];e++)ys[r++]=i;for(r>>=7;i<xa;i++)for(Ml[i]=r<<7,e=0;e<1<<El[i]-7;e++)ys[256+r++]=i;for(n=0;n<=Ro;n++)o[n]=0;for(e=0;e<=143;)qr[e*2+1]=8,e++,o[8]++;for(;e<=255;)qr[e*2+1]=9,e++,o[9]++;for(;e<=279;)qr[e*2+1]=7,e++,o[7]++;for(;e<=287;)qr[e*2+1]=8,e++,o[8]++;for(S0(qr,ws+1,o),e=0;e<xa;e++)vs[e*2+1]=5,vs[e*2]=C0(e,5);b0=new Xc(qr,dd,ks+1,ws,Ro),x0=new Xc(vs,El,0,xa,Ro),w0=new Xc(new Array(0),U2,0,xd,z2)},P0=e=>{let n;for(n=0;n<ws;n++)e.dyn_ltree[n*2]=0;for(n=0;n<xa;n++)e.dyn_dtree[n*2]=0;for(n=0;n<xd;n++)e.bl_tree[n*2]=0;e.dyn_ltree[wd*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},A0=e=>{e.bi_valid>8?Ss(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},kf=(e,n,t,i)=>{let r=n*2,o=t*2;return e[r]<e[o]||e[r]===e[o]&&i[n]<=i[t]},Qc=(e,n,t)=>{let i=e.heap[t],r=t<<1;for(;r<=e.heap_len&&(r<e.heap_len&&kf(n,e.heap[r+1],e.heap[r],e.depth)&&r++,!kf(n,i,e.heap[r],e.depth));)e.heap[t]=e.heap[r],t=r,r<<=1;e.heap[t]=i},Ef=(e,n,t)=>{let i,r,o=0,c,l;if(e.sym_next!==0)do i=e.pending_buf[e.sym_buf+o++]&255,i+=(e.pending_buf[e.sym_buf+o++]&255)<<8,r=e.pending_buf[e.sym_buf+o++],i===0?pr(e,r,n):(c=Cs[r],pr(e,c+ks+1,n),l=dd[c],l!==0&&(r-=yd[c],ci(e,r,l)),i--,c=y0(i),pr(e,c,t),l=El[c],l!==0&&(i-=Ml[c],ci(e,i,l)));while(o<e.sym_next);pr(e,wd,n)},ud=(e,n)=>{let t=n.dyn_tree,i=n.stat_desc.static_tree,r=n.stat_desc.has_stree,o=n.stat_desc.elems,c,l,u=-1,p;for(e.heap_len=0,e.heap_max=h0,c=0;c<o;c++)t[c*2]!==0?(e.heap[++e.heap_len]=u=c,e.depth[c]=0):t[c*2+1]=0;for(;e.heap_len<2;)p=e.heap[++e.heap_len]=u<2?++u:0,t[p*2]=1,e.depth[p]=0,e.opt_len--,r&&(e.static_len-=i[p*2+1]);for(n.max_code=u,c=e.heap_len>>1;c>=1;c--)Qc(e,t,c);p=o;do c=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Qc(e,t,1),l=e.heap[1],e.heap[--e.heap_max]=c,e.heap[--e.heap_max]=l,t[p*2]=t[c*2]+t[l*2],e.depth[p]=(e.depth[c]>=e.depth[l]?e.depth[c]:e.depth[l])+1,t[c*2+1]=t[l*2+1]=p,e.heap[1]=p++,Qc(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],H2(e,n),S0(t,u,e.bl_count)},Mf=(e,n,t)=>{let i,r=-1,o,c=n[0*2+1],l=0,u=7,p=4;for(c===0&&(u=138,p=3),n[(t+1)*2+1]=65535,i=0;i<=t;i++)o=c,c=n[(i+1)*2+1],!(++l<u&&o===c)&&(l<p?e.bl_tree[o*2]+=l:o!==0?(o!==r&&e.bl_tree[o*2]++,e.bl_tree[m0*2]++):l<=10?e.bl_tree[g0*2]++:e.bl_tree[_0*2]++,l=0,r=o,c===0?(u=138,p=3):o===c?(u=6,p=3):(u=7,p=4))},Lf=(e,n,t)=>{let i,r=-1,o,c=n[0*2+1],l=0,u=7,p=4;for(c===0&&(u=138,p=3),i=0;i<=t;i++)if(o=c,c=n[(i+1)*2+1],!(++l<u&&o===c)){if(l<p)do pr(e,o,e.bl_tree);while(--l!==0);else o!==0?(o!==r&&(pr(e,o,e.bl_tree),l--),pr(e,m0,e.bl_tree),ci(e,l-3,2)):l<=10?(pr(e,g0,e.bl_tree),ci(e,l-3,3)):(pr(e,_0,e.bl_tree),ci(e,l-11,7));l=0,r=o,c===0?(u=138,p=3):o===c?(u=6,p=3):(u=7,p=4)}},W2=e=>{let n;for(Mf(e,e.dyn_ltree,e.l_desc.max_code),Mf(e,e.dyn_dtree,e.d_desc.max_code),ud(e,e.bl_desc),n=xd-1;n>=3&&e.bl_tree[v0[n]*2+1]===0;n--);return e.opt_len+=3*(n+1)+5+5+4,n},$2=(e,n,t,i)=>{let r;for(ci(e,n-257,5),ci(e,t-1,5),ci(e,i-4,4),r=0;r<i;r++)ci(e,e.bl_tree[v0[r]*2+1],3);Lf(e,e.dyn_ltree,n-1),Lf(e,e.dyn_dtree,t-1)},Z2=e=>{let n=4093624447,t;for(t=0;t<=31;t++,n>>>=1)if(n&1&&e.dyn_ltree[t*2]!==0)return 0;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return 1;for(t=32;t<ks;t++)if(e.dyn_ltree[t*2]!==0)return 1;return 0},If=!1,Y2=e=>{If||(G2(),If=!0),e.l_desc=new Jc(e.dyn_ltree,b0),e.d_desc=new Jc(e.dyn_dtree,x0),e.bl_desc=new Jc(e.bl_tree,w0),e.bi_buf=0,e.bi_valid=0,P0(e)},O0=(e,n,t,i)=>{ci(e,(D2<<1)+(i?1:0),3),A0(e),Ss(e,t),Ss(e,~t),t&&e.pending_buf.set(e.window.subarray(n,n+t),e.pending),e.pending+=t},K2=e=>{ci(e,p0<<1,3),pr(e,wd,qr),V2(e)},X2=(e,n,t,i)=>{let r,o,c=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=Z2(e)),ud(e,e.l_desc),ud(e,e.d_desc),c=W2(e),r=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=r&&(r=o)):r=o=t+5,t+4<=r&&n!==-1?O0(e,n,t,i):e.strategy===4||o===r?(ci(e,(p0<<1)+(i?1:0),3),Ef(e,qr,vs)):(ci(e,(j2<<1)+(i?1:0),3),$2(e,e.l_desc.max_code+1,e.d_desc.max_code+1,c+1),Ef(e,e.dyn_ltree,e.dyn_dtree)),P0(e),i&&A0(e)},J2=(e,n,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=n,e.pending_buf[e.sym_buf+e.sym_next++]=n>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,n===0?e.dyn_ltree[t*2]++:(e.matches++,n--,e.dyn_ltree[(Cs[t]+ks+1)*2]++,e.dyn_dtree[y0(n)*2]++),e.sym_next===e.sym_end),Q2=Y2,em=O0,tm=X2,nm=J2,im=K2,rm={_tr_init:Q2,_tr_stored_block:em,_tr_flush_block:tm,_tr_tally:nm,_tr_align:im},om=(e,n,t,i)=>{let r=e&65535|0,o=e>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do r=r+n[i++]|0,o=o+r|0;while(--c);r%=65521,o%=65521}return r|o<<16|0},Ps=om,am=()=>{let e,n=[];for(var t=0;t<256;t++){e=t;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;n[t]=e}return n},sm=new Uint32Array(am()),lm=(e,n,t,i)=>{let r=sm,o=i+t;e^=-1;for(let c=i;c<o;c++)e=e>>>8^r[(e^n[c])&255];return e^-1},Rn=lm,Uo={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Sa={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:cm,_tr_stored_block:fd,_tr_flush_block:dm,_tr_tally:co,_tr_align:um}=rm,{Z_NO_FLUSH:uo,Z_PARTIAL_FLUSH:fm,Z_FULL_FLUSH:pm,Z_FINISH:Ri,Z_BLOCK:Ff,Z_OK:$n,Z_STREAM_END:Tf,Z_STREAM_ERROR:hr,Z_DATA_ERROR:hm,Z_BUF_ERROR:ed,Z_DEFAULT_COMPRESSION:mm,Z_FILTERED:gm,Z_HUFFMAN_ONLY:Pl,Z_RLE:_m,Z_FIXED:vm,Z_DEFAULT_STRATEGY:bm,Z_UNKNOWN:xm,Z_DEFLATED:Fl}=Sa,wm=9,ym=15,Cm=8,Sm=29,Pm=256,pd=Pm+1+Sm,Am=30,Om=19,Nm=2*pd+1,km=15,Lt=3,lo=258,mr=lo+Lt+1,Em=32,wa=42,Cd=57,hd=69,md=73,gd=91,_d=103,Bo=113,gs=666,ri=1,Pa=2,qo=3,Aa=4,Mm=3,zo=(e,n)=>(e.msg=Uo[n],n),Df=e=>e*2-(e>4?9:0),so=e=>{let n=e.length;for(;--n>=0;)e[n]=0},Lm=e=>{let n,t,i,r=e.w_size;n=e.hash_size,i=n;do t=e.head[--i],e.head[i]=t>=r?t-r:0;while(--n);n=r,i=n;do t=e.prev[--i],e.prev[i]=t>=r?t-r:0;while(--n)},Im=(e,n,t)=>(n<<e.hash_shift^t)&e.hash_mask,fo=Im,yi=e=>{let n=e.state,t=n.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+t),e.next_out),e.next_out+=t,n.pending_out+=t,e.total_out+=t,e.avail_out-=t,n.pending-=t,n.pending===0&&(n.pending_out=0))},Ci=(e,n)=>{dm(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,n),e.block_start=e.strstart,yi(e.strm)},Ut=(e,n)=>{e.pending_buf[e.pending++]=n},ms=(e,n)=>{e.pending_buf[e.pending++]=n>>>8&255,e.pending_buf[e.pending++]=n&255},vd=(e,n,t,i)=>{let r=e.avail_in;return r>i&&(r=i),r===0?0:(e.avail_in-=r,n.set(e.input.subarray(e.next_in,e.next_in+r),t),e.state.wrap===1?e.adler=Ps(e.adler,n,r,t):e.state.wrap===2&&(e.adler=Rn(e.adler,n,r,t)),e.next_in+=r,e.total_in+=r,r)},N0=(e,n)=>{let t=e.max_chain_length,i=e.strstart,r,o,c=e.prev_length,l=e.nice_match,u=e.strstart>e.w_size-mr?e.strstart-(e.w_size-mr):0,p=e.window,g=e.w_mask,S=e.prev,A=e.strstart+lo,h=p[i+c-1],j=p[i+c];e.prev_length>=e.good_match&&(t>>=2),l>e.lookahead&&(l=e.lookahead);do if(r=n,!(p[r+c]!==j||p[r+c-1]!==h||p[r]!==p[i]||p[++r]!==p[i+1])){i+=2,r++;do;while(p[++i]===p[++r]&&p[++i]===p[++r]&&p[++i]===p[++r]&&p[++i]===p[++r]&&p[++i]===p[++r]&&p[++i]===p[++r]&&p[++i]===p[++r]&&p[++i]===p[++r]&&i<A);if(o=lo-(A-i),i=A-lo,o>c){if(e.match_start=n,c=o,o>=l)break;h=p[i+c-1],j=p[i+c]}}while((n=S[n&g])>u&&--t!==0);return c<=e.lookahead?c:e.lookahead},ya=e=>{let n=e.w_size,t,i,r;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=n+(n-mr)&&(e.window.set(e.window.subarray(n,n+n-i),0),e.match_start-=n,e.strstart-=n,e.block_start-=n,e.insert>e.strstart&&(e.insert=e.strstart),Lm(e),i+=n),e.strm.avail_in===0)break;if(t=vd(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=t,e.lookahead+e.insert>=Lt)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=fo(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=fo(e,e.ins_h,e.window[r+Lt-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<Lt)););}while(e.lookahead<mr&&e.strm.avail_in!==0)},k0=(e,n)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,i,r,o,c=0,l=e.strm.avail_in;do{if(i=65535,o=e.bi_valid+42>>3,e.strm.avail_out<o||(o=e.strm.avail_out-o,r=e.strstart-e.block_start,i>r+e.strm.avail_in&&(i=r+e.strm.avail_in),i>o&&(i=o),i<t&&(i===0&&n!==Ri||n===uo||i!==r+e.strm.avail_in)))break;c=n===Ri&&i===r+e.strm.avail_in?1:0,fd(e,0,0,c),e.pending_buf[e.pending-4]=i,e.pending_buf[e.pending-3]=i>>8,e.pending_buf[e.pending-2]=~i,e.pending_buf[e.pending-1]=~i>>8,yi(e.strm),r&&(r>i&&(r=i),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,i-=r),i&&(vd(e.strm,e.strm.output,e.strm.next_out,i),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i)}while(c===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),c?Aa:n!==uo&&n!==Ri&&e.strm.avail_in===0&&e.strstart===e.block_start?Pa:(o=e.window_size-e.strstart,e.strm.avail_in>o&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,o+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),o>e.strm.avail_in&&(o=e.strm.avail_in),o&&(vd(e.strm,e.window,e.strstart,o),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.high_water<e.strstart&&(e.high_water=e.strstart),o=e.bi_valid+42>>3,o=e.pending_buf_size-o>65535?65535:e.pending_buf_size-o,t=o>e.w_size?e.w_size:o,r=e.strstart-e.block_start,(r>=t||(r||n===Ri)&&n!==uo&&e.strm.avail_in===0&&r<=o)&&(i=r>o?o:r,c=n===Ri&&e.strm.avail_in===0&&i===r?1:0,fd(e,e.block_start,i,c),e.block_start+=i,yi(e.strm)),c?qo:ri)},td=(e,n)=>{let t,i;for(;;){if(e.lookahead<mr){if(ya(e),e.lookahead<mr&&n===uo)return ri;if(e.lookahead===0)break}if(t=0,e.lookahead>=Lt&&(e.ins_h=fo(e,e.ins_h,e.window[e.strstart+Lt-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-mr&&(e.match_length=N0(e,t)),e.match_length>=Lt)if(i=co(e,e.strstart-e.match_start,e.match_length-Lt),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Lt){e.match_length--;do e.strstart++,e.ins_h=fo(e,e.ins_h,e.window[e.strstart+Lt-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=fo(e,e.ins_h,e.window[e.strstart+1]);else i=co(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(Ci(e,!1),e.strm.avail_out===0))return ri}return e.insert=e.strstart<Lt-1?e.strstart:Lt-1,n===Ri?(Ci(e,!0),e.strm.avail_out===0?qo:Aa):e.sym_next&&(Ci(e,!1),e.strm.avail_out===0)?ri:Pa},va=(e,n)=>{let t,i,r;for(;;){if(e.lookahead<mr){if(ya(e),e.lookahead<mr&&n===uo)return ri;if(e.lookahead===0)break}if(t=0,e.lookahead>=Lt&&(e.ins_h=fo(e,e.ins_h,e.window[e.strstart+Lt-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Lt-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-mr&&(e.match_length=N0(e,t),e.match_length<=5&&(e.strategy===gm||e.match_length===Lt&&e.strstart-e.match_start>4096)&&(e.match_length=Lt-1)),e.prev_length>=Lt&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-Lt,i=co(e,e.strstart-1-e.prev_match,e.prev_length-Lt),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=r&&(e.ins_h=fo(e,e.ins_h,e.window[e.strstart+Lt-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Lt-1,e.strstart++,i&&(Ci(e,!1),e.strm.avail_out===0))return ri}else if(e.match_available){if(i=co(e,0,e.window[e.strstart-1]),i&&Ci(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ri}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=co(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Lt-1?e.strstart:Lt-1,n===Ri?(Ci(e,!0),e.strm.avail_out===0?qo:Aa):e.sym_next&&(Ci(e,!1),e.strm.avail_out===0)?ri:Pa},Fm=(e,n)=>{let t,i,r,o,c=e.window;for(;;){if(e.lookahead<=lo){if(ya(e),e.lookahead<=lo&&n===uo)return ri;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Lt&&e.strstart>0&&(r=e.strstart-1,i=c[r],i===c[++r]&&i===c[++r]&&i===c[++r])){o=e.strstart+lo;do;while(i===c[++r]&&i===c[++r]&&i===c[++r]&&i===c[++r]&&i===c[++r]&&i===c[++r]&&i===c[++r]&&i===c[++r]&&r<o);e.match_length=lo-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Lt?(t=co(e,1,e.match_length-Lt),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=co(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(Ci(e,!1),e.strm.avail_out===0))return ri}return e.insert=0,n===Ri?(Ci(e,!0),e.strm.avail_out===0?qo:Aa):e.sym_next&&(Ci(e,!1),e.strm.avail_out===0)?ri:Pa},Tm=(e,n)=>{let t;for(;;){if(e.lookahead===0&&(ya(e),e.lookahead===0)){if(n===uo)return ri;break}if(e.match_length=0,t=co(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(Ci(e,!1),e.strm.avail_out===0))return ri}return e.insert=0,n===Ri?(Ci(e,!0),e.strm.avail_out===0?qo:Aa):e.sym_next&&(Ci(e,!1),e.strm.avail_out===0)?ri:Pa};function fr(e,n,t,i,r){this.good_length=e,this.max_lazy=n,this.nice_length=t,this.max_chain=i,this.func=r}var _s=[new fr(0,0,0,0,k0),new fr(4,4,8,4,td),new fr(4,5,16,8,td),new fr(4,6,32,32,td),new fr(4,4,16,16,va),new fr(8,16,32,32,va),new fr(8,16,128,128,va),new fr(8,32,128,256,va),new fr(32,128,258,1024,va),new fr(32,258,258,4096,va)],Dm=e=>{e.window_size=2*e.w_size,so(e.head),e.max_lazy_match=_s[e.level].max_lazy,e.good_match=_s[e.level].good_length,e.nice_match=_s[e.level].nice_length,e.max_chain_length=_s[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Lt-1,e.match_available=0,e.ins_h=0};function jm(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Fl,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Nm*2),this.dyn_dtree=new Uint16Array((2*Am+1)*2),this.bl_tree=new Uint16Array((2*Om+1)*2),so(this.dyn_ltree),so(this.dyn_dtree),so(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(km+1),this.heap=new Uint16Array(2*pd+1),so(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*pd+1),so(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Es=e=>{if(!e)return 1;let n=e.state;return!n||n.strm!==e||n.status!==wa&&n.status!==Cd&&n.status!==hd&&n.status!==md&&n.status!==gd&&n.status!==_d&&n.status!==Bo&&n.status!==gs?1:0},E0=e=>{if(Es(e))return zo(e,hr);e.total_in=e.total_out=0,e.data_type=xm;let n=e.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap===2?Cd:n.wrap?wa:Bo,e.adler=n.wrap===2?0:1,n.last_flush=-2,cm(n),$n},M0=e=>{let n=E0(e);return n===$n&&Dm(e.state),n},Rm=(e,n)=>Es(e)||e.state.wrap!==2?hr:(e.state.gzhead=n,$n),L0=(e,n,t,i,r,o)=>{if(!e)return hr;let c=1;if(n===mm&&(n=6),i<0?(c=0,i=-i):i>15&&(c=2,i-=16),r<1||r>wm||t!==Fl||i<8||i>15||n<0||n>9||o<0||o>vm||i===8&&c!==1)return zo(e,hr);i===8&&(i=9);let l=new jm;return e.state=l,l.strm=e,l.status=wa,l.wrap=c,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+Lt-1)/Lt),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=n,l.strategy=o,l.method=t,M0(e)},Bm=(e,n)=>L0(e,n,Fl,ym,Cm,bm),zm=(e,n)=>{if(Es(e)||n>Ff||n<0)return e?zo(e,hr):hr;let t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===gs&&n!==Ri)return zo(e,e.avail_out===0?ed:hr);let i=t.last_flush;if(t.last_flush=n,t.pending!==0){if(yi(e),e.avail_out===0)return t.last_flush=-1,$n}else if(e.avail_in===0&&Df(n)<=Df(i)&&n!==Ri)return zo(e,ed);if(t.status===gs&&e.avail_in!==0)return zo(e,ed);if(t.status===wa&&t.wrap===0&&(t.status=Bo),t.status===wa){let r=Fl+(t.w_bits-8<<4)<<8,o=-1;if(t.strategy>=Pl||t.level<2?o=0:t.level<6?o=1:t.level===6?o=2:o=3,r|=o<<6,t.strstart!==0&&(r|=Em),r+=31-r%31,ms(t,r),t.strstart!==0&&(ms(t,e.adler>>>16),ms(t,e.adler&65535)),e.adler=1,t.status=Bo,yi(e),t.pending!==0)return t.last_flush=-1,$n}if(t.status===Cd){if(e.adler=0,Ut(t,31),Ut(t,139),Ut(t,8),t.gzhead)Ut(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),Ut(t,t.gzhead.time&255),Ut(t,t.gzhead.time>>8&255),Ut(t,t.gzhead.time>>16&255),Ut(t,t.gzhead.time>>24&255),Ut(t,t.level===9?2:t.strategy>=Pl||t.level<2?4:0),Ut(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(Ut(t,t.gzhead.extra.length&255),Ut(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=Rn(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=hd;else if(Ut(t,0),Ut(t,0),Ut(t,0),Ut(t,0),Ut(t,0),Ut(t,t.level===9?2:t.strategy>=Pl||t.level<2?4:0),Ut(t,Mm),t.status=Bo,yi(e),t.pending!==0)return t.last_flush=-1,$n}if(t.status===hd){if(t.gzhead.extra){let r=t.pending,o=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+o>t.pending_buf_size;){let l=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+l),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>r&&(e.adler=Rn(e.adler,t.pending_buf,t.pending-r,r)),t.gzindex+=l,yi(e),t.pending!==0)return t.last_flush=-1,$n;r=0,o-=l}let c=new Uint8Array(t.gzhead.extra);t.pending_buf.set(c.subarray(t.gzindex,t.gzindex+o),t.pending),t.pending+=o,t.gzhead.hcrc&&t.pending>r&&(e.adler=Rn(e.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=md}if(t.status===md){if(t.gzhead.name){let r=t.pending,o;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(e.adler=Rn(e.adler,t.pending_buf,t.pending-r,r)),yi(e),t.pending!==0)return t.last_flush=-1,$n;r=0}t.gzindex<t.gzhead.name.length?o=t.gzhead.name.charCodeAt(t.gzindex++)&255:o=0,Ut(t,o)}while(o!==0);t.gzhead.hcrc&&t.pending>r&&(e.adler=Rn(e.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=gd}if(t.status===gd){if(t.gzhead.comment){let r=t.pending,o;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(e.adler=Rn(e.adler,t.pending_buf,t.pending-r,r)),yi(e),t.pending!==0)return t.last_flush=-1,$n;r=0}t.gzindex<t.gzhead.comment.length?o=t.gzhead.comment.charCodeAt(t.gzindex++)&255:o=0,Ut(t,o)}while(o!==0);t.gzhead.hcrc&&t.pending>r&&(e.adler=Rn(e.adler,t.pending_buf,t.pending-r,r))}t.status=_d}if(t.status===_d){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(yi(e),t.pending!==0))return t.last_flush=-1,$n;Ut(t,e.adler&255),Ut(t,e.adler>>8&255),e.adler=0}if(t.status=Bo,yi(e),t.pending!==0)return t.last_flush=-1,$n}if(e.avail_in!==0||t.lookahead!==0||n!==uo&&t.status!==gs){let r=t.level===0?k0(t,n):t.strategy===Pl?Tm(t,n):t.strategy===_m?Fm(t,n):_s[t.level].func(t,n);if((r===qo||r===Aa)&&(t.status=gs),r===ri||r===qo)return e.avail_out===0&&(t.last_flush=-1),$n;if(r===Pa&&(n===fm?um(t):n!==Ff&&(fd(t,0,0,!1),n===pm&&(so(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),yi(e),e.avail_out===0))return t.last_flush=-1,$n}return n!==Ri?$n:t.wrap<=0?Tf:(t.wrap===2?(Ut(t,e.adler&255),Ut(t,e.adler>>8&255),Ut(t,e.adler>>16&255),Ut(t,e.adler>>24&255),Ut(t,e.total_in&255),Ut(t,e.total_in>>8&255),Ut(t,e.total_in>>16&255),Ut(t,e.total_in>>24&255)):(ms(t,e.adler>>>16),ms(t,e.adler&65535)),yi(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?$n:Tf)},Um=e=>{if(Es(e))return hr;let n=e.state.status;return e.state=null,n===Bo?zo(e,hm):$n},qm=(e,n)=>{let t=n.length;if(Es(e))return hr;let i=e.state,r=i.wrap;if(r===2||r===1&&i.status!==wa||i.lookahead)return hr;if(r===1&&(e.adler=Ps(e.adler,n,t,0)),i.wrap=0,t>=i.w_size){r===0&&(so(i.head),i.strstart=0,i.block_start=0,i.insert=0);let u=new Uint8Array(i.w_size);u.set(n.subarray(t-i.w_size,t),0),n=u,t=i.w_size}let o=e.avail_in,c=e.next_in,l=e.input;for(e.avail_in=t,e.next_in=0,e.input=n,ya(i);i.lookahead>=Lt;){let u=i.strstart,p=i.lookahead-(Lt-1);do i.ins_h=fo(i,i.ins_h,i.window[u+Lt-1]),i.prev[u&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=u,u++;while(--p);i.strstart=u,i.lookahead=Lt-1,ya(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=Lt-1,i.match_available=0,e.next_in=c,e.input=l,e.avail_in=o,i.wrap=r,$n},Vm=Bm,Hm=L0,Gm=M0,Wm=E0,$m=Rm,Zm=zm,Ym=Um,Km=qm,Xm="pako deflate (from Nodeca project)",bs={deflateInit:Vm,deflateInit2:Hm,deflateReset:Gm,deflateResetKeep:Wm,deflateSetHeader:$m,deflate:Zm,deflateEnd:Ym,deflateSetDictionary:Km,deflateInfo:Xm},Jm=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),Qm=function(e){let n=Array.prototype.slice.call(arguments,1);for(;n.length;){let t=n.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(let i in t)Jm(t,i)&&(e[i]=t[i])}}return e},eg=e=>{let n=0;for(let i=0,r=e.length;i<r;i++)n+=e[i].length;let t=new Uint8Array(n);for(let i=0,r=0,o=e.length;i<o;i++){let c=e[i];t.set(c,r),r+=c.length}return t},Tl={assign:Qm,flattenChunks:eg},I0=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{I0=!1}var As=new Uint8Array(256);for(let e=0;e<256;e++)As[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;As[254]=As[254]=1;var tg=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let n,t,i,r,o,c=e.length,l=0;for(r=0;r<c;r++)t=e.charCodeAt(r),(t&64512)===55296&&r+1<c&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(n=new Uint8Array(l),o=0,r=0;o<l;r++)t=e.charCodeAt(r),(t&64512)===55296&&r+1<c&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),t<128?n[o++]=t:t<2048?(n[o++]=192|t>>>6,n[o++]=128|t&63):t<65536?(n[o++]=224|t>>>12,n[o++]=128|t>>>6&63,n[o++]=128|t&63):(n[o++]=240|t>>>18,n[o++]=128|t>>>12&63,n[o++]=128|t>>>6&63,n[o++]=128|t&63);return n},ng=(e,n)=>{if(n<65534&&e.subarray&&I0)return String.fromCharCode.apply(null,e.length===n?e:e.subarray(0,n));let t="";for(let i=0;i<n;i++)t+=String.fromCharCode(e[i]);return t},ig=(e,n)=>{let t=n||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,n));let i,r,o=new Array(t*2);for(r=0,i=0;i<t;){let c=e[i++];if(c<128){o[r++]=c;continue}let l=As[c];if(l>4){o[r++]=65533,i+=l-1;continue}for(c&=l===2?31:l===3?15:7;l>1&&i<t;)c=c<<6|e[i++]&63,l--;if(l>1){o[r++]=65533;continue}c<65536?o[r++]=c:(c-=65536,o[r++]=55296|c>>10&1023,o[r++]=56320|c&1023)}return ng(o,r)},rg=(e,n)=>{n=n||e.length,n>e.length&&(n=e.length);let t=n-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?n:t+As[e[t]]>n?t:n},Os={string2buf:tg,buf2string:ig,utf8border:rg};function og(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var F0=og,T0=Object.prototype.toString,{Z_NO_FLUSH:ag,Z_SYNC_FLUSH:sg,Z_FULL_FLUSH:lg,Z_FINISH:cg,Z_OK:Ll,Z_STREAM_END:dg,Z_DEFAULT_COMPRESSION:ug,Z_DEFAULT_STRATEGY:fg,Z_DEFLATED:pg}=Sa;function Ms(e){this.options=Tl.assign({level:ug,method:pg,chunkSize:16384,windowBits:15,memLevel:8,strategy:fg},e||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new F0,this.strm.avail_out=0;let t=bs.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(t!==Ll)throw new Error(Uo[t]);if(n.header&&bs.deflateSetHeader(this.strm,n.header),n.dictionary){let i;if(typeof n.dictionary=="string"?i=Os.string2buf(n.dictionary):T0.call(n.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(n.dictionary):i=n.dictionary,t=bs.deflateSetDictionary(this.strm,i),t!==Ll)throw new Error(Uo[t]);this._dict_set=!0}}Ms.prototype.push=function(e,n){let t=this.strm,i=this.options.chunkSize,r,o;if(this.ended)return!1;for(n===~~n?o=n:o=n===!0?cg:ag,typeof e=="string"?t.input=Os.string2buf(e):T0.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),(o===sg||o===lg)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(r=bs.deflate(t,o),r===dg)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),r=bs.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===Ll;if(t.avail_out===0){this.onData(t.output);continue}if(o>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};Ms.prototype.onData=function(e){this.chunks.push(e)};Ms.prototype.onEnd=function(e){e===Ll&&(this.result=Tl.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Sd(e,n){let t=new Ms(n);if(t.push(e,!0),t.err)throw t.msg||Uo[t.err];return t.result}function hg(e,n){return n=n||{},n.raw=!0,Sd(e,n)}function mg(e,n){return n=n||{},n.gzip=!0,Sd(e,n)}var gg=Ms,_g=Sd,vg=hg,bg=mg,xg=Sa,wg={Deflate:gg,deflate:_g,deflateRaw:vg,gzip:bg,constants:xg},Al=16209,yg=16191,Cg=function(n,t){let i,r,o,c,l,u,p,g,S,A,h,j,L,B,k,Y,K,V,ce,ye,_e,Q,z,oe,O=n.state;i=n.next_in,z=n.input,r=i+(n.avail_in-5),o=n.next_out,oe=n.output,c=o-(t-n.avail_out),l=o+(n.avail_out-257),u=O.dmax,p=O.wsize,g=O.whave,S=O.wnext,A=O.window,h=O.hold,j=O.bits,L=O.lencode,B=O.distcode,k=(1<<O.lenbits)-1,Y=(1<<O.distbits)-1;e:do{j<15&&(h+=z[i++]<<j,j+=8,h+=z[i++]<<j,j+=8),K=L[h&k];t:for(;;){if(V=K>>>24,h>>>=V,j-=V,V=K>>>16&255,V===0)oe[o++]=K&65535;else if(V&16){ce=K&65535,V&=15,V&&(j<V&&(h+=z[i++]<<j,j+=8),ce+=h&(1<<V)-1,h>>>=V,j-=V),j<15&&(h+=z[i++]<<j,j+=8,h+=z[i++]<<j,j+=8),K=B[h&Y];n:for(;;){if(V=K>>>24,h>>>=V,j-=V,V=K>>>16&255,V&16){if(ye=K&65535,V&=15,j<V&&(h+=z[i++]<<j,j+=8,j<V&&(h+=z[i++]<<j,j+=8)),ye+=h&(1<<V)-1,ye>u){n.msg="invalid distance too far back",O.mode=Al;break e}if(h>>>=V,j-=V,V=o-c,ye>V){if(V=ye-V,V>g&&O.sane){n.msg="invalid distance too far back",O.mode=Al;break e}if(_e=0,Q=A,S===0){if(_e+=p-V,V<ce){ce-=V;do oe[o++]=A[_e++];while(--V);_e=o-ye,Q=oe}}else if(S<V){if(_e+=p+S-V,V-=S,V<ce){ce-=V;do oe[o++]=A[_e++];while(--V);if(_e=0,S<ce){V=S,ce-=V;do oe[o++]=A[_e++];while(--V);_e=o-ye,Q=oe}}}else if(_e+=S-V,V<ce){ce-=V;do oe[o++]=A[_e++];while(--V);_e=o-ye,Q=oe}for(;ce>2;)oe[o++]=Q[_e++],oe[o++]=Q[_e++],oe[o++]=Q[_e++],ce-=3;ce&&(oe[o++]=Q[_e++],ce>1&&(oe[o++]=Q[_e++]))}else{_e=o-ye;do oe[o++]=oe[_e++],oe[o++]=oe[_e++],oe[o++]=oe[_e++],ce-=3;while(ce>2);ce&&(oe[o++]=oe[_e++],ce>1&&(oe[o++]=oe[_e++]))}}else if(V&64){n.msg="invalid distance code",O.mode=Al;break e}else{K=B[(K&65535)+(h&(1<<V)-1)];continue n}break}}else if(V&64)if(V&32){O.mode=yg;break e}else{n.msg="invalid literal/length code",O.mode=Al;break e}else{K=L[(K&65535)+(h&(1<<V)-1)];continue t}break}}while(i<r&&o<l);ce=j>>3,i-=ce,j-=ce<<3,h&=(1<<j)-1,n.next_in=i,n.next_out=o,n.avail_in=i<r?5+(r-i):5-(i-r),n.avail_out=o<l?257+(l-o):257-(o-l),O.hold=h,O.bits=j},ba=15,jf=852,Rf=592,Bf=0,nd=1,zf=2,Sg=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Pg=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Ag=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Og=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Ng=(e,n,t,i,r,o,c,l)=>{let u=l.bits,p=0,g=0,S=0,A=0,h=0,j=0,L=0,B=0,k=0,Y=0,K,V,ce,ye,_e,Q=null,z,oe=new Uint16Array(ba+1),O=new Uint16Array(ba+1),T=null,W,G,le;for(p=0;p<=ba;p++)oe[p]=0;for(g=0;g<i;g++)oe[n[t+g]]++;for(h=u,A=ba;A>=1&&oe[A]===0;A--);if(h>A&&(h=A),A===0)return r[o++]=1<<24|64<<16|0,r[o++]=1<<24|64<<16|0,l.bits=1,0;for(S=1;S<A&&oe[S]===0;S++);for(h<S&&(h=S),B=1,p=1;p<=ba;p++)if(B<<=1,B-=oe[p],B<0)return-1;if(B>0&&(e===Bf||A!==1))return-1;for(O[1]=0,p=1;p<ba;p++)O[p+1]=O[p]+oe[p];for(g=0;g<i;g++)n[t+g]!==0&&(c[O[n[t+g]]++]=g);if(e===Bf?(Q=T=c,z=20):e===nd?(Q=Sg,T=Pg,z=257):(Q=Ag,T=Og,z=0),Y=0,g=0,p=S,_e=o,j=h,L=0,ce=-1,k=1<<h,ye=k-1,e===nd&&k>jf||e===zf&&k>Rf)return 1;for(;;){W=p-L,c[g]+1<z?(G=0,le=c[g]):c[g]>=z?(G=T[c[g]-z],le=Q[c[g]-z]):(G=96,le=0),K=1<<p-L,V=1<<j,S=V;do V-=K,r[_e+(Y>>L)+V]=W<<24|G<<16|le|0;while(V!==0);for(K=1<<p-1;Y&K;)K>>=1;if(K!==0?(Y&=K-1,Y+=K):Y=0,g++,--oe[p]===0){if(p===A)break;p=n[t+c[g]]}if(p>h&&(Y&ye)!==ce){for(L===0&&(L=h),_e+=S,j=p-L,B=1<<j;j+L<A&&(B-=oe[j+L],!(B<=0));)j++,B<<=1;if(k+=1<<j,e===nd&&k>jf||e===zf&&k>Rf)return 1;ce=Y&ye,r[ce]=h<<24|j<<16|_e-o|0}}return Y!==0&&(r[_e+Y]=p-L<<24|64<<16|0),l.bits=h,0},xs=Ng,kg=0,D0=1,j0=2,{Z_FINISH:Uf,Z_BLOCK:Eg,Z_TREES:Ol,Z_OK:Vo,Z_STREAM_END:Mg,Z_NEED_DICT:Lg,Z_STREAM_ERROR:Bi,Z_DATA_ERROR:R0,Z_MEM_ERROR:B0,Z_BUF_ERROR:Ig,Z_DEFLATED:qf}=Sa,Dl=16180,Vf=16181,Hf=16182,Gf=16183,Wf=16184,$f=16185,Zf=16186,Yf=16187,Kf=16188,Xf=16189,Il=16190,Ur=16191,id=16192,Jf=16193,rd=16194,Qf=16195,e0=16196,t0=16197,n0=16198,Nl=16199,kl=16200,i0=16201,r0=16202,o0=16203,a0=16204,s0=16205,od=16206,l0=16207,c0=16208,ln=16209,z0=16210,U0=16211,Fg=852,Tg=592,Dg=15,jg=Dg,d0=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Rg(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Ho=e=>{if(!e)return 1;let n=e.state;return!n||n.strm!==e||n.mode<Dl||n.mode>U0?1:0},q0=e=>{if(Ho(e))return Bi;let n=e.state;return e.total_in=e.total_out=n.total=0,e.msg="",n.wrap&&(e.adler=n.wrap&1),n.mode=Dl,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(Fg),n.distcode=n.distdyn=new Int32Array(Tg),n.sane=1,n.back=-1,Vo},V0=e=>{if(Ho(e))return Bi;let n=e.state;return n.wsize=0,n.whave=0,n.wnext=0,q0(e)},H0=(e,n)=>{let t;if(Ho(e))return Bi;let i=e.state;return n<0?(t=0,n=-n):(t=(n>>4)+5,n<48&&(n&=15)),n&&(n<8||n>15)?Bi:(i.window!==null&&i.wbits!==n&&(i.window=null),i.wrap=t,i.wbits=n,V0(e))},G0=(e,n)=>{if(!e)return Bi;let t=new Rg;e.state=t,t.strm=e,t.window=null,t.mode=Dl;let i=H0(e,n);return i!==Vo&&(e.state=null),i},Bg=e=>G0(e,jg),u0=!0,ad,sd,zg=e=>{if(u0){ad=new Int32Array(512),sd=new Int32Array(32);let n=0;for(;n<144;)e.lens[n++]=8;for(;n<256;)e.lens[n++]=9;for(;n<280;)e.lens[n++]=7;for(;n<288;)e.lens[n++]=8;for(xs(D0,e.lens,0,288,ad,0,e.work,{bits:9}),n=0;n<32;)e.lens[n++]=5;xs(j0,e.lens,0,32,sd,0,e.work,{bits:5}),u0=!1}e.lencode=ad,e.lenbits=9,e.distcode=sd,e.distbits=5},W0=(e,n,t,i)=>{let r,o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(n.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>i&&(r=i),o.window.set(n.subarray(t-i,t-i+r),o.wnext),i-=r,i?(o.window.set(n.subarray(t-i,t),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0},Ug=(e,n)=>{let t,i,r,o,c,l,u,p,g,S,A,h,j,L,B=0,k,Y,K,V,ce,ye,_e,Q,z=new Uint8Array(4),oe,O,T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ho(e)||!e.output||!e.input&&e.avail_in!==0)return Bi;t=e.state,t.mode===Ur&&(t.mode=id),c=e.next_out,r=e.output,u=e.avail_out,o=e.next_in,i=e.input,l=e.avail_in,p=t.hold,g=t.bits,S=l,A=u,Q=Vo;e:for(;;)switch(t.mode){case Dl:if(t.wrap===0){t.mode=id;break}for(;g<16;){if(l===0)break e;l--,p+=i[o++]<<g,g+=8}if(t.wrap&2&&p===35615){t.wbits===0&&(t.wbits=15),t.check=0,z[0]=p&255,z[1]=p>>>8&255,t.check=Rn(t.check,z,2,0),p=0,g=0,t.mode=Vf;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((p&255)<<8)+(p>>8))%31){e.msg="incorrect header check",t.mode=ln;break}if((p&15)!==qf){e.msg="unknown compression method",t.mode=ln;break}if(p>>>=4,g-=4,_e=(p&15)+8,t.wbits===0&&(t.wbits=_e),_e>15||_e>t.wbits){e.msg="invalid window size",t.mode=ln;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=p&512?Xf:Ur,p=0,g=0;break;case Vf:for(;g<16;){if(l===0)break e;l--,p+=i[o++]<<g,g+=8}if(t.flags=p,(t.flags&255)!==qf){e.msg="unknown compression method",t.mode=ln;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=ln;break}t.head&&(t.head.text=p>>8&1),t.flags&512&&t.wrap&4&&(z[0]=p&255,z[1]=p>>>8&255,t.check=Rn(t.check,z,2,0)),p=0,g=0,t.mode=Hf;case Hf:for(;g<32;){if(l===0)break e;l--,p+=i[o++]<<g,g+=8}t.head&&(t.head.time=p),t.flags&512&&t.wrap&4&&(z[0]=p&255,z[1]=p>>>8&255,z[2]=p>>>16&255,z[3]=p>>>24&255,t.check=Rn(t.check,z,4,0)),p=0,g=0,t.mode=Gf;case Gf:for(;g<16;){if(l===0)break e;l--,p+=i[o++]<<g,g+=8}t.head&&(t.head.xflags=p&255,t.head.os=p>>8),t.flags&512&&t.wrap&4&&(z[0]=p&255,z[1]=p>>>8&255,t.check=Rn(t.check,z,2,0)),p=0,g=0,t.mode=Wf;case Wf:if(t.flags&1024){for(;g<16;){if(l===0)break e;l--,p+=i[o++]<<g,g+=8}t.length=p,t.head&&(t.head.extra_len=p),t.flags&512&&t.wrap&4&&(z[0]=p&255,z[1]=p>>>8&255,t.check=Rn(t.check,z,2,0)),p=0,g=0}else t.head&&(t.head.extra=null);t.mode=$f;case $f:if(t.flags&1024&&(h=t.length,h>l&&(h=l),h&&(t.head&&(_e=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(o,o+h),_e)),t.flags&512&&t.wrap&4&&(t.check=Rn(t.check,i,h,o)),l-=h,o+=h,t.length-=h),t.length))break e;t.length=0,t.mode=Zf;case Zf:if(t.flags&2048){if(l===0)break e;h=0;do _e=i[o+h++],t.head&&_e&&t.length<65536&&(t.head.name+=String.fromCharCode(_e));while(_e&&h<l);if(t.flags&512&&t.wrap&4&&(t.check=Rn(t.check,i,h,o)),l-=h,o+=h,_e)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Yf;case Yf:if(t.flags&4096){if(l===0)break e;h=0;do _e=i[o+h++],t.head&&_e&&t.length<65536&&(t.head.comment+=String.fromCharCode(_e));while(_e&&h<l);if(t.flags&512&&t.wrap&4&&(t.check=Rn(t.check,i,h,o)),l-=h,o+=h,_e)break e}else t.head&&(t.head.comment=null);t.mode=Kf;case Kf:if(t.flags&512){for(;g<16;){if(l===0)break e;l--,p+=i[o++]<<g,g+=8}if(t.wrap&4&&p!==(t.check&65535)){e.msg="header crc mismatch",t.mode=ln;break}p=0,g=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=Ur;break;case Xf:for(;g<32;){if(l===0)break e;l--,p+=i[o++]<<g,g+=8}e.adler=t.check=d0(p),p=0,g=0,t.mode=Il;case Il:if(t.havedict===0)return e.next_out=c,e.avail_out=u,e.next_in=o,e.avail_in=l,t.hold=p,t.bits=g,Lg;e.adler=t.check=1,t.mode=Ur;case Ur:if(n===Eg||n===Ol)break e;case id:if(t.last){p>>>=g&7,g-=g&7,t.mode=od;break}for(;g<3;){if(l===0)break e;l--,p+=i[o++]<<g,g+=8}switch(t.last=p&1,p>>>=1,g-=1,p&3){case 0:t.mode=Jf;break;case 1:if(zg(t),t.mode=Nl,n===Ol){p>>>=2,g-=2;break e}break;case 2:t.mode=e0;break;case 3:e.msg="invalid block type",t.mode=ln}p>>>=2,g-=2;break;case Jf:for(p>>>=g&7,g-=g&7;g<32;){if(l===0)break e;l--,p+=i[o++]<<g,g+=8}if((p&65535)!==(p>>>16^65535)){e.msg="invalid stored block lengths",t.mode=ln;break}if(t.length=p&65535,p=0,g=0,t.mode=rd,n===Ol)break e;case rd:t.mode=Qf;case Qf:if(h=t.length,h){if(h>l&&(h=l),h>u&&(h=u),h===0)break e;r.set(i.subarray(o,o+h),c),l-=h,o+=h,u-=h,c+=h,t.length-=h;break}t.mode=Ur;break;case e0:for(;g<14;){if(l===0)break e;l--,p+=i[o++]<<g,g+=8}if(t.nlen=(p&31)+257,p>>>=5,g-=5,t.ndist=(p&31)+1,p>>>=5,g-=5,t.ncode=(p&15)+4,p>>>=4,g-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=ln;break}t.have=0,t.mode=t0;case t0:for(;t.have<t.ncode;){for(;g<3;){if(l===0)break e;l--,p+=i[o++]<<g,g+=8}t.lens[T[t.have++]]=p&7,p>>>=3,g-=3}for(;t.have<19;)t.lens[T[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,oe={bits:t.lenbits},Q=xs(kg,t.lens,0,19,t.lencode,0,t.work,oe),t.lenbits=oe.bits,Q){e.msg="invalid code lengths set",t.mode=ln;break}t.have=0,t.mode=n0;case n0:for(;t.have<t.nlen+t.ndist;){for(;B=t.lencode[p&(1<<t.lenbits)-1],k=B>>>24,Y=B>>>16&255,K=B&65535,!(k<=g);){if(l===0)break e;l--,p+=i[o++]<<g,g+=8}if(K<16)p>>>=k,g-=k,t.lens[t.have++]=K;else{if(K===16){for(O=k+2;g<O;){if(l===0)break e;l--,p+=i[o++]<<g,g+=8}if(p>>>=k,g-=k,t.have===0){e.msg="invalid bit length repeat",t.mode=ln;break}_e=t.lens[t.have-1],h=3+(p&3),p>>>=2,g-=2}else if(K===17){for(O=k+3;g<O;){if(l===0)break e;l--,p+=i[o++]<<g,g+=8}p>>>=k,g-=k,_e=0,h=3+(p&7),p>>>=3,g-=3}else{for(O=k+7;g<O;){if(l===0)break e;l--,p+=i[o++]<<g,g+=8}p>>>=k,g-=k,_e=0,h=11+(p&127),p>>>=7,g-=7}if(t.have+h>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=ln;break}for(;h--;)t.lens[t.have++]=_e}}if(t.mode===ln)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=ln;break}if(t.lenbits=9,oe={bits:t.lenbits},Q=xs(D0,t.lens,0,t.nlen,t.lencode,0,t.work,oe),t.lenbits=oe.bits,Q){e.msg="invalid literal/lengths set",t.mode=ln;break}if(t.distbits=6,t.distcode=t.distdyn,oe={bits:t.distbits},Q=xs(j0,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,oe),t.distbits=oe.bits,Q){e.msg="invalid distances set",t.mode=ln;break}if(t.mode=Nl,n===Ol)break e;case Nl:t.mode=kl;case kl:if(l>=6&&u>=258){e.next_out=c,e.avail_out=u,e.next_in=o,e.avail_in=l,t.hold=p,t.bits=g,Cg(e,A),c=e.next_out,r=e.output,u=e.avail_out,o=e.next_in,i=e.input,l=e.avail_in,p=t.hold,g=t.bits,t.mode===Ur&&(t.back=-1);break}for(t.back=0;B=t.lencode[p&(1<<t.lenbits)-1],k=B>>>24,Y=B>>>16&255,K=B&65535,!(k<=g);){if(l===0)break e;l--,p+=i[o++]<<g,g+=8}if(Y&&!(Y&240)){for(V=k,ce=Y,ye=K;B=t.lencode[ye+((p&(1<<V+ce)-1)>>V)],k=B>>>24,Y=B>>>16&255,K=B&65535,!(V+k<=g);){if(l===0)break e;l--,p+=i[o++]<<g,g+=8}p>>>=V,g-=V,t.back+=V}if(p>>>=k,g-=k,t.back+=k,t.length=K,Y===0){t.mode=s0;break}if(Y&32){t.back=-1,t.mode=Ur;break}if(Y&64){e.msg="invalid literal/length code",t.mode=ln;break}t.extra=Y&15,t.mode=i0;case i0:if(t.extra){for(O=t.extra;g<O;){if(l===0)break e;l--,p+=i[o++]<<g,g+=8}t.length+=p&(1<<t.extra)-1,p>>>=t.extra,g-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=r0;case r0:for(;B=t.distcode[p&(1<<t.distbits)-1],k=B>>>24,Y=B>>>16&255,K=B&65535,!(k<=g);){if(l===0)break e;l--,p+=i[o++]<<g,g+=8}if(!(Y&240)){for(V=k,ce=Y,ye=K;B=t.distcode[ye+((p&(1<<V+ce)-1)>>V)],k=B>>>24,Y=B>>>16&255,K=B&65535,!(V+k<=g);){if(l===0)break e;l--,p+=i[o++]<<g,g+=8}p>>>=V,g-=V,t.back+=V}if(p>>>=k,g-=k,t.back+=k,Y&64){e.msg="invalid distance code",t.mode=ln;break}t.offset=K,t.extra=Y&15,t.mode=o0;case o0:if(t.extra){for(O=t.extra;g<O;){if(l===0)break e;l--,p+=i[o++]<<g,g+=8}t.offset+=p&(1<<t.extra)-1,p>>>=t.extra,g-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=ln;break}t.mode=a0;case a0:if(u===0)break e;if(h=A-u,t.offset>h){if(h=t.offset-h,h>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=ln;break}h>t.wnext?(h-=t.wnext,j=t.wsize-h):j=t.wnext-h,h>t.length&&(h=t.length),L=t.window}else L=r,j=c-t.offset,h=t.length;h>u&&(h=u),u-=h,t.length-=h;do r[c++]=L[j++];while(--h);t.length===0&&(t.mode=kl);break;case s0:if(u===0)break e;r[c++]=t.length,u--,t.mode=kl;break;case od:if(t.wrap){for(;g<32;){if(l===0)break e;l--,p|=i[o++]<<g,g+=8}if(A-=u,e.total_out+=A,t.total+=A,t.wrap&4&&A&&(e.adler=t.check=t.flags?Rn(t.check,r,A,c-A):Ps(t.check,r,A,c-A)),A=u,t.wrap&4&&(t.flags?p:d0(p))!==t.check){e.msg="incorrect data check",t.mode=ln;break}p=0,g=0}t.mode=l0;case l0:if(t.wrap&&t.flags){for(;g<32;){if(l===0)break e;l--,p+=i[o++]<<g,g+=8}if(t.wrap&4&&p!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=ln;break}p=0,g=0}t.mode=c0;case c0:Q=Mg;break e;case ln:Q=R0;break e;case z0:return B0;case U0:default:return Bi}return e.next_out=c,e.avail_out=u,e.next_in=o,e.avail_in=l,t.hold=p,t.bits=g,(t.wsize||A!==e.avail_out&&t.mode<ln&&(t.mode<od||n!==Uf))&&W0(e,e.output,e.next_out,A-e.avail_out),S-=e.avail_in,A-=e.avail_out,e.total_in+=S,e.total_out+=A,t.total+=A,t.wrap&4&&A&&(e.adler=t.check=t.flags?Rn(t.check,r,A,e.next_out-A):Ps(t.check,r,A,e.next_out-A)),e.data_type=t.bits+(t.last?64:0)+(t.mode===Ur?128:0)+(t.mode===Nl||t.mode===rd?256:0),(S===0&&A===0||n===Uf)&&Q===Vo&&(Q=Ig),Q},qg=e=>{if(Ho(e))return Bi;let n=e.state;return n.window&&(n.window=null),e.state=null,Vo},Vg=(e,n)=>{if(Ho(e))return Bi;let t=e.state;return t.wrap&2?(t.head=n,n.done=!1,Vo):Bi},Hg=(e,n)=>{let t=n.length,i,r,o;return Ho(e)||(i=e.state,i.wrap!==0&&i.mode!==Il)?Bi:i.mode===Il&&(r=1,r=Ps(r,n,t,0),r!==i.check)?R0:(o=W0(e,n,t,t),o?(i.mode=z0,B0):(i.havedict=1,Vo))},Gg=V0,Wg=H0,$g=q0,Zg=Bg,Yg=G0,Kg=Ug,Xg=qg,Jg=Vg,Qg=Hg,e5="pako inflate (from Nodeca project)",Vr={inflateReset:Gg,inflateReset2:Wg,inflateResetKeep:$g,inflateInit:Zg,inflateInit2:Yg,inflate:Kg,inflateEnd:Xg,inflateGetHeader:Jg,inflateSetDictionary:Qg,inflateInfo:e5};function t5(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var n5=t5,$0=Object.prototype.toString,{Z_NO_FLUSH:i5,Z_FINISH:r5,Z_OK:Ns,Z_STREAM_END:ld,Z_NEED_DICT:cd,Z_STREAM_ERROR:o5,Z_DATA_ERROR:f0,Z_MEM_ERROR:a5}=Sa;function Ls(e){this.options=Tl.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});let n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(e&&e.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15||(n.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new F0,this.strm.avail_out=0;let t=Vr.inflateInit2(this.strm,n.windowBits);if(t!==Ns)throw new Error(Uo[t]);if(this.header=new n5,Vr.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=Os.string2buf(n.dictionary):$0.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(t=Vr.inflateSetDictionary(this.strm,n.dictionary),t!==Ns)))throw new Error(Uo[t])}Ls.prototype.push=function(e,n){let t=this.strm,i=this.options.chunkSize,r=this.options.dictionary,o,c,l;if(this.ended)return!1;for(n===~~n?c=n:c=n===!0?r5:i5,$0.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),o=Vr.inflate(t,c),o===cd&&r&&(o=Vr.inflateSetDictionary(t,r),o===Ns?o=Vr.inflate(t,c):o===f0&&(o=cd));t.avail_in>0&&o===ld&&t.state.wrap>0&&e[t.next_in]!==0;)Vr.inflateReset(t),o=Vr.inflate(t,c);switch(o){case o5:case f0:case cd:case a5:return this.onEnd(o),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||o===ld))if(this.options.to==="string"){let u=Os.utf8border(t.output,t.next_out),p=t.next_out-u,g=Os.buf2string(t.output,u);t.next_out=p,t.avail_out=i-p,p&&t.output.set(t.output.subarray(u,u+p),0),this.onData(g)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Ns&&l===0)){if(o===ld)return o=Vr.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Ls.prototype.onData=function(e){this.chunks.push(e)};Ls.prototype.onEnd=function(e){e===Ns&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Tl.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Pd(e,n){let t=new Ls(n);if(t.push(e),t.err)throw t.msg||Uo[t.err];return t.result}function s5(e,n){return n=n||{},n.raw=!0,Pd(e,n)}var l5=Ls,c5=Pd,d5=s5,u5=Pd,f5=Sa,p5={Inflate:l5,inflate:c5,inflateRaw:d5,ungzip:u5,constants:f5},{Deflate:b3,deflate:x3,deflateRaw:w3,gzip:y3}=wg,{Inflate:h5,inflate:m5,inflateRaw:C3,ungzip:S3}=p5;var Ad=h5,Z0=m5;var K0=[];for(let e=0;e<256;e++){let n=e;for(let t=0;t<8;t++)n&1?n=3988292384^n>>>1:n=n>>>1;K0[e]=n}var Y0=4294967295;function g5(e,n,t){let i=e;for(let r=0;r<t;r++)i=K0[(i^n[r])&255]^i>>>8;return i}function _5(e,n){return(g5(Y0,e,n)^Y0)>>>0}function Od(e,n,t){let i=e.readUint32(),r=_5(new Uint8Array(e.buffer,e.byteOffset+e.offset-n-4,n),n);if(r!==i)throw new Error(`CRC mismatch for chunk ${t}. Expected ${i}, found ${r}`)}function jl(e,n,t){for(let i=0;i<t;i++)n[i]=e[i]}function Rl(e,n,t,i){let r=0;for(;r<i;r++)n[r]=e[r];for(;r<t;r++)n[r]=e[r]+n[r-i]&255}function Bl(e,n,t,i){let r=0;if(t.length===0)for(;r<i;r++)n[r]=e[r];else for(;r<i;r++)n[r]=e[r]+t[r]&255}function zl(e,n,t,i,r){let o=0;if(t.length===0){for(;o<r;o++)n[o]=e[o];for(;o<i;o++)n[o]=e[o]+(n[o-r]>>1)&255}else{for(;o<r;o++)n[o]=e[o]+(t[o]>>1)&255;for(;o<i;o++)n[o]=e[o]+(n[o-r]+t[o]>>1)&255}}function Ul(e,n,t,i,r){let o=0;if(t.length===0){for(;o<r;o++)n[o]=e[o];for(;o<i;o++)n[o]=e[o]+n[o-r]&255}else{for(;o<r;o++)n[o]=e[o]+t[o]&255;for(;o<i;o++)n[o]=e[o]+v5(n[o-r],t[o],t[o-r])&255}}function v5(e,n,t){let i=e+n-t,r=Math.abs(i-e),o=Math.abs(i-n),c=Math.abs(i-t);return r<=o&&r<=c?e:o<=c?n:t}function X0(e,n,t,i,r,o){switch(e){case 0:jl(n,t,r);break;case 1:Rl(n,t,r,o);break;case 2:Bl(n,t,i,r);break;case 3:zl(n,t,i,r,o);break;case 4:Ul(n,t,i,r,o);break;default:throw new Error(`Unsupported filter: ${e}`)}}var b5=new Uint16Array([255]),x5=new Uint8Array(b5.buffer),w5=x5[0]===255;function J0(e){let{data:n,width:t,height:i,channels:r,depth:o}=e,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(o/8)*r,u=new Uint8Array(i*t*l),p=0;for(let g=0;g<7;g++){let S=c[g],A=Math.ceil((t-S.x)/S.xStep),h=Math.ceil((i-S.y)/S.yStep);if(A<=0||h<=0)continue;let j=A*l,L=new Uint8Array(j);for(let B=0;B<h;B++){let k=n[p++],Y=n.subarray(p,p+j);p+=j;let K=new Uint8Array(j);X0(k,Y,K,L,j,l),L.set(K);for(let V=0;V<A;V++){let ce=S.x+V*S.xStep,ye=S.y+B*S.yStep;if(!(ce>=t||ye>=i))for(let _e=0;_e<l;_e++)u[(ye*t+ce)*l+_e]=K[V*l+_e]}}}if(o===16){let g=new Uint16Array(u.buffer);if(w5)for(let S=0;S<g.length;S++)g[S]=y5(g[S]);return g}else return u}function y5(e){return(e&255)<<8|e>>8&255}var C5=new Uint16Array([255]),S5=new Uint8Array(C5.buffer),P5=S5[0]===255,A5=new Uint8Array(0);function Nd(e){let{data:n,width:t,height:i,channels:r,depth:o}=e,c=Math.ceil(o/8)*r,l=Math.ceil(o/8*r*t),u=new Uint8Array(i*l),p=A5,g=0,S,A;for(let h=0;h<i;h++){switch(S=n.subarray(g+1,g+1+l),A=u.subarray(h*l,(h+1)*l),n[g]){case 0:jl(S,A,l);break;case 1:Rl(S,A,l,c);break;case 2:Bl(S,A,p,l);break;case 3:zl(S,A,p,l,c);break;case 4:Ul(S,A,p,l,c);break;default:throw new Error(`Unsupported filter: ${n[g]}`)}p=A,g+=l+1}if(o===16){let h=new Uint16Array(u.buffer);if(P5)for(let j=0;j<h.length;j++)h[j]=O5(h[j]);return h}else return u}function O5(e){return(e&255)<<8|e>>8&255}var ql=Uint8Array.of(137,80,78,71,13,10,26,10);function kd(e){if(!Q0(e.readBytes(ql.length)))throw new Error("wrong PNG signature")}function Q0(e){if(e.length<ql.length)return!1;for(let n=0;n<ql.length;n++)if(e[n]!==ql[n])return!1;return!0}var ep="tEXt",k5=0,tp=new TextDecoder("latin1");function E5(e){if(L5(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}var M5=/^[\u0000-\u00FF]*$/;function L5(e){if(!M5.test(e))throw new Error("invalid latin1 text")}function np(e,n,t){let i=Ed(n);e[i]=I5(n,t-i.length-1)}function Ed(e){for(e.mark();e.readByte()!==k5;);let n=e.offset;e.reset();let t=tp.decode(e.readBytes(n-e.offset-1));return e.skip(1),E5(t),t}function I5(e,n){return tp.decode(e.readBytes(n))}var oi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Is={UNKNOWN:-1,DEFLATE:0},Vl={UNKNOWN:-1,ADAPTIVE:0},Fs={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ts={NONE:0,BACKGROUND:1,PREVIOUS:2},Hl={SOURCE:0,OVER:1};var Gl=class extends hs{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(n,t={}){super(n);let{checkCrc:i=!1}=t;this._checkCrc=i,this._inflator=new Ad,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Is.UNKNOWN,this._filterMethod=Vl.UNKNOWN,this._interlaceMethod=Fs.UNKNOWN,this._colorType=oi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(kd(this);!this._end;){let n=this.readUint32(),t=this.readChars(4);this.decodeChunk(n,t)}return this.decodeImage(),this._png}decodeApng(){for(kd(this);!this._end;){let n=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(n,t)}return this.decodeApngImage(),this._apng}decodeChunk(n,t){let i=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case ep:np(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Od(this,n+4,t):this.skip(4)}decodeApngChunk(n,t){let i=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,t),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Od(this,n+4,t):this.skip(4)}decodeIHDR(){let n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=F5(this.readUint8());let t=this.readUint8();this._colorType=t;let i;switch(t){case oi.GREYSCALE:i=1;break;case oi.TRUECOLOUR:i=3;break;case oi.INDEXED_COLOUR:i=1;break;case oi.GREYSCALE_ALPHA:i=2;break;case oi.TRUECOLOUR_ALPHA:i=4;break;case oi.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Is.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){let n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);let t=n/3;this._hasPalette=!0;let i=[];this._palette=i;for(let r=0;r<t;r++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;let t=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let t=n,i=this.offset+this.byteOffset;if(i+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case oi.GREYSCALE:case oi.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let t=0;t<n/2;t++)this._transparency[t]=this.readUint16();break}case oi.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let t=0;for(;t<n;t++){let i=this.readByte();this._palette[t].push(i)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case oi.UNKNOWN:case oi.GREYSCALE_ALPHA:case oi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){let t=Ed(this),i=this.readUint8();if(i!==Is.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);let r=this.readBytes(n-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:Z0(r)}}decodepHYs(){let n=this.readUint32(),t=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:t,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){let t={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=Nd({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)t.data=i.data;else{let r=this._apng.frames.at(n-1);this.disposeFrame(i,r,t),this.addFrameDataToCanvas(t,i)}this._apng.frames.push(t)}}return this._apng}disposeFrame(n,t,i){switch(n.disposeOp){case Ts.NONE:break;case Ts.BACKGROUND:for(let r=0;r<this._png.height;r++)for(let o=0;o<this._png.width;o++){let c=(r*n.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[c+l]=0}break;case Ts.PREVIOUS:i.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,t){let i=1<<this._png.depth,r=(o,c)=>{let l=((o+t.yOffset)*this._png.width+t.xOffset+c)*this._png.channels,u=(o*t.width+c)*this._png.channels;return{index:l,frameIndex:u}};switch(t.blendOp){case Hl.SOURCE:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){let{index:l,frameIndex:u}=r(o,c);for(let p=0;p<this._png.channels;p++)n.data[l+p]=t.data[u+p]}break;case Hl.OVER:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){let{index:l,frameIndex:u}=r(o,c);for(let p=0;p<this._png.channels;p++){let g=t.data[u+this._png.channels-1]/i,S=p%(this._png.channels-1)===0?1:t.data[u+p],A=Math.floor(g*S+(1-g)*n.data[l+p]);n.data[l+p]+=A}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);let n=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Vl.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Fs.NO_INTERLACE)this._png.data=Nd({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Fs.ADAM7)this._png.data=J0({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){let n=this._inflator.result,t=this._frames.at(-1);t?t.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ts.NONE,blendOp:Hl.SOURCE,data:n}),this._inflator=new Ad,this._writingDataChunks=!1}};function F5(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}function ip(e,n){return new Gl(e,n).decode()}var lt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Md(){lt.console&&typeof lt.console.log=="function"&&lt.console.log.apply(lt.console,arguments)}var Kt={log:Md,warn:function(e){lt.console&&(typeof lt.console.warn=="function"?lt.console.warn.apply(lt.console,arguments):Md.call(null,arguments))},error:function(e){lt.console&&(typeof lt.console.error=="function"?lt.console.error.apply(lt.console,arguments):Md(e))}};function Ld(e,n,t){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){Go(i.response,n,t)},i.onerror=function(){Kt.error("could not download file")},i.send()}function rp(e){var n=new XMLHttpRequest;n.open("HEAD",e,!1);try{n.send()}catch{}return n.status>=200&&n.status<=299}function Wl(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var Go=lt.saveAs||((typeof window>"u"?"undefined":$t(window))!=="object"||window!==lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,n,t){var i=lt.URL||lt.webkitURL,r=document.createElement("a");n=n||e.name||"download",r.download=n,r.rel="noopener",typeof e=="string"?(r.href=e,r.origin!==location.origin?rp(r.href)?Ld(e,n,t):Wl(r,r.target="_blank"):Wl(r)):(r.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){Wl(r)},0))}:"msSaveOrOpenBlob"in navigator?function(e,n,t){if(n=n||e.name||"download",typeof e=="string")if(rp(e))Ld(e,n,t);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){Wl(i)})}else navigator.msSaveOrOpenBlob(function(r,o){return o===void 0?o={autoBom:!1}:$t(o)!=="object"&&(Kt.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(e,t),n)}:function(e,n,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof e=="string")return Ld(e,n,t);var r=e.type==="application/octet-stream",o=/constructor/i.test(lt.HTMLElement)||lt.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||r&&o)&&(typeof FileReader>"u"?"undefined":$t(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var g=l.result;g=c?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=g:location=g,i=null},l.readAsDataURL(e)}else{var u=lt.URL||lt.webkitURL,p=u.createObjectURL(e);i?i.location=p:location.href=p,i=null,setTimeout(function(){u.revokeObjectURL(p)},4e4)}});function Np(e){var n;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],i=0;i<t.length;i++){var r=t[i].re,o=t[i].process,c=r.exec(e);c&&(n=o(c),this.r=n[0],this.g=n[1],this.b=n[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),p=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),p.length==1&&(p="0"+p),"#"+l+u+p}}var Kl=lt.atob.bind(lt),op=lt.btoa.bind(lt);function Id(e,n){var t=e[0],i=e[1],r=e[2],o=e[3];t=Kn(t,i,r,o,n[0],7,-680876936),o=Kn(o,t,i,r,n[1],12,-389564586),r=Kn(r,o,t,i,n[2],17,606105819),i=Kn(i,r,o,t,n[3],22,-1044525330),t=Kn(t,i,r,o,n[4],7,-176418897),o=Kn(o,t,i,r,n[5],12,1200080426),r=Kn(r,o,t,i,n[6],17,-1473231341),i=Kn(i,r,o,t,n[7],22,-45705983),t=Kn(t,i,r,o,n[8],7,1770035416),o=Kn(o,t,i,r,n[9],12,-1958414417),r=Kn(r,o,t,i,n[10],17,-42063),i=Kn(i,r,o,t,n[11],22,-1990404162),t=Kn(t,i,r,o,n[12],7,1804603682),o=Kn(o,t,i,r,n[13],12,-40341101),r=Kn(r,o,t,i,n[14],17,-1502002290),t=Xn(t,i=Kn(i,r,o,t,n[15],22,1236535329),r,o,n[1],5,-165796510),o=Xn(o,t,i,r,n[6],9,-1069501632),r=Xn(r,o,t,i,n[11],14,643717713),i=Xn(i,r,o,t,n[0],20,-373897302),t=Xn(t,i,r,o,n[5],5,-701558691),o=Xn(o,t,i,r,n[10],9,38016083),r=Xn(r,o,t,i,n[15],14,-660478335),i=Xn(i,r,o,t,n[4],20,-405537848),t=Xn(t,i,r,o,n[9],5,568446438),o=Xn(o,t,i,r,n[14],9,-1019803690),r=Xn(r,o,t,i,n[3],14,-187363961),i=Xn(i,r,o,t,n[8],20,1163531501),t=Xn(t,i,r,o,n[13],5,-1444681467),o=Xn(o,t,i,r,n[2],9,-51403784),r=Xn(r,o,t,i,n[7],14,1735328473),t=Jn(t,i=Xn(i,r,o,t,n[12],20,-1926607734),r,o,n[5],4,-378558),o=Jn(o,t,i,r,n[8],11,-2022574463),r=Jn(r,o,t,i,n[11],16,1839030562),i=Jn(i,r,o,t,n[14],23,-35309556),t=Jn(t,i,r,o,n[1],4,-1530992060),o=Jn(o,t,i,r,n[4],11,1272893353),r=Jn(r,o,t,i,n[7],16,-155497632),i=Jn(i,r,o,t,n[10],23,-1094730640),t=Jn(t,i,r,o,n[13],4,681279174),o=Jn(o,t,i,r,n[0],11,-358537222),r=Jn(r,o,t,i,n[3],16,-722521979),i=Jn(i,r,o,t,n[6],23,76029189),t=Jn(t,i,r,o,n[9],4,-640364487),o=Jn(o,t,i,r,n[12],11,-421815835),r=Jn(r,o,t,i,n[15],16,530742520),t=Qn(t,i=Jn(i,r,o,t,n[2],23,-995338651),r,o,n[0],6,-198630844),o=Qn(o,t,i,r,n[7],10,1126891415),r=Qn(r,o,t,i,n[14],15,-1416354905),i=Qn(i,r,o,t,n[5],21,-57434055),t=Qn(t,i,r,o,n[12],6,1700485571),o=Qn(o,t,i,r,n[3],10,-1894986606),r=Qn(r,o,t,i,n[10],15,-1051523),i=Qn(i,r,o,t,n[1],21,-2054922799),t=Qn(t,i,r,o,n[8],6,1873313359),o=Qn(o,t,i,r,n[15],10,-30611744),r=Qn(r,o,t,i,n[6],15,-1560198380),i=Qn(i,r,o,t,n[13],21,1309151649),t=Qn(t,i,r,o,n[4],6,-145523070),o=Qn(o,t,i,r,n[11],10,-1120210379),r=Qn(r,o,t,i,n[2],15,718787259),i=Qn(i,r,o,t,n[9],21,-343485551),e[0]=ho(t,e[0]),e[1]=ho(i,e[1]),e[2]=ho(r,e[2]),e[3]=ho(o,e[3])}function ic(e,n,t,i,r,o){return n=ho(ho(n,e),ho(i,o)),ho(n<<r|n>>>32-r,t)}function Kn(e,n,t,i,r,o,c){return ic(n&t|~n&i,e,n,r,o,c)}function Xn(e,n,t,i,r,o,c){return ic(n&i|t&~i,e,n,r,o,c)}function Jn(e,n,t,i,r,o,c){return ic(n^t^i,e,n,r,o,c)}function Qn(e,n,t,i,r,o,c){return ic(t^(n|~i),e,n,r,o,c)}function kp(e){var n,t=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=e.length;n+=64)Id(i,T5(e.substring(n-64,n)));e=e.substring(n-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<e.length;n++)r[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(r[n>>2]|=128<<(n%4<<3),n>55)for(Id(i,r),n=0;n<16;n++)r[n]=0;return r[14]=8*t,Id(i,r),i}function T5(e){var n,t=[];for(n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}var ap="0123456789abcdef".split("");function D5(e){for(var n="",t=0;t<4;t++)n+=ap[e>>8*t+4&15]+ap[e>>8*t&15];return n}function j5(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Bd(e){return kp(e).map(j5).join("")}var R5=function(e){for(var n=0;n<e.length;n++)e[n]=D5(e[n]);return e.join("")}(kp("hello"))!="5d41402abc4b2a76b9719d911017c592";function ho(e,n){if(R5){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t}return e+n&4294967295}function zd(e,n){var t,i,r,o;if(e!==t){for(var c=(r=e,o=1+(256/e.length|0),new Array(o+1).join(r)),l=[],u=0;u<256;u++)l[u]=u;var p=0;for(u=0;u<256;u++){var g=l[u];p=(p+g+c.charCodeAt(u))%256,l[u]=l[p],l[p]=g}t=e,i=l}else l=i;var S=n.length,A=0,h=0,j="";for(u=0;u<S;u++)h=(h+(g=l[A=(A+1)%256]))%256,l[A]=l[h],l[h]=g,c=l[(l[A]+l[h])%256],j+=String.fromCharCode(n.charCodeAt(u)^c);return j}var sp={print:4,modify:8,copy:16,"annot-forms":32};function ka(e,n,t,i){this.v=1,this.r=2;var r=192;e.forEach(function(l){if(sp.perm!==void 0)throw new Error("Invalid permission: "+l);r+=sp[l]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var o=(n+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^r)),this.encryptionKey=Bd(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=zd(this.encryptionKey,this.padding)}function Ea(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var n="",t=e.length,i=0;i<t;i++){var r=e.charCodeAt(i);n+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):e[i]}return n}function lp(e){if($t(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var n={};this.subscribe=function(t,i,r){if(r=r||!1,typeof t!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");n.hasOwnProperty(t)||(n[t]={});var o=Math.random().toString(35);return n[t][o]=[i,!!r],o},this.unsubscribe=function(t){for(var i in n)if(n[i][t])return delete n[i][t],Object.keys(n[i]).length===0&&delete n[i],!0;return!1},this.publish=function(t){if(n.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var o in n[t]){var c=n[t][o];try{c[0].apply(e,i)}catch(l){lt.console&&Kt.error("jsPDF PubSub Error",l.message,l)}c[1]&&r.push(o)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return n}}function tc(e){if(!(this instanceof tc))return new tc(e);var n="opacity,stroke-opacity".split(",");for(var t in e)e.hasOwnProperty(t)&&n.indexOf(t)>=0&&(this[t]=e[t]);this.id="",this.objectNumber=-1}function Ep(e,n){this.gState=e,this.matrix=n,this.id="",this.objectNumber=-1}function Wo(e,n,t,i,r){if(!(this instanceof Wo))return new Wo(e,n,t,i,r);this.type=e==="axial"?2:3,this.coords=n,this.colors=t,Ep.call(this,i,r)}function Ma(e,n,t,i,r){if(!(this instanceof Ma))return new Ma(e,n,t,i,r);this.boundingBox=e,this.xStep=n,this.yStep=t,this.stream="",this.cloneIndex=0,Ep.call(this,i,r)}function Ze(e){var n,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],o=arguments[3],c=[],l=1,u=16,p="S",g=null;$t(e=e||{})==="object"&&(t=e.orientation,i=e.unit||i,r=e.format||r,o=e.compress||e.compressPdf||o,(g=e.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(n=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),p=e.defaultPathOperation||"S"),c=e.filters||(o===!0?["FlateEncode"]:c),i=i||"mm",t=(""+(t||"P")).toLowerCase();var S=e.putOnlyUsedFonts||!1,A={},h={internal:{},__private__:{}};h.__private__.PubSub=lp;var j="1.3",L=h.__private__.getPdfVersion=function(){return j};h.__private__.setPdfVersion=function(d){j=d};var B={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return B};var k=h.__private__.getPageFormat=function(d){return B[d]};r=r||"a4";var Y="compat",K="advanced",V=Y;function ce(){this.saveGraphicsState(),E(new at(mt,0,0,-mt,0,So()*mt).toString()+" cm"),this.setFontSize(this.getFontSize()/mt),p="n",V=K}function ye(){this.restoreGraphicsState(),p="S",V=Y}var _e=h.__private__.combineFontStyleAndFontWeight=function(d,_){if(d=="bold"&&_=="normal"||d=="bold"&&_==400||d=="normal"&&_=="italic"||d=="bold"&&_=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return _&&(d=_==400||_==="normal"?d==="italic"?"italic":"normal":_!=700&&_!=="bold"||d!=="normal"?(_==700?"bold":_)+""+d:"bold"),d};h.advancedAPI=function(d){var _=V===Y;return _&&ce.call(this),typeof d!="function"||(d(this),_&&ye.call(this)),this},h.compatAPI=function(d){var _=V===K;return _&&ye.call(this),typeof d!="function"||(d(this),_&&ce.call(this)),this},h.isAdvancedAPI=function(){return V===K};var Q,z=function(d){if(V!==K)throw new Error(d+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},oe=h.roundToPrecision=h.__private__.roundToPrecision=function(d,_){var D=n||_;if(isNaN(d)||isNaN(D))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return d.toFixed(D).replace(/0+$/,"")};Q=h.hpf=h.__private__.hpf=typeof u=="number"?function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(d,u)}:u==="smart"?function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(d,d>-1&&d<1?16:5)}:function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(d,16)};var O=h.f2=h.__private__.f2=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.f2");return oe(d,2)},T=h.__private__.f3=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.f3");return oe(d,3)},W=h.scale=h.__private__.scale=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.scale");return V===Y?d*mt:V===K?d:void 0},G=function(d){return W(function(_){return V===Y?So()-_:V===K?_:void 0}(d))};h.__private__.setPrecision=h.setPrecision=function(d){typeof parseInt(d,10)=="number"&&(n=parseInt(d,10))};var le,fe="00000000000000000000000000000000",he=h.__private__.getFileId=function(){return fe},se=h.__private__.setFileId=function(d){return fe=d!==void 0&&/^[a-fA-F0-9]{32}$/.test(d)?d.toUpperCase():fe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(Nn=new ka(g.userPermissions,g.userPassword,g.ownerPassword,fe)),fe};h.setFileId=function(d){return se(d),this},h.getFileId=function(){return he()};var ge=h.__private__.convertDateToPDFDate=function(d){var _=d.getTimezoneOffset(),D=_<0?"+":"-",H=Math.floor(Math.abs(_/60)),ee=Math.abs(_%60),ve=[D,U(H),"'",U(ee),"'"].join("");return["D:",d.getFullYear(),U(d.getMonth()+1),U(d.getDate()),U(d.getHours()),U(d.getMinutes()),U(d.getSeconds()),ve].join("")},Me=h.__private__.convertPDFDateToDate=function(d){var _=parseInt(d.substr(2,4),10),D=parseInt(d.substr(6,2),10)-1,H=parseInt(d.substr(8,2),10),ee=parseInt(d.substr(10,2),10),ve=parseInt(d.substr(12,2),10),Ce=parseInt(d.substr(14,2),10);return new Date(_,D,H,ee,ve,Ce,0)},Pe=h.__private__.setCreationDate=function(d){var _;if(d===void 0&&(d=new Date),d instanceof Date)_=ge(d);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(d))throw new Error("Invalid argument passed to jsPDF.setCreationDate");_=d}return le=_},C=h.__private__.getCreationDate=function(d){var _=le;return d==="jsDate"&&(_=Me(le)),_};h.setCreationDate=function(d){return Pe(d),this},h.getCreationDate=function(d){return C(d)};var R,U=h.__private__.padd2=function(d){return("0"+parseInt(d)).slice(-2)},$=h.__private__.padd2Hex=function(d){return("00"+(d=d.toString())).substr(d.length)},J=0,ie=[],de=[],ue=0,xe=[],Ee=[],Te=!1,Fe=de;h.__private__.setCustomOutputDestination=function(d){Te=!0,Fe=d};var Xe=function(d){Te||(Fe=d)};h.__private__.resetCustomOutputDestination=function(){Te=!1,Fe=de};var E=h.__private__.out=function(d){return d=d.toString(),ue+=d.length+1,Fe.push(d),Fe},Ie=h.__private__.write=function(d){return E(arguments.length===1?d.toString():Array.prototype.join.call(arguments," "))},xt=h.__private__.getArrayBuffer=function(d){for(var _=d.length,D=new ArrayBuffer(_),H=new Uint8Array(D);_--;)H[_]=d.charCodeAt(_);return D},nt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return nt};var Oe=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(d){return Oe=V===K?d/mt:d,this};var it,je=h.__private__.getFontSize=h.getFontSize=function(){return V===Y?Oe:Oe*mt},tt=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(d){return tt=d,this},h.__private__.getR2L=h.getR2L=function(){return tt};var Qe,qt=h.__private__.setZoomMode=function(d){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(d))it=d;else if(isNaN(d)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(d)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+d+'" is not recognized.');it=d}else it=parseInt(d,10)};h.__private__.getZoomMode=function(){return it};var Ot,ft=h.__private__.setPageMode=function(d){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(d)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+d+'" is not recognized.');Qe=d};h.__private__.getPageMode=function(){return Qe};var kt=h.__private__.setLayoutMode=function(d){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(d)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+d+'" is not recognized.');Ot=d};h.__private__.getLayoutMode=function(){return Ot},h.__private__.setDisplayMode=h.setDisplayMode=function(d,_,D){return qt(d),kt(_),ft(D),this};var Nt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(d){if(Object.keys(Nt).indexOf(d)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Nt[d]},h.__private__.getDocumentProperties=function(){return Nt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(d){for(var _ in Nt)Nt.hasOwnProperty(_)&&d[_]&&(Nt[_]=d[_]);return this},h.__private__.setDocumentProperty=function(d,_){if(Object.keys(Nt).indexOf(d)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Nt[d]=_};var We,mt,Ke,gn,Dt,St={},Pt={},nn=[],et={},Xt={},st={},pt={},rn=null,At=0,ot=[],Vt=new lp(h),go=e.hotfixes||[],Zn={},br={},Ji=[],at=function d(_,D,H,ee,ve,Ce){if(!(this instanceof d))return new d(_,D,H,ee,ve,Ce);isNaN(_)&&(_=1),isNaN(D)&&(D=0),isNaN(H)&&(H=0),isNaN(ee)&&(ee=1),isNaN(ve)&&(ve=0),isNaN(Ce)&&(Ce=0),this._matrix=[_,D,H,ee,ve,Ce]};Object.defineProperty(at.prototype,"sx",{get:function(){return this._matrix[0]},set:function(d){this._matrix[0]=d}}),Object.defineProperty(at.prototype,"shy",{get:function(){return this._matrix[1]},set:function(d){this._matrix[1]=d}}),Object.defineProperty(at.prototype,"shx",{get:function(){return this._matrix[2]},set:function(d){this._matrix[2]=d}}),Object.defineProperty(at.prototype,"sy",{get:function(){return this._matrix[3]},set:function(d){this._matrix[3]=d}}),Object.defineProperty(at.prototype,"tx",{get:function(){return this._matrix[4]},set:function(d){this._matrix[4]=d}}),Object.defineProperty(at.prototype,"ty",{get:function(){return this._matrix[5]},set:function(d){this._matrix[5]=d}}),Object.defineProperty(at.prototype,"a",{get:function(){return this._matrix[0]},set:function(d){this._matrix[0]=d}}),Object.defineProperty(at.prototype,"b",{get:function(){return this._matrix[1]},set:function(d){this._matrix[1]=d}}),Object.defineProperty(at.prototype,"c",{get:function(){return this._matrix[2]},set:function(d){this._matrix[2]=d}}),Object.defineProperty(at.prototype,"d",{get:function(){return this._matrix[3]},set:function(d){this._matrix[3]=d}}),Object.defineProperty(at.prototype,"e",{get:function(){return this._matrix[4]},set:function(d){this._matrix[4]=d}}),Object.defineProperty(at.prototype,"f",{get:function(){return this._matrix[5]},set:function(d){this._matrix[5]=d}}),Object.defineProperty(at.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(at.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(at.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(at.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),at.prototype.join=function(d){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Q).join(d)},at.prototype.multiply=function(d){var _=d.sx*this.sx+d.shy*this.shx,D=d.sx*this.shy+d.shy*this.sy,H=d.shx*this.sx+d.sy*this.shx,ee=d.shx*this.shy+d.sy*this.sy,ve=d.tx*this.sx+d.ty*this.shx+this.tx,Ce=d.tx*this.shy+d.ty*this.sy+this.ty;return new at(_,D,H,ee,ve,Ce)},at.prototype.decompose=function(){var d=this.sx,_=this.shy,D=this.shx,H=this.sy,ee=this.tx,ve=this.ty,Ce=Math.sqrt(d*d+_*_),Ue=(d/=Ce)*D+(_/=Ce)*H;D-=d*Ue,H-=_*Ue;var $e=Math.sqrt(D*D+H*H);return Ue/=$e,d*(H/=$e)<_*(D/=$e)&&(d=-d,_=-_,Ue=-Ue,Ce=-Ce),{scale:new at(Ce,0,0,$e,0,0),translate:new at(1,0,0,1,ee,ve),rotate:new at(d,_,-_,d,0,0),skew:new at(1,0,Ue,1,0,0)}},at.prototype.toString=function(d){return this.join(" ")},at.prototype.inversed=function(){var d=this.sx,_=this.shy,D=this.shx,H=this.sy,ee=this.tx,ve=this.ty,Ce=1/(d*H-_*D),Ue=H*Ce,$e=-_*Ce,ct=-D*Ce,gt=d*Ce;return new at(Ue,$e,ct,gt,-Ue*ee-ct*ve,-$e*ee-gt*ve)},at.prototype.applyToPoint=function(d){var _=d.x*this.sx+d.y*this.shx+this.tx,D=d.x*this.shy+d.y*this.sy+this.ty;return new Ar(_,D)},at.prototype.applyToRectangle=function(d){var _=this.applyToPoint(d),D=this.applyToPoint(new Ar(d.x+d.w,d.y+d.h));return new Ha(_.x,_.y,D.x-_.x,D.y-_.y)},at.prototype.clone=function(){var d=this.sx,_=this.shy,D=this.shx,H=this.sy,ee=this.tx,ve=this.ty;return new at(d,_,D,H,ee,ve)},h.Matrix=at;var xr=h.matrixMult=function(d,_){return _.multiply(d)},wr=new at(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=wr;var Si=function(d,_){if(!Xt[d]){var D=(_ instanceof Wo?"Sh":"P")+(Object.keys(et).length+1).toString(10);_.id=D,Xt[d]=D,et[D]=_,Vt.publish("addPattern",_)}};h.ShadingPattern=Wo,h.TilingPattern=Ma,h.addShadingPattern=function(d,_){return z("addShadingPattern()"),Si(d,_),this},h.beginTilingPattern=function(d){z("beginTilingPattern()"),Ga(d.boundingBox[0],d.boundingBox[1],d.boundingBox[2]-d.boundingBox[0],d.boundingBox[3]-d.boundingBox[1],d.matrix)},h.endTilingPattern=function(d,_){z("endTilingPattern()"),_.stream=Ee[R].join(`
`),Si(d,_),Vt.publish("endTilingPattern",_),Ji.pop().restore()};var Pi,dn=h.__private__.newObject=function(){var d=Fn();return zn(d,!0),d},Fn=h.__private__.newObjectDeferred=function(){return J++,ie[J]=function(){return ue},J},zn=function(d,_){return _=typeof _=="boolean"&&_,ie[d]=ue,_&&E(d+" 0 obj"),d},_o=h.__private__.newAdditionalObject=function(){var d={objId:Fn(),content:""};return xe.push(d),d},Hr=Fn(),zi=Fn(),Qi=h.__private__.decodeColorString=function(d){var _=d.split(" ");if(_.length!==2||_[1]!=="g"&&_[1]!=="G")_.length!==5||_[4]!=="k"&&_[4]!=="K"||(_=[(1-_[0])*(1-_[3]),(1-_[1])*(1-_[3]),(1-_[2])*(1-_[3]),"r"]);else{var D=parseFloat(_[0]);_=[D,D,D,"r"]}for(var H="#",ee=0;ee<3;ee++)H+=("0"+Math.floor(255*parseFloat(_[ee])).toString(16)).slice(-2);return H},Ui=h.__private__.encodeColorString=function(d){var _;typeof d=="string"&&(d={ch1:d});var D=d.ch1,H=d.ch2,ee=d.ch3,ve=d.ch4,Ce=d.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof D=="string"&&D.charAt(0)!=="#"){var Ue=new Np(D);if(Ue.ok)D=Ue.toHex();else if(!/^\d*\.?\d*$/.test(D))throw new Error('Invalid color "'+D+'" passed to jsPDF.encodeColorString.')}if(typeof D=="string"&&/^#[0-9A-Fa-f]{3}$/.test(D)&&(D="#"+D[1]+D[1]+D[2]+D[2]+D[3]+D[3]),typeof D=="string"&&/^#[0-9A-Fa-f]{6}$/.test(D)){var $e=parseInt(D.substr(1),16);D=$e>>16&255,H=$e>>8&255,ee=255&$e}if(H===void 0||ve===void 0&&D===H&&H===ee)_=typeof D=="string"?D+" "+Ce[0]:d.precision===2?O(D/255)+" "+Ce[0]:T(D/255)+" "+Ce[0];else if(ve===void 0||$t(ve)==="object"){if(ve&&!isNaN(ve.a)&&ve.a===0)return["1.","1.","1.",Ce[1]].join(" ");_=typeof D=="string"?[D,H,ee,Ce[1]].join(" "):d.precision===2?[O(D/255),O(H/255),O(ee/255),Ce[1]].join(" "):[T(D/255),T(H/255),T(ee/255),Ce[1]].join(" ")}else _=typeof D=="string"?[D,H,ee,ve,Ce[2]].join(" "):d.precision===2?[O(D),O(H),O(ee),O(ve),Ce[2]].join(" "):[T(D),T(H),T(ee),T(ve),Ce[2]].join(" ");return _},qi=h.__private__.getFilters=function(){return c},Ai=h.__private__.putStream=function(d){var _=(d=d||{}).data||"",D=d.filters||qi(),H=d.alreadyAppliedFilters||[],ee=d.addLength1||!1,ve=_.length,Ce=d.objectId,Ue=function(kn){return kn};if(g!==null&&Ce===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(Ue=Nn.encryptor(Ce,0));var $e={};D===!0&&(D=["FlateEncode"]);var ct=d.additionalKeyValues||[],gt=($e=Ze.API.processDataByFilters!==void 0?Ze.API.processDataByFilters(_,D):{data:_,reverseChain:[]}).reverseChain+(Array.isArray(H)?H.join(" "):H.toString());if($e.data.length!==0&&(ct.push({key:"Length",value:$e.data.length}),ee===!0&&ct.push({key:"Length1",value:ve})),gt.length!=0)if(gt.split("/").length-1==1)ct.push({key:"Filter",value:gt});else{ct.push({key:"Filter",value:"["+gt+"]"});for(var jt=0;jt<ct.length;jt+=1)if(ct[jt].key==="DecodeParms"){for(var cn=[],Pn=0;Pn<$e.reverseChain.split("/").length-1;Pn+=1)cn.push("null");cn.push(ct[jt].value),ct[jt].value="["+cn.join(" ")+"]"}}E("<<");for(var Jt=0;Jt<ct.length;Jt++)E("/"+ct[Jt].key+" "+ct[Jt].value);E(">>"),$e.data.length!==0&&(E("stream"),E(Ue($e.data)),E("endstream"))},vo=h.__private__.putPage=function(d){var _=d.number,D=d.data,H=d.objId,ee=d.contentsObjId;zn(H,!0),E("<</Type /Page"),E("/Parent "+d.rootDictionaryObjId+" 0 R"),E("/Resources "+d.resourceDictionaryObjId+" 0 R"),E("/MediaBox ["+parseFloat(Q(d.mediaBox.bottomLeftX))+" "+parseFloat(Q(d.mediaBox.bottomLeftY))+" "+Q(d.mediaBox.topRightX)+" "+Q(d.mediaBox.topRightY)+"]"),d.cropBox!==null&&E("/CropBox ["+Q(d.cropBox.bottomLeftX)+" "+Q(d.cropBox.bottomLeftY)+" "+Q(d.cropBox.topRightX)+" "+Q(d.cropBox.topRightY)+"]"),d.bleedBox!==null&&E("/BleedBox ["+Q(d.bleedBox.bottomLeftX)+" "+Q(d.bleedBox.bottomLeftY)+" "+Q(d.bleedBox.topRightX)+" "+Q(d.bleedBox.topRightY)+"]"),d.trimBox!==null&&E("/TrimBox ["+Q(d.trimBox.bottomLeftX)+" "+Q(d.trimBox.bottomLeftY)+" "+Q(d.trimBox.topRightX)+" "+Q(d.trimBox.topRightY)+"]"),d.artBox!==null&&E("/ArtBox ["+Q(d.artBox.bottomLeftX)+" "+Q(d.artBox.bottomLeftY)+" "+Q(d.artBox.topRightX)+" "+Q(d.artBox.topRightY)+"]"),typeof d.userUnit=="number"&&d.userUnit!==1&&E("/UserUnit "+d.userUnit),Vt.publish("putPage",{objId:H,pageContext:ot[_],pageNumber:_,page:D}),E("/Contents "+ee+" 0 R"),E(">>"),E("endobj");var ve=D.join(`
`);return V===K&&(ve+=`
Q`),zn(ee,!0),Ai({data:ve,filters:qi(),objectId:ee}),E("endobj"),H},er=h.__private__.putPages=function(){var d,_,D=[];for(d=1;d<=At;d++)ot[d].objId=Fn(),ot[d].contentsObjId=Fn();for(d=1;d<=At;d++)D.push(vo({number:d,data:Ee[d],objId:ot[d].objId,contentsObjId:ot[d].contentsObjId,mediaBox:ot[d].mediaBox,cropBox:ot[d].cropBox,bleedBox:ot[d].bleedBox,trimBox:ot[d].trimBox,artBox:ot[d].artBox,userUnit:ot[d].userUnit,rootDictionaryObjId:Hr,resourceDictionaryObjId:zi}));zn(Hr,!0),E("<</Type /Pages");var H="/Kids [";for(_=0;_<At;_++)H+=D[_]+" 0 R ";E(H+"]"),E("/Count "+At),E(">>"),E("endobj"),Vt.publish("postPutPages")},bo=function(d){Vt.publish("putFont",{font:d,out:E,newObject:dn,putStream:Ai}),d.isAlreadyPutted!==!0&&(d.objectNumber=dn(),E("<<"),E("/Type /Font"),E("/BaseFont /"+Ea(d.postScriptName)),E("/Subtype /Type1"),typeof d.encoding=="string"&&E("/Encoding /"+d.encoding),E("/FirstChar 32"),E("/LastChar 255"),E(">>"),E("endobj"))},Yo=function(d){d.objectNumber=dn();var _=[];_.push({key:"Type",value:"/XObject"}),_.push({key:"Subtype",value:"/Form"}),_.push({key:"BBox",value:"["+[Q(d.x),Q(d.y),Q(d.x+d.width),Q(d.y+d.height)].join(" ")+"]"}),_.push({key:"Matrix",value:"["+d.matrix.toString()+"]"});var D=d.pages[1].join(`
`);Ai({data:D,additionalKeyValues:_,objectId:d.objectNumber}),E("endobj")},Ko=function(d,_){_||(_=21);var D=dn(),H=function(Ce,Ue){var $e,ct=[],gt=1/(Ue-1);for($e=0;$e<1;$e+=gt)ct.push($e);if(ct.push(1),Ce[0].offset!=0){var jt={offset:0,color:Ce[0].color};Ce.unshift(jt)}if(Ce[Ce.length-1].offset!=1){var cn={offset:1,color:Ce[Ce.length-1].color};Ce.push(cn)}for(var Pn="",Jt=0,kn=0;kn<ct.length;kn++){for($e=ct[kn];$e>Ce[Jt+1].offset;)Jt++;var An=Ce[Jt].offset,Un=($e-An)/(Ce[Jt+1].offset-An),kr=Ce[Jt].color,Hi=Ce[Jt+1].color;Pn+=$(Math.round((1-Un)*kr[0]+Un*Hi[0]).toString(16))+$(Math.round((1-Un)*kr[1]+Un*Hi[1]).toString(16))+$(Math.round((1-Un)*kr[2]+Un*Hi[2]).toString(16))}return Pn.trim()}(d.colors,_),ee=[];ee.push({key:"FunctionType",value:"0"}),ee.push({key:"Domain",value:"[0.0 1.0]"}),ee.push({key:"Size",value:"["+_+"]"}),ee.push({key:"BitsPerSample",value:"8"}),ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ai({data:H,additionalKeyValues:ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:D}),E("endobj"),d.objectNumber=dn(),E("<< /ShadingType "+d.type),E("/ColorSpace /DeviceRGB");var ve="/Coords ["+Q(parseFloat(d.coords[0]))+" "+Q(parseFloat(d.coords[1]))+" ";d.type===2?ve+=Q(parseFloat(d.coords[2]))+" "+Q(parseFloat(d.coords[3])):ve+=Q(parseFloat(d.coords[2]))+" "+Q(parseFloat(d.coords[3]))+" "+Q(parseFloat(d.coords[4]))+" "+Q(parseFloat(d.coords[5])),E(ve+="]"),d.matrix&&E("/Matrix ["+d.matrix.toString()+"]"),E("/Function "+D+" 0 R"),E("/Extend [true true]"),E(">>"),E("endobj")},Xo=function(d,_){var D=Fn(),H=dn();_.push({resourcesOid:D,objectOid:H}),d.objectNumber=H;var ee=[];ee.push({key:"Type",value:"/Pattern"}),ee.push({key:"PatternType",value:"1"}),ee.push({key:"PaintType",value:"1"}),ee.push({key:"TilingType",value:"1"}),ee.push({key:"BBox",value:"["+d.boundingBox.map(Q).join(" ")+"]"}),ee.push({key:"XStep",value:Q(d.xStep)}),ee.push({key:"YStep",value:Q(d.yStep)}),ee.push({key:"Resources",value:D+" 0 R"}),d.matrix&&ee.push({key:"Matrix",value:"["+d.matrix.toString()+"]"}),Ai({data:d.stream,additionalKeyValues:ee,objectId:d.objectNumber}),E("endobj")},rc=function(d){for(var _ in d.objectNumber=dn(),E("<<"),d)switch(_){case"opacity":E("/ca "+O(d[_]));break;case"stroke-opacity":E("/CA "+O(d[_]))}E(">>"),E("endobj")},Da=function(d){zn(d.resourcesOid,!0),E("<<"),E("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var _ in E("/Font <<"),St)St.hasOwnProperty(_)&&(S===!1||S===!0&&A.hasOwnProperty(_))&&E("/"+_+" "+St[_].objectNumber+" 0 R");E(">>")}(),function(){if(Object.keys(et).length>0){for(var _ in E("/Shading <<"),et)et.hasOwnProperty(_)&&et[_]instanceof Wo&&et[_].objectNumber>=0&&E("/"+_+" "+et[_].objectNumber+" 0 R");Vt.publish("putShadingPatternDict"),E(">>")}}(),function(_){if(Object.keys(et).length>0){for(var D in E("/Pattern <<"),et)et.hasOwnProperty(D)&&et[D]instanceof h.TilingPattern&&et[D].objectNumber>=0&&et[D].objectNumber<_&&E("/"+D+" "+et[D].objectNumber+" 0 R");Vt.publish("putTilingPatternDict"),E(">>")}}(d.objectOid),function(){if(Object.keys(st).length>0){var _;for(_ in E("/ExtGState <<"),st)st.hasOwnProperty(_)&&st[_].objectNumber>=0&&E("/"+_+" "+st[_].objectNumber+" 0 R");Vt.publish("putGStateDict"),E(">>")}}(),function(){for(var _ in E("/XObject <<"),Zn)Zn.hasOwnProperty(_)&&Zn[_].objectNumber>=0&&E("/"+_+" "+Zn[_].objectNumber+" 0 R");Vt.publish("putXobjectDict"),E(">>")}(),E(">>"),E("endobj")},Ds=function(d){Pt[d.fontName]=Pt[d.fontName]||{},Pt[d.fontName][d.fontStyle]=d.id},js=function(d,_,D,H,ee){var ve={id:"F"+(Object.keys(St).length+1).toString(10),postScriptName:d,fontName:_,fontStyle:D,encoding:H,isStandardFont:ee||!1,metadata:{}};return Vt.publish("addFont",{font:ve,instance:this}),St[ve.id]=ve,Ds(ve),ve.id},Oi=h.__private__.pdfEscape=h.pdfEscape=function(d,_){return function(D,H){var ee,ve,Ce,Ue,$e,ct,gt,jt,cn;if(Ce=(H=H||{}).sourceEncoding||"Unicode",$e=H.outputEncoding,(H.autoencode||$e)&&St[We].metadata&&St[We].metadata[Ce]&&St[We].metadata[Ce].encoding&&(Ue=St[We].metadata[Ce].encoding,!$e&&St[We].encoding&&($e=St[We].encoding),!$e&&Ue.codePages&&($e=Ue.codePages[0]),typeof $e=="string"&&($e=Ue[$e]),$e)){for(gt=!1,ct=[],ee=0,ve=D.length;ee<ve;ee++)(jt=$e[D.charCodeAt(ee)])?ct.push(String.fromCharCode(jt)):ct.push(D[ee]),ct[ee].charCodeAt(0)>>8&&(gt=!0);D=ct.join("")}for(ee=D.length;gt===void 0&&ee!==0;)D.charCodeAt(ee-1)>>8&&(gt=!0),ee--;if(!gt)return D;for(ct=H.noBOM?[]:[254,255],ee=0,ve=D.length;ee<ve;ee++){if((cn=(jt=D.charCodeAt(ee))>>8)>>8)throw new Error("Character at position "+ee+" of string '"+D+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ct.push(cn),ct.push(jt-(cn<<8))}return String.fromCharCode.apply(void 0,ct)}(d,_).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ja=h.__private__.beginPage=function(d){Ee[++At]=[],ot[At]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(d[0]),topRightY:Number(d[1])}},Bs(At),Xe(Ee[R])},Rs=function(d,_){var D,H,ee;switch(t=_||t,typeof d=="string"&&(D=k(d.toLowerCase()),Array.isArray(D)&&(H=D[0],ee=D[1])),Array.isArray(d)&&(H=d[0]*mt,ee=d[1]*mt),isNaN(H)&&(H=r[0],ee=r[1]),(H>14400||ee>14400)&&(Kt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),H=Math.min(14400,H),ee=Math.min(14400,ee)),r=[H,ee],t.substr(0,1)){case"l":ee>H&&(r=[ee,H]);break;case"p":H>ee&&(r=[ee,H])}ja(r),dt(za),E(ta),qa!==0&&E(qa+" J"),Va!==0&&E(Va+" j"),Vt.publish("addPage",{pageNumber:At})},Ra=function(d){d>0&&d<=At&&(Ee.splice(d,1),ot.splice(d,1),At--,R>At&&(R=At),this.setPage(R))},Bs=function(d){d>0&&d<=At&&(R=d)},zs=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Ee.length-1},Us=function(d,_,D){var H,ee=void 0;return D=D||{},d=d!==void 0?d:St[We].fontName,_=_!==void 0?_:St[We].fontStyle,H=d.toLowerCase(),Pt[H]!==void 0&&Pt[H][_]!==void 0?ee=Pt[H][_]:Pt[d]!==void 0&&Pt[d][_]!==void 0?ee=Pt[d][_]:D.disableWarning===!1&&Kt.warn("Unable to look up font label for font '"+d+"', '"+_+"'. Refer to getFontList() for available fonts."),ee||D.noFallback||(ee=Pt.times[_])==null&&(ee=Pt.times.normal),ee},tr=h.__private__.putInfo=function(){var d=dn(),_=function(H){return H};for(var D in g!==null&&(_=Nn.encryptor(d,0)),E("<<"),E("/Producer ("+Oi(_("jsPDF "+Ze.version))+")"),Nt)Nt.hasOwnProperty(D)&&Nt[D]&&E("/"+D.substr(0,1).toUpperCase()+D.substr(1)+" ("+Oi(_(Nt[D]))+")");E("/CreationDate ("+Oi(_(le))+")"),E(">>"),E("endobj")},Jo=h.__private__.putCatalog=function(d){var _=(d=d||{}).rootDictionaryObjId||Hr;switch(dn(),E("<<"),E("/Type /Catalog"),E("/Pages "+_+" 0 R"),it||(it="fullwidth"),it){case"fullwidth":E("/OpenAction [3 0 R /FitH null]");break;case"fullheight":E("/OpenAction [3 0 R /FitV null]");break;case"fullpage":E("/OpenAction [3 0 R /Fit]");break;case"original":E("/OpenAction [3 0 R /XYZ null null 1]");break;default:var D=""+it;D.substr(D.length-1)==="%"&&(it=parseInt(it)/100),typeof it=="number"&&E("/OpenAction [3 0 R /XYZ null null "+O(it)+"]")}switch(Ot||(Ot="continuous"),Ot){case"continuous":E("/PageLayout /OneColumn");break;case"single":E("/PageLayout /SinglePage");break;case"two":case"twoleft":E("/PageLayout /TwoColumnLeft");break;case"tworight":E("/PageLayout /TwoColumnRight")}Qe&&E("/PageMode /"+Qe),Vt.publish("putCatalog"),E(">>"),E("endobj")},oc=h.__private__.putTrailer=function(){E("trailer"),E("<<"),E("/Size "+(J+1)),E("/Root "+J+" 0 R"),E("/Info "+(J-1)+" 0 R"),g!==null&&E("/Encrypt "+Nn.oid+" 0 R"),E("/ID [ <"+fe+"> <"+fe+"> ]"),E(">>")},Sn=h.__private__.putHeader=function(){E("%PDF-"+j),E("%\xBA\xDF\xAC\xE0")},qs=h.__private__.putXRef=function(){var d="0000000000";E("xref"),E("0 "+(J+1)),E("0000000000 65535 f ");for(var _=1;_<=J;_++)typeof ie[_]=="function"?E((d+ie[_]()).slice(-10)+" 00000 n "):ie[_]!==void 0?E((d+ie[_]).slice(-10)+" 00000 n "):E("0000000000 00000 n ")},nr=h.__private__.buildDocument=function(){var d;J=0,ue=0,de=[],ie=[],xe=[],Hr=Fn(),zi=Fn(),Xe(de),Vt.publish("buildDocument"),Sn(),er(),function(){Vt.publish("putAdditionalObjects");for(var D=0;D<xe.length;D++){var H=xe[D];zn(H.objId,!0),E(H.content),E("endobj")}Vt.publish("postPutAdditionalObjects")}(),d=[],function(){for(var D in St)St.hasOwnProperty(D)&&(S===!1||S===!0&&A.hasOwnProperty(D))&&bo(St[D])}(),function(){var D;for(D in st)st.hasOwnProperty(D)&&rc(st[D])}(),function(){for(var D in Zn)Zn.hasOwnProperty(D)&&Yo(Zn[D])}(),function(D){var H;for(H in et)et.hasOwnProperty(H)&&(et[H]instanceof Wo?Ko(et[H]):et[H]instanceof Ma&&Xo(et[H],D))}(d),Vt.publish("putResources"),d.forEach(Da),Da({resourcesOid:zi,objectOid:Number.MAX_SAFE_INTEGER}),Vt.publish("postPutResources"),g!==null&&(Nn.oid=dn(),E("<<"),E("/Filter /Standard"),E("/V "+Nn.v),E("/R "+Nn.r),E("/U <"+Nn.toHexString(Nn.U)+">"),E("/O <"+Nn.toHexString(Nn.O)+">"),E("/P "+Nn.P),E(">>"),E("endobj")),tr(),Jo();var _=ue;return qs(),oc(),E("startxref"),E(""+_),E("%%EOF"),Xe(Ee[R]),de.join(`
`)},Qo=h.__private__.getBlob=function(d){return new Blob([xt(d)],{type:"application/pdf"})},Vs=h.output=h.__private__.output=(Pi=function(d,_){switch(typeof(_=_||{})=="string"?_={filename:_}:_.filename=_.filename||"generated.pdf",d){case void 0:return nr();case"save":h.save(_.filename);break;case"arraybuffer":return xt(nr());case"blob":return Qo(nr());case"bloburi":case"bloburl":if(lt.URL!==void 0&&typeof lt.URL.createObjectURL=="function")return lt.URL&&lt.URL.createObjectURL(Qo(nr()))||void 0;Kt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var D="",H=nr();try{D=op(H)}catch{D=op(unescape(encodeURIComponent(H)))}return"data:application/pdf;filename="+_.filename+";base64,"+D;case"pdfobjectnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ve=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';_.pdfObjectUrl&&(ee=_.pdfObjectUrl,ve="");var Ce='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ee+'"'+ve+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(_)+");<\/script></body></html>",Ue=lt.open();return Ue!==null&&Ue.document.write(Ce),Ue}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(_.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+_.filename+'" width="500px" height="400px" /></body></html>',ct=lt.open();if(ct!==null){ct.document.write($e);var gt=this;ct.document.documentElement.querySelector("#pdfViewer").onload=function(){ct.document.title=_.filename,ct.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(gt.output("bloburl"))}}return ct}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",_)+'"></iframe></body></html>',cn=lt.open();if(cn!==null&&(cn.document.write(jt),cn.document.title=_.filename),cn||typeof safari>"u")return cn;break;case"datauri":case"dataurl":return lt.document.location.href=this.output("datauristring",_);default:return null}},Pi.foo=function(){try{return Pi.apply(this,arguments)}catch(D){var d=D.stack||"";~d.indexOf(" at ")&&(d=d.split(" at ")[1]);var _="Error in function "+d.split(`
`)[0].split("<")[0]+": "+D.message;if(!lt.console)throw new Error(_);lt.console.error(_,D),lt.alert&&alert(_)}},Pi.foo.bar=Pi,Pi.foo),Ni=function(d){return Array.isArray(go)===!0&&go.indexOf(d)>-1};switch(i){case"pt":mt=1;break;case"mm":mt=72/25.4;break;case"cm":mt=72/2.54;break;case"in":mt=72;break;case"px":mt=Ni("px_scaling")==1?.75:96/72;break;case"pc":case"em":mt=12;break;case"ex":mt=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);mt=i}var Nn=null;Pe(),se();var yr=h.__private__.getPageInfo=h.getPageInfo=function(d){if(isNaN(d)||d%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ot[d].objId,pageNumber:d,pageContext:ot[d]}},Hs=h.__private__.getPageInfoByObjId=function(d){if(isNaN(d)||d%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var _ in ot)if(ot[_].objId===d)break;return yr(_)},ac=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:ot[R].objId,pageNumber:R,pageContext:ot[R]}};h.addPage=function(){return Rs.apply(this,arguments),this},h.setPage=function(){return Bs.apply(this,arguments),Xe.call(this,Ee[R]),this},h.insertPage=function(d){return this.addPage(),this.movePage(R,d),this},h.movePage=function(d,_){var D,H;if(d>_){D=Ee[d],H=ot[d];for(var ee=d;ee>_;ee--)Ee[ee]=Ee[ee-1],ot[ee]=ot[ee-1];Ee[_]=D,ot[_]=H,this.setPage(_)}else if(d<_){D=Ee[d],H=ot[d];for(var ve=d;ve<_;ve++)Ee[ve]=Ee[ve+1],ot[ve]=ot[ve+1];Ee[_]=D,ot[_]=H,this.setPage(_)}return this},h.deletePage=function(){return Ra.apply(this,arguments),this},h.__private__.text=h.text=function(d,_,D,H,ee){var ve,Ce,Ue,$e,ct,gt,jt,cn,Pn,Jt=(H=H||{}).scope||this;if(typeof d=="number"&&typeof _=="number"&&(typeof D=="string"||Array.isArray(D))){var kn=D;D=_,_=d,d=kn}if(arguments[3]instanceof at==0?(Ue=arguments[4],$e=arguments[5],$t(jt=arguments[3])==="object"&&jt!==null||(typeof Ue=="string"&&($e=Ue,Ue=null),typeof jt=="string"&&($e=jt,jt=null),typeof jt=="number"&&(Ue=jt,jt=null),H={flags:jt,angle:Ue,align:$e})):(z("The transform parameter of text() with a Matrix value"),Pn=ee),isNaN(_)||isNaN(D)||d==null)throw new Error("Invalid arguments passed to jsPDF.text");if(d.length===0)return Jt;var An,Un="",kr=typeof H.lineHeightFactor=="number"?H.lineHeightFactor:wo,Hi=Jt.internal.scaleFactor;function Er(Ht){return Ht=Ht.split("	").join(Array(H.TabLen||9).join(" ")),Oi(Ht,jt)}function $a(Ht){for(var Zt,vn=Ht.concat(),En=[],Ir=vn.length;Ir--;)typeof(Zt=vn.shift())=="string"?En.push(Zt):Array.isArray(Ht)&&(Zt.length===1||Zt[1]===void 0&&Zt[2]===void 0)?En.push(Zt[0]):En.push([Zt[0],Zt[1],Zt[2]]);return En}function ia(Ht,Zt){var vn;if(typeof Ht=="string")vn=Zt(Ht)[0];else if(Array.isArray(Ht)){for(var En,Ir,is=Ht.concat(),aa=[],tl=is.length;tl--;)typeof(En=is.shift())=="string"?aa.push(Zt(En)[0]):Array.isArray(En)&&typeof En[0]=="string"&&(Ir=Zt(En[0],En[1],En[2]),aa.push([Ir[0],Ir[1],Ir[2]]));vn=aa}return vn}var Gr=!1,Po=!0;if(typeof d=="string")Gr=!0;else if(Array.isArray(d)){var Ao=d.concat();Ce=[];for(var Wr,qn=Ao.length;qn--;)(typeof(Wr=Ao.shift())!="string"||Array.isArray(Wr)&&typeof Wr[0]!="string")&&(Po=!1);Gr=Po}if(Gr===!1)throw new Error('Type of text must be string or Array. "'+d+'" is not recognized.');typeof d=="string"&&(d=d.match(/[\r?\n]/)?d.split(/\r\n|\r|\n/g):[d]);var Oo=Oe/Jt.internal.scaleFactor,No=Oo*(kr-1);switch(H.baseline){case"bottom":D-=No;break;case"top":D+=Oo-No;break;case"hanging":D+=Oo-2*No;break;case"middle":D+=Oo/2-No}if((gt=H.maxWidth||0)>0&&(typeof d=="string"?d=Jt.splitTextToSize(d,gt):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(Ht,Zt){return Ht.concat(Jt.splitTextToSize(Zt,gt))},[]))),ve={text:d,x:_,y:D,options:H,mutex:{pdfEscape:Oi,activeFontKey:We,fonts:St,activeFontSize:Oe}},Vt.publish("preProcessText",ve),d=ve.text,Ue=(H=ve.options).angle,Pn instanceof at==0&&Ue&&typeof Ue=="number"){Ue*=Math.PI/180,H.rotationDirection===0&&(Ue=-Ue),V===K&&(Ue=-Ue);var Za=Math.cos(Ue),Ya=Math.sin(Ue);Pn=new at(Za,Ya,-Ya,Za,0,0)}else Ue&&Ue instanceof at&&(Pn=Ue);V!==K||Pn||(Pn=wr),(ct=H.charSpace||Pr)!==void 0&&(Un+=Q(W(ct))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(cn=H.horizontalScale)!==void 0&&(Un+=Q(100*cn)+` Tz
`),H.lang;var ei=-1,Mr=H.renderingMode!==void 0?H.renderingMode:H.stroke,ra=Jt.internal.getCurrentPageInfo().pageContext;switch(Mr){case 0:case!1:case"fill":ei=0;break;case 1:case!0:case"stroke":ei=1;break;case 2:case"fillThenStroke":ei=2;break;case 3:case"invisible":ei=3;break;case 4:case"fillAndAddForClipping":ei=4;break;case 5:case"strokeAndAddPathForClipping":ei=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ei=6;break;case 7:case"addToPathForClipping":ei=7}var Qs=ra.usedRenderingMode!==void 0?ra.usedRenderingMode:-1;ei!==-1?Un+=ei+` Tr
`:Qs!==-1&&(Un+=`0 Tr
`),ei!==-1&&(ra.usedRenderingMode=ei),$e=H.align||"left";var ki,ko=Oe*kr,Ka=Jt.internal.pageSize.getWidth(),Xa=St[We];ct=H.charSpace||Pr,gt=H.maxWidth||0,jt=Object.assign({autoencode:!0,noBOM:!0},H.flags);var $r=[],Eo=function(Ht){return Jt.getStringUnitWidth(Ht,{font:Xa,charSpace:ct,fontSize:Oe,doKerning:!1})*Oe/Hi};if(Object.prototype.toString.call(d)==="[object Array]"){var ui;Ce=$a(d),$e!=="left"&&(ki=Ce.map(Eo));var fi,Zr=0;if($e==="right"){_-=ki[0],d=[],qn=Ce.length;for(var Lr=0;Lr<qn;Lr++)Lr===0?(fi=Cr(_),ui=Sr(D)):(fi=W(Zr-ki[Lr]),ui=-ko),d.push([Ce[Lr],fi,ui]),Zr=ki[Lr]}else if($e==="center"){_-=ki[0]/2,d=[],qn=Ce.length;for(var Yr=0;Yr<qn;Yr++)Yr===0?(fi=Cr(_),ui=Sr(D)):(fi=W((Zr-ki[Yr])/2),ui=-ko),d.push([Ce[Yr],fi,ui]),Zr=ki[Yr]}else if($e==="left"){d=[],qn=Ce.length;for(var Ja=0;Ja<qn;Ja++)d.push(Ce[Ja])}else if($e==="justify"&&Xa.encoding==="Identity-H"){d=[],qn=Ce.length,gt=gt!==0?gt:Ka;for(var oa=0,_n=0;_n<qn;_n++)if(ui=_n===0?Sr(D):-ko,fi=_n===0?Cr(_):oa,_n<qn-1){var el=W((gt-ki[_n])/(Ce[_n].split(" ").length-1)),rr=Ce[_n].split(" ");d.push([rr[0]+" ",fi,ui]),oa=0;for(var or=1;or<rr.length;or++){var Qa=(Eo(rr[or-1]+" "+rr[or])-Eo(rr[or]))*Hi+el;or==rr.length-1?d.push([rr[or],Qa,0]):d.push([rr[or]+" ",Qa,0]),oa-=Qa}}else d.push([Ce[_n],fi,ui]);d.push(["",oa,0])}else{if($e!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(d=[],qn=Ce.length,gt=gt!==0?gt:Ka,_n=0;_n<qn;_n++){ui=_n===0?Sr(D):-ko,fi=_n===0?Cr(_):0;var es=Ce[_n].split(" ").length-1,ts=es>0?(gt-ki[_n])/es:0;_n<qn-1?$r.push(Q(W(ts))):$r.push(0),d.push([Ce[_n],fi,ui])}}}(typeof H.R2L=="boolean"?H.R2L:tt)===!0&&(d=ia(d,function(Ht,Zt,vn){return[Ht.split("").reverse().join(""),Zt,vn]})),ve={text:d,x:_,y:D,options:H,mutex:{pdfEscape:Oi,activeFontKey:We,fonts:St,activeFontSize:Oe}},Vt.publish("postProcessText",ve),d=ve.text,An=ve.mutex.isHex||!1;var ns=St[We].encoding;ns!=="WinAnsiEncoding"&&ns!=="StandardEncoding"||(d=ia(d,function(Ht,Zt,vn){return[Er(Ht),Zt,vn]})),Ce=$a(d),d=[];for(var Kr,Xr,Jr,Mo=Array.isArray(Ce[0])?1:0,Qr="",Lo=function(Ht,Zt,vn){var En="";return vn instanceof at?(vn=typeof H.angle=="number"?xr(vn,new at(1,0,0,1,Ht,Zt)):xr(new at(1,0,0,1,Ht,Zt),vn),V===K&&(vn=xr(new at(1,0,0,-1,0,0),vn)),En=vn.join(" ")+` Tm
`):En=Q(Ht)+" "+Q(Zt)+` Td
`,En},Ei=0;Ei<Ce.length;Ei++){switch(Qr="",Mo){case 1:Jr=(An?"<":"(")+Ce[Ei][0]+(An?">":")"),Kr=parseFloat(Ce[Ei][1]),Xr=parseFloat(Ce[Ei][2]);break;case 0:Jr=(An?"<":"(")+Ce[Ei]+(An?">":")"),Kr=Cr(_),Xr=Sr(D)}$r!==void 0&&$r[Ei]!==void 0&&(Qr=$r[Ei]+` Tw
`),Ei===0?d.push(Qr+Lo(Kr,Xr,Pn)+Jr):Mo===0?d.push(Qr+Jr):Mo===1&&d.push(Qr+Lo(Kr,Xr,Pn)+Jr)}d=Mo===0?d.join(` Tj
T* `):d.join(` Tj
`),d+=` Tj
`;var ar=`BT
/`;return ar+=We+" "+Oe+` Tf
`,ar+=Q(Oe*kr)+` TL
`,ar+=yo+`
`,ar+=Un,ar+=d,E(ar+="ET"),A[We]=!0,Jt};var sc=h.__private__.clip=h.clip=function(d){return E(d==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return sc("evenodd")},h.__private__.discardPath=h.discardPath=function(){return E("n"),this};var ir=h.__private__.isValidStyle=function(d){var _=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(d)!==-1&&(_=!0),_};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(d){return ir(d)&&(p=d),this};var Gs=h.__private__.getStyle=h.getStyle=function(d){var _=p;switch(d){case"D":case"S":_="S";break;case"F":_="f";break;case"FD":case"DF":_="B";break;case"f":case"f*":case"B":case"B*":_=d}return _},Ws=h.close=function(){return E("h"),this};h.stroke=function(){return E("S"),this},h.fill=function(d){return ea("f",d),this},h.fillEvenOdd=function(d){return ea("f*",d),this},h.fillStroke=function(d){return ea("B",d),this},h.fillStrokeEvenOdd=function(d){return ea("B*",d),this};var ea=function(d,_){$t(_)==="object"?cc(_,d):E(d)},xo=function(d){d===null||V===K&&d===void 0||(d=Gs(d),E(d))};function lc(d,_,D,H,ee){var ve=new Ma(_||this.boundingBox,D||this.xStep,H||this.yStep,this.gState,ee||this.matrix);ve.stream=this.stream;var Ce=d+"$$"+this.cloneIndex+++"$$";return Si(Ce,ve),ve}var cc=function(d,_){var D=Xt[d.key],H=et[D];if(H instanceof Wo)E("q"),E(dc(_)),H.gState&&h.setGState(H.gState),E(d.matrix.toString()+" cm"),E("/"+D+" sh"),E("Q");else if(H instanceof Ma){var ee=new at(1,0,0,-1,0,So());d.matrix&&(ee=ee.multiply(d.matrix||wr),D=lc.call(H,d.key,d.boundingBox,d.xStep,d.yStep,ee).id),E("q"),E("/Pattern cs"),E("/"+D+" scn"),H.gState&&h.setGState(H.gState),E(_),E("Q")}},dc=function(d){switch(d){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ba=h.moveTo=function(d,_){return E(Q(W(d))+" "+Q(G(_))+" m"),this},$s=h.lineTo=function(d,_){return E(Q(W(d))+" "+Q(G(_))+" l"),this},Vi=h.curveTo=function(d,_,D,H,ee,ve){return E([Q(W(d)),Q(G(_)),Q(W(D)),Q(G(H)),Q(W(ee)),Q(G(ve)),"c"].join(" ")),this};h.__private__.line=h.line=function(d,_,D,H,ee){if(isNaN(d)||isNaN(_)||isNaN(D)||isNaN(H)||!ir(ee))throw new Error("Invalid arguments passed to jsPDF.line");return V===Y?this.lines([[D-d,H-_]],d,_,[1,1],ee||"S"):this.lines([[D-d,H-_]],d,_,[1,1]).stroke()},h.__private__.lines=h.lines=function(d,_,D,H,ee,ve){var Ce,Ue,$e,ct,gt,jt,cn,Pn,Jt,kn,An,Un;if(typeof d=="number"&&(Un=D,D=_,_=d,d=Un),H=H||[1,1],ve=ve||!1,isNaN(_)||isNaN(D)||!Array.isArray(d)||!Array.isArray(H)||!ir(ee)||typeof ve!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ba(_,D),Ce=H[0],Ue=H[1],ct=d.length,kn=_,An=D,$e=0;$e<ct;$e++)(gt=d[$e]).length===2?(kn=gt[0]*Ce+kn,An=gt[1]*Ue+An,$s(kn,An)):(jt=gt[0]*Ce+kn,cn=gt[1]*Ue+An,Pn=gt[2]*Ce+kn,Jt=gt[3]*Ue+An,kn=gt[4]*Ce+kn,An=gt[5]*Ue+An,Vi(jt,cn,Pn,Jt,kn,An));return ve&&Ws(),xo(ee),this},h.path=function(d){for(var _=0;_<d.length;_++){var D=d[_],H=D.c;switch(D.op){case"m":Ba(H[0],H[1]);break;case"l":$s(H[0],H[1]);break;case"c":Vi.apply(this,H);break;case"h":Ws()}}return this},h.__private__.rect=h.rect=function(d,_,D,H,ee){if(isNaN(d)||isNaN(_)||isNaN(D)||isNaN(H)||!ir(ee))throw new Error("Invalid arguments passed to jsPDF.rect");return V===Y&&(H=-H),E([Q(W(d)),Q(G(_)),Q(W(D)),Q(W(H)),"re"].join(" ")),xo(ee),this},h.__private__.triangle=h.triangle=function(d,_,D,H,ee,ve,Ce){if(isNaN(d)||isNaN(_)||isNaN(D)||isNaN(H)||isNaN(ee)||isNaN(ve)||!ir(Ce))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[D-d,H-_],[ee-D,ve-H],[d-ee,_-ve]],d,_,[1,1],Ce,!0),this},h.__private__.roundedRect=h.roundedRect=function(d,_,D,H,ee,ve,Ce){if(isNaN(d)||isNaN(_)||isNaN(D)||isNaN(H)||isNaN(ee)||isNaN(ve)||!ir(Ce))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ue=4/3*(Math.SQRT2-1);return ee=Math.min(ee,.5*D),ve=Math.min(ve,.5*H),this.lines([[D-2*ee,0],[ee*Ue,0,ee,ve-ve*Ue,ee,ve],[0,H-2*ve],[0,ve*Ue,-ee*Ue,ve,-ee,ve],[2*ee-D,0],[-ee*Ue,0,-ee,-ve*Ue,-ee,-ve],[0,2*ve-H],[0,-ve*Ue,ee*Ue,-ve,ee,-ve]],d+ee,_,[1,1],Ce,!0),this},h.__private__.ellipse=h.ellipse=function(d,_,D,H,ee){if(isNaN(d)||isNaN(_)||isNaN(D)||isNaN(H)||!ir(ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ve=4/3*(Math.SQRT2-1)*D,Ce=4/3*(Math.SQRT2-1)*H;return Ba(d+D,_),Vi(d+D,_-Ce,d+ve,_-H,d,_-H),Vi(d-ve,_-H,d-D,_-Ce,d-D,_),Vi(d-D,_+Ce,d-ve,_+H,d,_+H),Vi(d+ve,_+H,d+D,_+Ce,d+D,_),xo(ee),this},h.__private__.circle=h.circle=function(d,_,D,H){if(isNaN(d)||isNaN(_)||isNaN(D)||!ir(H))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(d,_,D,D,H)},h.setFont=function(d,_,D){return D&&(_=_e(_,D)),We=Us(d,_,{disableWarning:!1}),this};var uc=h.__private__.getFont=h.getFont=function(){return St[Us.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var d,_,D={};for(d in Pt)if(Pt.hasOwnProperty(d))for(_ in D[d]=[],Pt[d])Pt[d].hasOwnProperty(_)&&D[d].push(_);return D},h.addFont=function(d,_,D,H,ee){var ve=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ve.indexOf(arguments[3])!==-1?ee=arguments[3]:arguments[3]&&ve.indexOf(arguments[3])==-1&&(D=_e(D,H)),js.call(this,d,_,D,ee=ee||"Identity-H")};var wo,za=e.lineWidth||.200025,fc=h.__private__.getLineWidth=h.getLineWidth=function(){return za},dt=h.__private__.setLineWidth=h.setLineWidth=function(d){return za=d,E(Q(W(d))+" w"),this};h.__private__.setLineDash=Ze.API.setLineDash=Ze.API.setLineDashPattern=function(d,_){if(d=d||[],_=_||0,isNaN(_)||!Array.isArray(d))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return d=d.map(function(D){return Q(W(D))}).join(" "),_=Q(W(_)),E("["+d+"] "+_+" d"),this};var pc=h.__private__.getLineHeight=h.getLineHeight=function(){return Oe*wo};h.__private__.getLineHeight=h.getLineHeight=function(){return Oe*wo};var hc=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(d){return typeof(d=d||1.15)=="number"&&(wo=d),this},mc=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return wo};hc(e.lineHeight);var Cr=h.__private__.getHorizontalCoordinate=function(d){return W(d)},Sr=h.__private__.getVerticalCoordinate=function(d){return V===K?d:ot[R].mediaBox.topRightY-ot[R].mediaBox.bottomLeftY-W(d)},gc=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(d){return Q(Cr(d))},_c=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(d){return Q(Sr(d))},ta=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Qi(ta)},h.__private__.setStrokeColor=h.setDrawColor=function(d,_,D,H){return ta=Ui({ch1:d,ch2:_,ch3:D,ch4:H,pdfColorType:"draw",precision:2}),E(ta),this};var Ua=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Qi(Ua)},h.__private__.setFillColor=h.setFillColor=function(d,_,D,H){return Ua=Ui({ch1:d,ch2:_,ch3:D,ch4:H,pdfColorType:"fill",precision:2}),E(Ua),this};var yo=e.textColor||"0 g",vc=h.__private__.getTextColor=h.getTextColor=function(){return Qi(yo)};h.__private__.setTextColor=h.setTextColor=function(d,_,D,H){return yo=Ui({ch1:d,ch2:_,ch3:D,ch4:H,pdfColorType:"text",precision:3}),this};var Pr=e.charSpace,bc=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Pr||0)};h.__private__.setCharSpace=h.setCharSpace=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Pr=d,this};var qa=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(d){var _=h.CapJoinStyles[d];if(_===void 0)throw new Error("Line cap style of '"+d+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qa=_,E(_+" J"),this};var Va=0;h.__private__.setLineJoin=h.setLineJoin=function(d){var _=h.CapJoinStyles[d];if(_===void 0)throw new Error("Line join style of '"+d+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Va=_,E(_+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(d){if(d=d||0,isNaN(d))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return E(Q(W(d))+" M"),this},h.GState=tc,h.setGState=function(d){(d=typeof d=="string"?st[pt[d]]:Zs(null,d)).equals(rn)||(E("/"+d.id+" gs"),rn=d)};var Zs=function(d,_){if(!d||!pt[d]){var D=!1;for(var H in st)if(st.hasOwnProperty(H)&&st[H].equals(_)){D=!0;break}if(D)_=st[H];else{var ee="GS"+(Object.keys(st).length+1).toString(10);st[ee]=_,_.id=ee}return d&&(pt[d]=_.id),Vt.publish("addGState",_),_}};h.addGState=function(d,_){return Zs(d,_),this},h.saveGraphicsState=function(){return E("q"),nn.push({key:We,size:Oe,color:yo}),this},h.restoreGraphicsState=function(){E("Q");var d=nn.pop();return We=d.key,Oe=d.size,yo=d.color,rn=null,this},h.setCurrentTransformationMatrix=function(d){return E(d.toString()+" cm"),this},h.comment=function(d){return E("#"+d),this};var Ar=function(d,_){var D=d||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return D},set:function(ve){isNaN(ve)||(D=parseFloat(ve))}});var H=_||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return H},set:function(ve){isNaN(ve)||(H=parseFloat(ve))}});var ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ee},set:function(ve){ee=ve.toString()}}),this},Ha=function(d,_,D,H){Ar.call(this,d,_),this.type="rect";var ee=D||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ee},set:function(Ce){isNaN(Ce)||(ee=parseFloat(Ce))}});var ve=H||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ve},set:function(Ce){isNaN(Ce)||(ve=parseFloat(Ce))}}),this},na=function(){this.page=At,this.currentPage=R,this.pages=Ee.slice(0),this.pagesContext=ot.slice(0),this.x=Ke,this.y=gn,this.matrix=Dt,this.width=Wa(R),this.height=Ks(R),this.outputDestination=Fe,this.id="",this.objectNumber=-1};na.prototype.restore=function(){At=this.page,R=this.currentPage,ot=this.pagesContext,Ee=this.pages,Ke=this.x,gn=this.y,Dt=this.matrix,Ys(R,this.width),Or(R,this.height),Fe=this.outputDestination};var Ga=function(d,_,D,H,ee){Ji.push(new na),At=R=0,Ee=[],Ke=d,gn=_,Dt=ee,ja([D,H])};for(var Co in h.beginFormObject=function(d,_,D,H,ee){return Ga(d,_,D,H,ee),this},h.endFormObject=function(d){return function(_){if(br[_])Ji.pop().restore();else{var D=new na,H="Xo"+(Object.keys(Zn).length+1).toString(10);D.id=H,br[_]=H,Zn[H]=D,Vt.publish("addFormObject",D),Ji.pop().restore()}}(d),this},h.doFormObject=function(d,_){var D=Zn[br[d]];return E("q"),E(_.toString()+" cm"),E("/"+D.id+" Do"),E("Q"),this},h.getFormObject=function(d){var _=Zn[br[d]];return{x:_.x,y:_.y,width:_.width,height:_.height,matrix:_.matrix}},h.save=function(d,_){return d=d||"generated.pdf",(_=_||{}).returnPromise=_.returnPromise||!1,_.returnPromise===!1?(Go(Qo(nr()),d),typeof Go.unload=="function"&&lt.setTimeout&&setTimeout(Go.unload,911),this):new Promise(function(D,H){try{var ee=Go(Qo(nr()),d);typeof Go.unload=="function"&&lt.setTimeout&&setTimeout(Go.unload,911),D(ee)}catch(ve){H(ve.message)}})},Ze.API)Ze.API.hasOwnProperty(Co)&&(Co==="events"&&Ze.API.events.length?function(d,_){var D,H,ee;for(ee=_.length-1;ee!==-1;ee--)D=_[ee][0],H=_[ee][1],d.subscribe.apply(d,[D].concat(typeof H=="function"?[H]:H))}(Vt,Ze.API.events):h[Co]=Ze.API[Co]);function Wa(d){return ot[d].mediaBox.topRightX-ot[d].mediaBox.bottomLeftX}function Ys(d,_){ot[d].mediaBox.topRightX=_+ot[d].mediaBox.bottomLeftX}function Ks(d){return ot[d].mediaBox.topRightY-ot[d].mediaBox.bottomLeftY}function Or(d,_){ot[d].mediaBox.topRightY=_+ot[d].mediaBox.bottomLeftY}var Nr=h.getPageWidth=function(d){return Wa(d=d||R)/mt},Xs=h.setPageWidth=function(d,_){Ys(d,_*mt)},So=h.getPageHeight=function(d){return Ks(d=d||R)/mt},Js=h.setPageHeight=function(d,_){Or(d,_*mt)};return h.internal={pdfEscape:Oi,getStyle:Gs,getFont:uc,getFontSize:je,getCharSpace:bc,getTextColor:vc,getLineHeight:pc,getLineHeightFactor:mc,getLineWidth:fc,write:Ie,getHorizontalCoordinate:Cr,getVerticalCoordinate:Sr,getCoordinateString:gc,getVerticalCoordinateString:_c,collections:{},newObject:dn,newAdditionalObject:_o,newObjectDeferred:Fn,newObjectDeferredBegin:zn,getFilters:qi,putStream:Ai,events:Vt,scaleFactor:mt,pageSize:{getWidth:function(){return Nr(R)},setWidth:function(d){Xs(R,d)},getHeight:function(){return So(R)},setHeight:function(d){Js(R,d)}},encryptionOptions:g,encryption:Nn,getEncryptor:function(d){return g!==null?Nn.encryptor(d,0):function(_){return _}},output:Vs,getNumberOfPages:zs,get pages(){return Ee},out:E,f2:O,f3:T,getPageInfo:yr,getPageInfoByObjId:Hs,getCurrentPageInfo:ac,getPDFVersion:L,Point:Ar,Rectangle:Ha,Matrix:at,hasHotfix:Ni},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Nr(R)},set:function(d){Xs(R,d)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return So(R)},set:function(d){Js(R,d)},enumerable:!0,configurable:!0}),function(d){for(var _=0,D=nt.length;_<D;_++){var H=js.call(this,d[_][0],d[_][1],d[_][2],nt[_][3],!0);S===!1&&(A[H]=!0);var ee=d[_][0].split("-");Ds({id:H,fontName:ee[0],fontStyle:ee[1]||""})}Vt.publish("addFonts",{fonts:St,dictionary:Pt})}.call(h,nt),We="F1",Rs(r,t),Vt.publish("initialized"),h}ka.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},ka.prototype.toHexString=function(e){return e.split("").map(function(n){return("0"+(255&n.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ka.prototype.hexToBytes=function(e){for(var n=[],t=0;t<e.length;t+=2)n.push(String.fromCharCode(parseInt(e.substr(t,2),16)));return n.join("")},ka.prototype.processOwnerPassword=function(e,n){return zd(Bd(n).substr(0,5),e)},ka.prototype.encryptor=function(e,n){var t=Bd(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&n,n>>8&255)).substr(0,10);return function(i){return zd(t,i)}},tc.prototype.equals=function(e){var n,t="id,objectNumber,equals";if(!e||$t(e)!==$t(this))return!1;var i=0;for(n in this)if(!(t.indexOf(n)>=0)){if(this.hasOwnProperty(n)&&!e.hasOwnProperty(n)||this[n]!==e[n])return!1;i++}for(n in e)e.hasOwnProperty(n)&&t.indexOf(n)<0&&i--;return i===0},Ze.API={events:[]},Ze.version="3.0.4";var mn=Ze.API,Vd=1,Zo=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Oa=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ut=function(e){return e.toFixed(2)},po=function(e){return e.toFixed(5)};mn.__acroform__={};var di=function(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e},cp=function(e){return e*Vd},gr=function(e){var n=new Lp,t=ze.internal.getHeight(e)||0,i=ze.internal.getWidth(e)||0;return n.BBox=[0,0,Number(ut(i)),Number(ut(t))],n},B5=mn.__acroform__.setBit=function(e,n){if(e=e||0,n=n||0,isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<n},z5=mn.__acroform__.clearBit=function(e,n){if(e=e||0,n=n||0,isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<n)},U5=mn.__acroform__.getBit=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<n?1:0},wn=mn.__acroform__.getBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return U5(e,n-1)},yn=mn.__acroform__.setBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return B5(e,n-1)},Cn=mn.__acroform__.clearBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return z5(e,n-1)},q5=mn.__acroform__.calculateCoordinates=function(e,n){var t=n.internal.getHorizontalCoordinate,i=n.internal.getVerticalCoordinate,r=e[0],o=e[1],c=e[2],l=e[3],u={};return u.lowerLeft_X=t(r)||0,u.lowerLeft_Y=i(o+l)||0,u.upperRight_X=t(r+c)||0,u.upperRight_Y=i(o)||0,[Number(ut(u.lowerLeft_X)),Number(ut(u.lowerLeft_Y)),Number(ut(u.upperRight_X)),Number(ut(u.upperRight_Y))]},V5=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var n=[],t=e._V||e.DV,i=Ud(e,t),r=e.scope.internal.getFont(e.fontName,e.fontStyle).id;n.push("/Tx BMC"),n.push("q"),n.push("BT"),n.push(e.scope.__private__.encodeColorString(e.color)),n.push("/"+r+" "+ut(i.fontSize)+" Tf"),n.push("1 0 0 1 0 0 Tm"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC");var o=gr(e);return o.scope=e.scope,o.stream=n.join(`
`),o}},Ud=function(e,n){var t=e.fontSize===0?e.maxFontSize:e.fontSize,i={text:"",fontSize:""},r=(n=(n=n.substr(0,1)=="("?n.substr(1):n).substr(n.length-1)==")"?n.substr(0,n.length-1):n).split(" ");r=e.multiline?r.map(function(O){return O.split(`
`)}):r.map(function(O){return[O]});var o=t,c=ze.internal.getHeight(e)||0;c=c<0?-c:c;var l=ze.internal.getWidth(e)||0;l=l<0?-l:l;var u=function(O,T,W){if(O+1<r.length){var G=T+" "+r[O+1][0];return $l(G,e,W).width<=l-4}return!1};o++;e:for(;o>0;){n="",o--;var p,g,S=$l("3",e,o).height,A=e.multiline?c-o:(c-S)/2,h=A+=2,j=0,L=0,B=0;if(o<=0){n=`(...) Tj
`,n+="% Width of Text: "+$l(n,e,o=12).width+", FieldWidth:"+l+`
`;break}for(var k="",Y=0,K=0;K<r.length;K++)if(r.hasOwnProperty(K)){var V=!1;if(r[K].length!==1&&B!==r[K].length-1){if((S+2)*(Y+2)+2>c)continue e;k+=r[K][B],V=!0,L=K,K--}else{k=(k+=r[K][B]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var ce=parseInt(K),ye=u(ce,k,o),_e=K>=r.length-1;if(ye&&!_e){k+=" ",B=0;continue}if(ye||_e){if(_e)L=ce;else if(e.multiline&&(S+2)*(Y+2)+2>c)continue e}else{if(!e.multiline||(S+2)*(Y+2)+2>c)continue e;L=ce}}for(var Q="",z=j;z<=L;z++){var oe=r[z];if(e.multiline){if(z===L){Q+=oe[B]+" ",B=(B+1)%oe.length;continue}if(z===j){Q+=oe[oe.length-1]+" ";continue}}Q+=oe[0]+" "}switch(Q=Q.substr(Q.length-1)==" "?Q.substr(0,Q.length-1):Q,g=$l(Q,e,o).width,e.textAlign){case"right":p=l-g-2;break;case"center":p=(l-g)/2;break;default:p=2}n+=ut(p)+" "+ut(h)+` Td
`,n+="("+Zo(Q)+`) Tj
`,n+=-ut(p)+` 0 Td
`,h=-(o+2),g=0,j=V?L:L+1,Y++,k=""}break}return i.text=n,i.fontSize=o,i},$l=function(e,n,t){var i=n.scope.internal.getFont(n.fontName,n.fontStyle),r=n.scope.getStringUnitWidth(e,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:n.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:r}},H5={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},G5=function(e,n){var t={type:"reference",object:e};n.internal.getPageInfo(e.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&n.internal.getPageInfo(e.page).pageContext.annotations.push(t)},W5=function(e,n){if(n.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ki.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(H5)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Vd=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Ip,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var o=i[r];o.objId=void 0,o.hasAnnotation&&G5(o,t)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(t){(function(i,r){var o=!i;for(var c in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(c)){var l=i[c],u=[],p=l.Rect;if(l.Rect&&(l.Rect=q5(l.Rect,r)),r.internal.newObjectDeferredBegin(l.objId,!0),l.DA=ze.createDefaultAppearanceStream(l),$t(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=p,l.hasAppearanceStream&&!l.appearanceStreamContent){var g=V5(l);u.push({key:"AP",value:"<</N "+g+">>"}),r.internal.acroformPlugin.xForms.push(g)}if(l.appearanceStreamContent){var S="";for(var A in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(A)){var h=l.appearanceStreamContent[A];if(S+="/"+A+" ",S+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var c in h)if(h.hasOwnProperty(c)){var j=h[c];typeof j=="function"&&(j=j.call(r,l)),S+="/"+c+" "+j+" ",r.internal.acroformPlugin.xForms.indexOf(j)>=0||r.internal.acroformPlugin.xForms.push(j)}}else typeof(j=h)=="function"&&(j=j.call(r,l)),S+="/"+c+" "+j,r.internal.acroformPlugin.xForms.indexOf(j)>=0||r.internal.acroformPlugin.xForms.push(j);S+=">>"}u.push({key:"AP",value:`<<
`+S+">>"})}r.internal.putStream({additionalKeyValues:u,objectId:l.objId}),r.internal.out("endobj")}o&&function(L,B){for(var k in L)if(L.hasOwnProperty(k)){var Y=k,K=L[k];B.internal.newObjectDeferredBegin(K.objId,!0),$t(K)==="object"&&typeof K.putStream=="function"&&K.putStream(),delete L[Y]}}(r.internal.acroformPlugin.xForms,r)})(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},Mp=mn.__acroform__.arrayToPdfArray=function(e,n,t){var i=function(c){return c};if(Array.isArray(e)){for(var r="[",o=0;o<e.length;o++)switch(o!==0&&(r+=" "),$t(e[o])){case"boolean":case"number":case"object":r+=e[o].toString();break;case"string":e[o].substr(0,1)!=="/"?(n!==void 0&&t&&(i=t.internal.getEncryptor(n)),r+="("+Zo(i(e[o].toString()))+")"):r+=e[o].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Fd=function(e,n,t){var i=function(r){return r};return n!==void 0&&t&&(i=t.internal.getEncryptor(n)),(e=e||"").toString(),"("+Zo(i(e))+")"},_r=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};_r.prototype.toString=function(){return this.objId+" 0 R"},_r.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},_r.prototype.getKeyValueListForStream=function(){var e=[],n=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in n)if(Object.getOwnPropertyDescriptor(this,n[t]).configurable===!1){var i=n[t],r=this[i];r&&(Array.isArray(r)?e.push({key:i,value:Mp(r,this.objId,this.scope)}):r instanceof _r?(r.scope=this.scope,e.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&e.push({key:i,value:r}))}return e};var Lp=function(){_r.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,n=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};di(Lp,_r);var Ip=function(){_r.call(this);var e,n=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return n.length>0?n:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return n}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Zo(t(e))+")"}},set:function(t){e=t}})};di(Ip,_r);var Ki=function e(){_r.call(this);var n=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return n},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');n=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!wn(n,3)},set:function(k){k?this.F=yn(n,3):this.F=Cn(n,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');t=k}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(k){i=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(k){i[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(k){i[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(k){i[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(k){i[3]=k}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof nc)return;o="FieldObject"+e.FieldNum++}var k=function(Y){return Y};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+Zo(k(o))+")"},set:function(k){o=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(k){o=k}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(k){c=k}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(k){l=k}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(k){u=k}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/Vd:p},set:function(k){p=k}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(k){g=k}});var S="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!S||this instanceof nc||this instanceof $o))return Fd(S,this.objId,this.scope)},set:function(k){k=k.toString(),S=k}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Bn==0?Fd(A,this.objId,this.scope):A},set:function(k){k=k.toString(),A=this instanceof Bn==0?k.substr(0,1)==="("?Oa(k.substr(1,k.length-2)):Oa(k):k}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bn==1?Oa(A.substr(1,A.length-1)):A},set:function(k){k=k.toString(),A=this instanceof Bn==1?"/"+k:k}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Bn==0?Fd(h,this.objId,this.scope):h},set:function(k){k=k.toString(),h=this instanceof Bn==0?k.substr(0,1)==="("?Oa(k.substr(1,k.length-2)):Oa(k):k}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bn==1?Oa(h.substr(1,h.length-1)):h},set:function(k){k=k.toString(),h=this instanceof Bn==1?"/"+k:k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,L=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return L},set:function(k){k=!!k,L=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(k){j=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,1)},set:function(k){k?this.Ff=yn(this.Ff,1):this.Ff=Cn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,2)},set:function(k){k?this.Ff=yn(this.Ff,2):this.Ff=Cn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,3)},set:function(k){k?this.Ff=yn(this.Ff,3):this.Ff=Cn(this.Ff,3)}});var B=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(B!==null)return B},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');B=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(B){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:B=2;break;case"center":case 1:B=1;break;default:B=0}}})};di(Ki,_r);var La=function(){Ki.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var n=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Mp(n,this.objId,this.scope)},set:function(t){var i,r;r=[],typeof(i=t)=="string"&&(r=function(o,c,l){l||(l=1);for(var u,p=[];u=c.exec(o);)p.push(u[l]);return p}(i,/\((.*?)\)/g)),n=r}}),this.getOptions=function(){return n},this.setOptions=function(t){n=t,this.sort&&n.sort()},this.addOption=function(t){t=(t=t||"").toString(),n.push(t),this.sort&&n.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();n.indexOf(t)!==-1&&(n.splice(n.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,18)},set:function(t){t?this.Ff=yn(this.Ff,18):this.Ff=Cn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=yn(this.Ff,19):this.Ff=Cn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,20)},set:function(t){t?(this.Ff=yn(this.Ff,20),n.sort()):this.Ff=Cn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,22)},set:function(t){t?this.Ff=yn(this.Ff,22):this.Ff=Cn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,23)},set:function(t){t?this.Ff=yn(this.Ff,23):this.Ff=Cn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,27)},set:function(t){t?this.Ff=yn(this.Ff,27):this.Ff=Cn(this.Ff,27)}}),this.hasAppearanceStream=!1};di(La,Ki);var Ia=function(){La.call(this),this.fontName="helvetica",this.combo=!1};di(Ia,La);var Fa=function(){Ia.call(this),this.combo=!0};di(Fa,Ia);var Xl=function(){Fa.call(this),this.edit=!0};di(Xl,Fa);var Bn=function(){Ki.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,15)},set:function(t){t?this.Ff=yn(this.Ff,15):this.Ff=Cn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,16)},set:function(t){t?this.Ff=yn(this.Ff,16):this.Ff=Cn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,17)},set:function(t){t?this.Ff=yn(this.Ff,17):this.Ff=Cn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,26)},set:function(t){t?this.Ff=yn(this.Ff,26):this.Ff=Cn(this.Ff,26)}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(n).length!==0){var i,r=[];for(i in r.push("<<"),n)r.push("/"+i+" ("+Zo(t(n[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(t){$t(t)==="object"&&(n=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(t){typeof t=="string"&&(n.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};di(Bn,Ki);var Jl=function(){Bn.call(this),this.pushButton=!0};di(Jl,Bn);var Ta=function(){Bn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n!==void 0?n:[]}})};di(Ta,Bn);var nc=function(){var e,n;Ki.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(r){n=r}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(l){return l};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),i)c.push("/"+o+" ("+Zo(r(i[o]))+")");return c.push(">>"),c.join(`
`)},set:function(r){$t(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ze.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};di(nc,Ki),Ta.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var n in this.Kids)if(this.Kids.hasOwnProperty(n)){var t=this.Kids[n];t.appearanceStreamContent=e.createAppearanceStream(t.optionName),t.caption=e.getCA()}},Ta.prototype.createOption=function(e){var n=new nc;return n.Parent=this,n.optionName=e,this.Kids.push(n),$5.call(this.scope,n),n};var Ql=function(){Bn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ze.CheckBox.createAppearanceStream()};di(Ql,Bn);var $o=function(){Ki.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,13)},set:function(n){n?this.Ff=yn(this.Ff,13):this.Ff=Cn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,21)},set:function(n){n?this.Ff=yn(this.Ff,21):this.Ff=Cn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,23)},set:function(n){n?this.Ff=yn(this.Ff,23):this.Ff=Cn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,24)},set:function(n){n?this.Ff=yn(this.Ff,24):this.Ff=Cn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,25)},set:function(n){n?this.Ff=yn(this.Ff,25):this.Ff=Cn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,26)},set:function(n){n?this.Ff=yn(this.Ff,26):this.Ff=Cn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){Number.isInteger(n)&&(e=n)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};di($o,Ki);var ec=function(){$o.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,14)},set:function(e){e?this.Ff=yn(this.Ff,14):this.Ff=Cn(this.Ff,14)}}),this.password=!0};di(ec,$o);var ze={CheckBox:{createAppearanceStream:function(){return{N:{On:ze.CheckBox.YesNormal},D:{On:ze.CheckBox.YesPushDown,Off:ze.CheckBox.OffPushDown}}},YesPushDown:function(e){var n=gr(e);n.scope=e.scope;var t=[],i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),o=Ud(e,e.caption);return t.push("0.749023 g"),t.push("0 0 "+ut(ze.internal.getWidth(e))+" "+ut(ze.internal.getHeight(e))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+ut(o.fontSize)+" Tf "+r),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),n.stream=t.join(`
`),n},YesNormal:function(e){var n=gr(e);n.scope=e.scope;var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),r=[],o=ze.internal.getHeight(e),c=ze.internal.getWidth(e),l=Ud(e,e.caption);return r.push("1 g"),r.push("0 0 "+ut(c)+" "+ut(o)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+ut(c-1)+" "+ut(o-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+t+" "+ut(l.fontSize)+" Tf "+i),r.push(l.text),r.push("ET"),r.push("Q"),n.stream=r.join(`
`),n},OffPushDown:function(e){var n=gr(e);n.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+ut(ze.internal.getWidth(e))+" "+ut(ze.internal.getHeight(e))+" re"),t.push("f"),n.stream=t.join(`
`),n}},RadioButton:{Circle:{createAppearanceStream:function(e){var n={D:{Off:ze.RadioButton.Circle.OffPushDown},N:{}};return n.N[e]=ze.RadioButton.Circle.YesNormal,n.D[e]=ze.RadioButton.Circle.YesPushDown,n},getCA:function(){return"l"},YesNormal:function(e){var n=gr(e);n.scope=e.scope;var t=[],i=ze.internal.getWidth(e)<=ze.internal.getHeight(e)?ze.internal.getWidth(e)/4:ze.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=ze.internal.Bezier_C,o=Number((i*r).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+po(ze.internal.getWidth(e)/2)+" "+po(ze.internal.getHeight(e)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n},YesPushDown:function(e){var n=gr(e);n.scope=e.scope;var t=[],i=ze.internal.getWidth(e)<=ze.internal.getHeight(e)?ze.internal.getWidth(e)/4:ze.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),o=Number((r*ze.internal.Bezier_C).toFixed(5)),c=Number((i*ze.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+po(ze.internal.getWidth(e)/2)+" "+po(ze.internal.getHeight(e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+po(ze.internal.getWidth(e)/2)+" "+po(ze.internal.getHeight(e)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+c+" "+c+" "+i+" 0 "+i+" c"),t.push("-"+c+" "+i+" -"+i+" "+c+" -"+i+" 0 c"),t.push("-"+i+" -"+c+" -"+c+" -"+i+" 0 -"+i+" c"),t.push(c+" -"+i+" "+i+" -"+c+" "+i+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n},OffPushDown:function(e){var n=gr(e);n.scope=e.scope;var t=[],i=ze.internal.getWidth(e)<=ze.internal.getHeight(e)?ze.internal.getWidth(e)/4:ze.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),o=Number((r*ze.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+po(ze.internal.getWidth(e)/2)+" "+po(ze.internal.getHeight(e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n}},Cross:{createAppearanceStream:function(e){var n={D:{Off:ze.RadioButton.Cross.OffPushDown},N:{}};return n.N[e]=ze.RadioButton.Cross.YesNormal,n.D[e]=ze.RadioButton.Cross.YesPushDown,n},getCA:function(){return"8"},YesNormal:function(e){var n=gr(e);n.scope=e.scope;var t=[],i=ze.internal.calculateCross(e);return t.push("q"),t.push("1 1 "+ut(ze.internal.getWidth(e)-2)+" "+ut(ze.internal.getHeight(e)-2)+" re"),t.push("W"),t.push("n"),t.push(ut(i.x1.x)+" "+ut(i.x1.y)+" m"),t.push(ut(i.x2.x)+" "+ut(i.x2.y)+" l"),t.push(ut(i.x4.x)+" "+ut(i.x4.y)+" m"),t.push(ut(i.x3.x)+" "+ut(i.x3.y)+" l"),t.push("s"),t.push("Q"),n.stream=t.join(`
`),n},YesPushDown:function(e){var n=gr(e);n.scope=e.scope;var t=ze.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+ut(ze.internal.getWidth(e))+" "+ut(ze.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+ut(ze.internal.getWidth(e)-2)+" "+ut(ze.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(ut(t.x1.x)+" "+ut(t.x1.y)+" m"),i.push(ut(t.x2.x)+" "+ut(t.x2.y)+" l"),i.push(ut(t.x4.x)+" "+ut(t.x4.y)+" m"),i.push(ut(t.x3.x)+" "+ut(t.x3.y)+" l"),i.push("s"),i.push("Q"),n.stream=i.join(`
`),n},OffPushDown:function(e){var n=gr(e);n.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+ut(ze.internal.getWidth(e))+" "+ut(ze.internal.getHeight(e))+" re"),t.push("f"),n.stream=t.join(`
`),n}}},createDefaultAppearanceStream:function(e){var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,t=e.scope.__private__.encodeColorString(e.color);return"/"+n+" "+e.fontSize+" Tf "+t}};ze.internal={Bezier_C:.551915024494,calculateCross:function(e){var n=ze.internal.getWidth(e),t=ze.internal.getHeight(e),i=Math.min(n,t);return{x1:{x:(n-i)/2,y:(t-i)/2+i},x2:{x:(n-i)/2+i,y:(t-i)/2},x3:{x:(n-i)/2,y:(t-i)/2},x4:{x:(n-i)/2+i,y:(t-i)/2+i}}}},ze.internal.getWidth=function(e){var n=0;return $t(e)==="object"&&(n=cp(e.Rect[2])),n},ze.internal.getHeight=function(e){var n=0;return $t(e)==="object"&&(n=cp(e.Rect[3])),n};var $5=mn.addField=function(e){if(W5(this,e),!(e instanceof Ki))throw new Error("Invalid argument passed to jsPDF.addField.");var n;return(n=e).scope.internal.acroformPlugin.printedOut&&(n.scope.internal.acroformPlugin.printedOut=!1,n.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),n.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(n),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};mn.AcroFormChoiceField=La,mn.AcroFormListBox=Ia,mn.AcroFormComboBox=Fa,mn.AcroFormEditBox=Xl,mn.AcroFormButton=Bn,mn.AcroFormPushButton=Jl,mn.AcroFormRadioButton=Ta,mn.AcroFormCheckBox=Ql,mn.AcroFormTextField=$o,mn.AcroFormPasswordField=ec,mn.AcroFormAppearance=ze,mn.AcroForm={ChoiceField:La,ListBox:Ia,ComboBox:Fa,EditBox:Xl,Button:Bn,PushButton:Jl,RadioButton:Ta,CheckBox:Ql,TextField:$o,PasswordField:ec,Appearance:ze},Ze.AcroForm={ChoiceField:La,ListBox:Ia,ComboBox:Fa,EditBox:Xl,Button:Bn,PushButton:Jl,RadioButton:Ta,CheckBox:Ql,TextField:$o,PasswordField:ec,Appearance:ze};var v4=Ze.AcroForm;function Fp(e){return e.reduce(function(n,t,i){return n[t]=i,n},{})}(function(e){var n="addImage_";e.__addimage__={};var t="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(O,T){var W,G,le,fe,he,se=t;if((T=T||t)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(ye(O))for(he in i)for(le=i[he],W=0;W<le.length;W+=1){for(fe=!0,G=0;G<le[W].length;G+=1)if(le[W][G]!==void 0&&le[W][G]!==O[G]){fe=!1;break}if(fe===!0){se=he;break}}else for(he in i)for(le=i[he],W=0;W<le.length;W+=1){for(fe=!0,G=0;G<le[W].length;G+=1)if(le[W][G]!==void 0&&le[W][G]!==O.charCodeAt(G)){fe=!1;break}if(fe===!0){se=he;break}}return se===t&&T!==t&&(se=T),se},o=function O(T){for(var W=this.internal.write,G=this.internal.putStream,le=(0,this.internal.getFilters)();le.indexOf("FlateEncode")!==-1;)le.splice(le.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var fe=[];if(fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Image"}),fe.push({key:"Width",value:T.width}),fe.push({key:"Height",value:T.height}),T.colorSpace===k.INDEXED?fe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(fe.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===k.DEVICE_CMYK&&fe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),fe.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&fe.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)&&T.transparency.length>0){for(var he="",se=0,ge=T.transparency.length;se<ge;se++)he+=T.transparency[se]+" "+T.transparency[se]+" ";fe.push({key:"Mask",value:"["+he+"]"})}T.sMask!==void 0&&fe.push({key:"SMask",value:T.objectId+1+" 0 R"});var Me=T.filter!==void 0?["/"+T.filter]:void 0;if(G({data:T.data,additionalKeyValues:fe,alreadyAppliedFilters:Me,objectId:T.objectId}),W("endobj"),"sMask"in T&&T.sMask!==void 0){var Pe,C=(Pe=T.sMaskBitsPerComponent)!==null&&Pe!==void 0?Pe:T.bitsPerComponent,R={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:C,data:T.sMask};"filter"in T&&(R.decodeParameters="/Predictor ".concat(T.predictor," /Colors 1 /BitsPerComponent ").concat(C," /Columns ").concat(T.width),R.filter=T.filter),O.call(this,R)}if(T.colorSpace===k.INDEXED){var U=this.internal.newObject();G({data:Q(new Uint8Array(T.palette)),objectId:U}),W("endobj")}},c=function(){var O=this.internal.collections[n+"images"];for(var T in O)o.call(this,O[T])},l=function(){var O,T=this.internal.collections[n+"images"],W=this.internal.write;for(var G in T)W("/I"+(O=T[G]).index,O.objectId,"0","R")},u=function(){this.internal.collections[n+"images"]||(this.internal.collections[n+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",l))},p=function(){var O=this.internal.collections[n+"images"];return u.call(this),O},g=function(){return Object.keys(this.internal.collections[n+"images"]).length},S=function(O){return typeof e["process"+O.toUpperCase()]=="function"},A=function(O){return $t(O)==="object"&&O.nodeType===1},h=function(O,T){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var W=""+O.getAttribute("src");if(W.indexOf("data:image/")===0)return Kl(unescape(W).split("base64,").pop());var G=e.loadFile(W,!0);if(G!==void 0)return G}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var le;switch(T){case"PNG":le="image/png";break;case"WEBP":le="image/webp";break;default:le="image/jpeg"}return Kl(O.toDataURL(le,1).split("base64,").pop())}},j=function(O){var T=this.internal.collections[n+"images"];if(T){for(var W in T)if(O===T[W].alias)return T[W]}},L=function(O,T,W){return O||T||(O=-96,T=-96),O<0&&(O=-1*W.width*72/O/this.internal.scaleFactor),T<0&&(T=-1*W.height*72/T/this.internal.scaleFactor),O===0&&(O=T*W.width/W.height),T===0&&(T=O*W.height/W.width),[O,T]},B=function(O,T,W,G,le,fe){var he=L.call(this,W,G,le),se=this.internal.getCoordinateString,ge=this.internal.getVerticalCoordinateString,Me=p.call(this);if(W=he[0],G=he[1],Me[le.index]=le,fe){fe*=Math.PI/180;var Pe=Math.cos(fe),C=Math.sin(fe),R=function($){return $.toFixed(4)},U=[R(Pe),R(C),R(-1*C),R(Pe),0,0,"cm"]}this.internal.write("q"),fe?(this.internal.write([1,"0","0",1,se(O),ge(T+G),"cm"].join(" ")),this.internal.write(U.join(" ")),this.internal.write([se(W),"0","0",se(G),"0","0","cm"].join(" "))):this.internal.write([se(W),"0","0",se(G),se(O),ge(T+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+le.index+" Do"),this.internal.write("Q")},k=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},K=e.__addimage__.sHashCode=function(O){var T,W,G=0;if(typeof O=="string")for(W=O.length,T=0;T<W;T++)G=(G<<5)-G+O.charCodeAt(T),G|=0;else if(ye(O))for(W=O.byteLength/2,T=0;T<W;T++)G=(G<<5)-G+O[T],G|=0;return G},V=e.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var T=!0;return O.length===0&&(T=!1),O.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(T=!1),T},ce=e.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var T=O.indexOf(",");return T<0?null:O.substring(0,T).trim().endsWith("base64")?O.substring(T+1):null};e.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var ye=e.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},_e=e.__addimage__.binaryStringToUint8Array=function(O){for(var T=O.length,W=new Uint8Array(T),G=0;G<T;G++)W[G]=O.charCodeAt(G);return W},Q=e.__addimage__.arrayBufferToBinaryString=function(O){for(var T="",W=ye(O)?O:new Uint8Array(O),G=0;G<W.length;G+=8192)T+=String.fromCharCode.apply(null,W.subarray(G,G+8192));return T};e.addImage=function(){var O,T,W,G,le,fe,he,se,ge;if(typeof arguments[1]=="number"?(T=t,W=arguments[1],G=arguments[2],le=arguments[3],fe=arguments[4],he=arguments[5],se=arguments[6],ge=arguments[7]):(T=arguments[1],W=arguments[2],G=arguments[3],le=arguments[4],fe=arguments[5],he=arguments[6],se=arguments[7],ge=arguments[8]),$t(O=arguments[0])==="object"&&!A(O)&&"imageData"in O){var Me=O;O=Me.imageData,T=Me.format||T||t,W=Me.x||W||0,G=Me.y||G||0,le=Me.w||Me.width||le,fe=Me.h||Me.height||fe,he=Me.alias||he,se=Me.compression||se,ge=Me.rotation||Me.angle||ge}var Pe=this.internal.getFilters();if(se===void 0&&Pe.indexOf("FlateEncode")!==-1&&(se="SLOW"),isNaN(W)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var C=z.call(this,O,T,he,se);return B.call(this,W,G,le,fe,C,ge),this};var z=function(O,T,W,G){var le,fe,he;if(typeof O=="string"&&r(O)===t){O=unescape(O);var se=oe(O,!1);(se!==""||(se=e.loadFile(O,!0))!==void 0)&&(O=se)}if(A(O)&&(O=h(O,T)),T=r(O,T),!S(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((he=W)==null||he.length===0)&&(W=function(ge){return typeof ge=="string"||ye(ge)?K(ge):ye(ge.data)?K(ge.data):null}(O)),(le=j.call(this,W))||(O instanceof Uint8Array||T==="RGBA"||(fe=O,O=_e(O)),le=this["process"+T.toUpperCase()](O,g.call(this),W,function(ge){return ge&&typeof ge=="string"&&(ge=ge.toUpperCase()),ge in e.image_compression?ge:Y.NONE}(G),fe)),!le)throw new Error("An unknown error occurred whilst processing the image.");return le},oe=e.__addimage__.convertBase64ToBinaryString=function(O,T){T=typeof T!="boolean"||T;var W,G="";if(typeof O=="string"){var le;W=(le=ce(O))!==null&&le!==void 0?le:O;try{G=Kl(W)}catch(fe){if(T)throw V(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+fe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};e.getImageProperties=function(O){var T,W,G="";if(A(O)&&(O=h(O)),typeof O=="string"&&r(O)===t&&((G=oe(O,!1))===""&&(G=e.loadFile(O)||""),O=G),W=r(O),!S(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(O instanceof Uint8Array||(O=_e(O)),!(T=this["process"+W.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=W,T}})(Ze.API),function(e){var n=function(t){if(t!==void 0&&t!="")return!0};Ze.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(t){for(var i,r,o,c=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),p=t.pageContext.annotations,g=!1,S=0;S<p.length&&!g;S++)switch((i=p[S]).type){case"link":(n(i.options.url)||n(i.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var A=0;A<p.length;A++){i=p[A];var h=this.internal.pdfEscape,j=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var L=this.internal.newAdditionalObject(),B=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(L.objId),Y=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(r="/Rect ["+c(i.bounds.x)+" "+l(i.bounds.y+i.bounds.h)+" "+c(i.bounds.x+i.bounds.w)+" "+l(i.bounds.y)+"] ")+"/Contents ("+h(k(i.contents))+")",o+=" /Popup "+B.objId+" 0 R",o+=" /P "+u.objId+" 0 R",o+=" /T ("+h(k(Y))+") >>",L.content=o;var K=L.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+c(i.bounds.x+30)+" "+l(i.bounds.y+i.bounds.h)+" "+c(i.bounds.x+i.bounds.w+30)+" "+l(i.bounds.y)+"] ")+" /Parent "+K,i.open&&(o+=" /Open true"),o+=" >>",B.content=o,this.internal.write(L.objId,"0 R",B.objId,"0 R");break;case"freetext":r="/Rect ["+c(i.bounds.x)+" "+l(i.bounds.y)+" "+c(i.bounds.x+i.bounds.w)+" "+l(i.bounds.y+i.bounds.h)+"] ";var V=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+h(j(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+V+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(i.options.name){var ce=this.annotations._nameMap[i.options.name];i.options.pageNumber=ce.page,i.options.top=ce.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+h(j(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;default:var ye=l(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+ye+" "+i.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),e.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},e.link=function(t,i,r,o,c){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(t),y:p(i),w:u(t+r),h:p(i+o)},options:c,type:"link"})},e.textWithLink=function(t,i,r,o){var c,l,u=this.getTextWidth(t),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){l=o.maxWidth;var g=this.splitTextToSize(t,l).length;c=Math.ceil(p*g)}else l=u,c=p;return this.text(t,i,r,o),r+=.2*p,o.align==="center"&&(i-=u/2),o.align==="right"&&(i-=u),this.link(i,r-p,l,c,o),u},e.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}}(Ze.API),function(e){var n={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(L){return n[L.charCodeAt(0)]!==void 0},c=e.__arabicParser__.isArabicLetter=function(L){return typeof L=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(L)},l=e.__arabicParser__.isArabicEndLetter=function(L){return c(L)&&o(L)&&n[L.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(L){return c(L)&&r.indexOf(L.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(L){return c(L)&&o(L)&&n[L.charCodeAt(0)].length>=1};var p=e.__arabicParser__.arabicLetterHasFinalForm=function(L){return c(L)&&o(L)&&n[L.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(L){return c(L)&&o(L)&&n[L.charCodeAt(0)].length>=3};var g=e.__arabicParser__.arabicLetterHasMedialForm=function(L){return c(L)&&o(L)&&n[L.charCodeAt(0)].length==4},S=e.__arabicParser__.resolveLigatures=function(L){var B=0,k=t,Y="",K=0;for(B=0;B<L.length;B+=1)k[L.charCodeAt(B)]!==void 0?(K++,typeof(k=k[L.charCodeAt(B)])=="number"&&(Y+=String.fromCharCode(k),k=t,K=0),B===L.length-1&&(k=t,Y+=L.charAt(B-(K-1)),B-=K-1,K=0)):(k=t,Y+=L.charAt(B-K),B-=K,K=0);return Y};e.__arabicParser__.isArabicDiacritic=function(L){return L!==void 0&&i[L.charCodeAt(0)]!==void 0};var A=e.__arabicParser__.getCorrectForm=function(L,B,k){return c(L)?o(L)===!1?-1:!p(L)||!c(B)&&!c(k)||!c(k)&&l(B)||l(L)&&!c(B)||l(L)&&u(B)||l(L)&&l(B)?0:g(L)&&c(B)&&!l(B)&&c(k)&&p(k)?3:l(L)||!c(k)?1:2:-1},h=function(L){var B=0,k=0,Y=0,K="",V="",ce="",ye=(L=L||"").split("\\s+"),_e=[];for(B=0;B<ye.length;B+=1){for(_e.push(""),k=0;k<ye[B].length;k+=1)K=ye[B][k],V=ye[B][k-1],ce=ye[B][k+1],c(K)?(Y=A(K,V,ce),_e[B]+=Y!==-1?String.fromCharCode(n[K.charCodeAt(0)][Y]):K):_e[B]+=K;_e[B]=S(_e[B])}return _e.join(" ")},j=e.__arabicParser__.processArabic=e.processArabic=function(){var L,B=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(B)){var Y=0;for(k=[],Y=0;Y<B.length;Y+=1)Array.isArray(B[Y])?k.push([h(B[Y][0]),B[Y][1],B[Y][2]]):k.push([h(B[Y])]);L=k}else L=h(B);return typeof arguments[0]=="string"?L:(arguments[0].text=L,arguments[0])};e.events.push(["preProcessText",j])}(Ze.API),Ze.API.autoPrint=function(e){var n;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+n+" 0 R")})),this},function(e){var n=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(l){o=l}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(l){c=l}}),Object.defineProperty(this,"parentNode",{})};n.prototype.getContext=function(t,i){var r;if((t=t||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},n.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new n,this.canvas.pdf=this}])}(Ze.API),function(e){var n={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},n),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(L){u=L}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(L){p=L}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(L){g=L}});var S=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return S},set:function(L){S=L}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(L){A=L}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(L){h=L}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(L){j=L}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return i.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,p){i.call(this);var g=(p=p||{}).fontSize||this.getFontSize(),S=p.font||this.getFont(),A=p.scaleFactor||this.internal.scaleFactor,h=0,j=0,L=0,B=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var k=p.maxWidth;k>0?typeof u=="string"?u=this.splitTextToSize(u,k):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(K,V){return K.concat(B.splitTextToSize(V,k))},[])):u=Array.isArray(u)?u:[u];for(var Y=0;Y<u.length;Y++)h<(L=this.getStringUnitWidth(u[Y],{font:S})*g)&&(h=L);return h!==0&&(j=u.length),{w:h/=A,h:Math.max((j*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/A,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var u=this.internal.__cell__.margins||n;return this.internal.__cell__.lastCell=new o(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=e.cell=function(){var u;u=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var p=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,S=this.internal.__cell__.margins||n,A=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===u.lineNumber?(u.x=(p.x||0)+(p.width||0),u.y=p.y||0):p.y+p.height+u.height+S.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=S.top,h&&A&&(this.printHeaderRow(u.lineNumber,!0),u.y+=A[0].height)):u.y=p.y+p.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-g,u.y+g,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+g,{align:"center",baseline:"top",maxWidth:u.width-g-g}):this.text(u.text,u.x+g,u.y+g,{align:"left",baseline:"top",maxWidth:u.width-g-g})),this.internal.__cell__.lastCell=u,this};e.table=function(u,p,g,S,A){if(i.call(this),!g)throw new Error("No data for PDF table.");var h,j,L,B,k=[],Y=[],K=[],V={},ce={},ye=[],_e=[],Q=(A=A||{}).autoSize||!1,z=A.printHeaders!==!1,oe=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,O=A.margins||Object.assign({width:this.getPageWidth()},n),T=typeof A.padding=="number"?A.padding:3,W=A.headerBackgroundColor||"#c8c8c8",G=A.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=z,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=oe,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=W,this.internal.__cell__.headerTextColor=G,this.setFontSize(oe),S==null)Y=k=Object.keys(g[0]),K=k.map(function(){return"left"});else if(Array.isArray(S)&&$t(S[0])==="object")for(k=S.map(function(Me){return Me.name}),Y=S.map(function(Me){return Me.prompt||Me.name||""}),K=S.map(function(Me){return Me.align||"left"}),h=0;h<S.length;h+=1)ce[S[h].name]=.7499990551181103*S[h].width;else Array.isArray(S)&&typeof S[0]=="string"&&(Y=k=S,K=k.map(function(){return"left"}));if(Q||Array.isArray(S)&&typeof S[0]=="string")for(h=0;h<k.length;h+=1){for(V[B=k[h]]=g.map(function(Me){return Me[B]}),this.setFont(void 0,"bold"),ye.push(this.getTextDimensions(Y[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=V[B],this.setFont(void 0,"normal"),L=0;L<j.length;L+=1)ye.push(this.getTextDimensions(j[L],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ce[B]=Math.max.apply(null,ye)+T+T,ye=[]}if(z){var le={};for(h=0;h<k.length;h+=1)le[k[h]]={},le[k[h]].text=Y[h],le[k[h]].align=K[h];var fe=l.call(this,le,ce);_e=k.map(function(Me){return new o(u,p,ce[Me],fe,le[Me].text,void 0,le[Me].align)}),this.setTableHeaderRow(_e),this.printHeaderRow(1,!1)}var he=S.reduce(function(Me,Pe){return Me[Pe.name]=Pe.align,Me},{});for(h=0;h<g.length;h+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:h,data:g[h]},this);var se=l.call(this,g[h],ce);for(L=0;L<k.length;L+=1){var ge=g[h][k[L]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:h,col:L,data:ge},this),c.call(this,new o(u,p,ce[k[L]],se,ge,h+2,he[k[L]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=p,this};var l=function(u,p){var g=this.internal.__cell__.padding,S=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(u).map(function(h){var j=u[h];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,p[h]-g-g)},this).map(function(h){return this.getLineHeightFactor()*h.length*S/A+g+g},this).reduce(function(h,j){return Math.max(h,j)},0)};e.setTableHeaderRow=function(u){i.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,p){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var S=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(S[0],S[1],S[2],S[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){g=this.internal.__cell__.tableHeaderRow[h].clone(),p&&(g.y=this.internal.__cell__.margins.top||0,A.push(g)),g.lineNumber=u;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,g),this.setTextColor(j)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),t=!1}}(Ze.API);var Tp={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Dp=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],qd=Fp(Dp),jp=[100,200,300,400,500,600,700,800,900],Z5=Fp(jp);function Td(e){var n=e.family.replace(/"|'/g,"").toLowerCase(),t=function(o){return Tp[o=o||"normal"]?o:"normal"}(e.style),i=function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400}(e.weight),r=function(o){return typeof qd[o=o||"normal"]=="number"?o:"normal"}(e.stretch);return{family:n,style:t,weight:i,stretch:r,src:e.src||[],ref:e.ref||{name:n,style:[r,t,i].join(" ")}}}function dp(e,n,t,i){var r;for(r=t;r>=0&&r<n.length;r+=i)if(e[n[r]])return e[n[r]];for(r=t;r>=0&&r<n.length;r-=i)if(e[n[r]])return e[n[r]]}var Y5={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},up={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function fp(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function pp(e){return e.trimLeft()}function K5(e,n){for(var t=0;t<e.length;){if(e.charAt(t)===n)return[e.substring(0,t),e.substring(t+1)];t+=1}return null}function X5(e){var n=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return n===null?null:[n[0],e.substring(n[0].length)]}var Zl,hp,mp,Na,Yl,gp,_p,vp,Dd=["times"];function bp(e,n,t,i,r){var o=4,c=wp;switch(r){case Ze.API.image_compression.FAST:o=1,c=xp;break;case Ze.API.image_compression.MEDIUM:o=6,c=yp;break;case Ze.API.image_compression.SLOW:o=9,c=Cp}e=function(u,p,g,S){for(var A,h=u.length/p,j=new Uint8Array(u.length+h),L=[J5,xp,wp,yp,Cp],B=0;B<h;B+=1){var k=B*p,Y=u.subarray(k,k+p);if(S)j.set(S(Y,g,A),k+B);else{for(var K=L.length,V=[],ce=0;ce<K;ce+=1)V[ce]=L[ce](Y,g,A);var ye=e_(V.concat());j.set(V[ye],k+B)}A=Y}return j}(e,n,Math.ceil(t*i/8),c);var l=Sl(e,{level:o});return Ze.API.__addimage__.arrayBufferToBinaryString(l)}function J5(e){var n=Array.apply([],e);return n.unshift(0),n}function xp(e,n){var t=e.length,i=[];i[0]=1;for(var r=0;r<t;r+=1){var o=e[r-n]||0;i[r+1]=e[r]-o+256&255}return i}function wp(e,n,t){var i=e.length,r=[];r[0]=2;for(var o=0;o<i;o+=1){var c=t&&t[o]||0;r[o+1]=e[o]-c+256&255}return r}function yp(e,n,t){var i=e.length,r=[];r[0]=3;for(var o=0;o<i;o+=1){var c=e[o-n]||0,l=t&&t[o]||0;r[o+1]=e[o]+256-(c+l>>>1)&255}return r}function Cp(e,n,t){var i=e.length,r=[];r[0]=4;for(var o=0;o<i;o+=1){var c=Q5(e[o-n]||0,t&&t[o]||0,t&&t[o-n]||0);r[o+1]=e[o]-c+256&255}return r}function Q5(e,n,t){if(e===n&&n===t)return e;var i=Math.abs(n-t),r=Math.abs(e-t),o=Math.abs(e+n-t-t);return i<=r&&i<=o?e:r<=o?n:t}function e_(e){var n=e.map(function(t){return t.reduce(function(i,r){return i+Math.abs(r)},0)});return n.indexOf(Math.min.apply(null,n))}function jd(e,n,t){var i=n*t,r=Math.floor(i/8),o=16-(i-8*r+t),c=(1<<t)-1;return Rp(e,r)>>o&c}function Sp(e,n,t,i){var r=t*i,o=Math.floor(r/8),c=16-(r-8*o+i),l=(1<<i)-1,u=(n&l)<<c;(function(p,g,S){if(g+1<p.byteLength)p.setUint16(g,S,!1);else{var A=S>>8&255;p.setUint8(g,A)}})(e,o,Rp(e,o)&~(l<<c)&65535|u)}function Rp(e,n){return n+1<e.byteLength?e.getUint16(n,!1):e.getUint8(n)<<8}function t_(e){var n=0;if(e[n++]!==71||e[n++]!==73||e[n++]!==70||e[n++]!==56||(e[n++]+1&253)!=56||e[n++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=e[n++]|e[n++]<<8,i=e[n++]|e[n++]<<8,r=e[n++],o=r>>7,c=1<<1+(7&r);e[n++],e[n++];var l=null,u=null;o&&(l=n,u=c,n+=3*c);var p=!0,g=[],S=0,A=null,h=0,j=null;for(this.width=t,this.height=i;p&&n<e.length;)switch(e[n++]){case 33:switch(e[n++]){case 255:if(e[n]!==11||e[n+1]==78&&e[n+2]==69&&e[n+3]==84&&e[n+4]==83&&e[n+5]==67&&e[n+6]==65&&e[n+7]==80&&e[n+8]==69&&e[n+9]==50&&e[n+10]==46&&e[n+11]==48&&e[n+12]==3&&e[n+13]==1&&e[n+16]==0)n+=14,j=e[n++]|e[n++]<<8,n++;else for(n+=12;;){if(!((O=e[n++])>=0))throw Error("Invalid block size");if(O===0)break;n+=O}break;case 249:if(e[n++]!==4||e[n+4]!==0)throw new Error("Invalid graphics extension block.");var L=e[n++];S=e[n++]|e[n++]<<8,A=e[n++],1&L||(A=null),h=L>>2&7,n++;break;case 254:for(;;){if(!((O=e[n++])>=0))throw Error("Invalid block size");if(O===0)break;n+=O}break;default:throw new Error("Unknown graphic control label: 0x"+e[n-1].toString(16))}break;case 44:var B=e[n++]|e[n++]<<8,k=e[n++]|e[n++]<<8,Y=e[n++]|e[n++]<<8,K=e[n++]|e[n++]<<8,V=e[n++],ce=V>>6&1,ye=1<<1+(7&V),_e=l,Q=u,z=!1;V>>7&&(z=!0,_e=n,Q=ye,n+=3*ye);var oe=n;for(n++;;){var O;if(!((O=e[n++])>=0))throw Error("Invalid block size");if(O===0)break;n+=O}g.push({x:B,y:k,width:Y,height:K,has_local_palette:z,palette_offset:_e,palette_size:Q,data_offset:oe,data_length:n-oe,transparent_index:A,interlaced:!!ce,delay:S,disposal:h});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+e[n-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return j},this.frameInfo=function(T){if(T<0||T>=g.length)throw new Error("Frame index out of range.");return g[T]},this.decodeAndBlitFrameBGRA=function(T,W){var G=this.frameInfo(T),le=G.width*G.height,fe=new Uint8Array(le);Pp(e,G.data_offset,fe,le);var he=G.palette_offset,se=G.transparent_index;se===null&&(se=256);var ge=G.width,Me=t-ge,Pe=ge,C=4*(G.y*t+G.x),R=4*((G.y+G.height)*t+G.x),U=C,$=4*Me;G.interlaced===!0&&($+=4*t*7);for(var J=8,ie=0,de=fe.length;ie<de;++ie){var ue=fe[ie];if(Pe===0&&(Pe=ge,(U+=$)>=R&&($=4*Me+4*t*(J-1),U=C+(ge+Me)*(J<<1),J>>=1)),ue===se)U+=4;else{var xe=e[he+3*ue],Ee=e[he+3*ue+1],Te=e[he+3*ue+2];W[U++]=Te,W[U++]=Ee,W[U++]=xe,W[U++]=255}--Pe}},this.decodeAndBlitFrameRGBA=function(T,W){var G=this.frameInfo(T),le=G.width*G.height,fe=new Uint8Array(le);Pp(e,G.data_offset,fe,le);var he=G.palette_offset,se=G.transparent_index;se===null&&(se=256);var ge=G.width,Me=t-ge,Pe=ge,C=4*(G.y*t+G.x),R=4*((G.y+G.height)*t+G.x),U=C,$=4*Me;G.interlaced===!0&&($+=4*t*7);for(var J=8,ie=0,de=fe.length;ie<de;++ie){var ue=fe[ie];if(Pe===0&&(Pe=ge,(U+=$)>=R&&($=4*Me+4*t*(J-1),U=C+(ge+Me)*(J<<1),J>>=1)),ue===se)U+=4;else{var xe=e[he+3*ue],Ee=e[he+3*ue+1],Te=e[he+3*ue+2];W[U++]=xe,W[U++]=Ee,W[U++]=Te,W[U++]=255}--Pe}}}function Pp(e,n,t,i){for(var r=e[n++],o=1<<r,c=o+1,l=c+1,u=r+1,p=(1<<u)-1,g=0,S=0,A=0,h=e[n++],j=new Int32Array(4096),L=null;;){for(;g<16&&h!==0;)S|=e[n++]<<g,g+=8,h===1?h=e[n++]:--h;if(g<u)break;var B=S&p;if(S>>=u,g-=u,B!==o){if(B===c)break;for(var k=B<l?B:L,Y=0,K=k;K>o;)K=j[K]>>8,++Y;var V=K;if(A+Y+(k!==B?1:0)>i)return void Kt.log("Warning, gif stream longer than expected.");t[A++]=V;var ce=A+=Y;for(k!==B&&(t[A++]=V),K=k;Y--;)K=j[K],t[--ce]=255&K,K>>=8;L!==null&&l<4096&&(j[l++]=L<<8|V,l>=p+1&&u<12&&(++u,p=p<<1|1)),L=B}else l=c+1,p=(1<<(u=r+1))-1,L=null}return A!==i&&Kt.log("Warning, gif stream shorter than expected."),t}function Rd(e){var n,t,i,r,o,c=Math.floor,l=new Array(64),u=new Array(64),p=new Array(64),g=new Array(64),S=new Array(65535),A=new Array(65535),h=new Array(64),j=new Array(64),L=[],B=0,k=7,Y=new Array(64),K=new Array(64),V=new Array(64),ce=new Array(256),ye=new Array(2048),_e=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function fe(C,R){for(var U=0,$=0,J=new Array,ie=1;ie<=16;ie++){for(var de=1;de<=C[ie];de++)J[R[$]]=[],J[R[$]][0]=U,J[R[$]][1]=ie,$++,U++;U*=2}return J}function he(C){for(var R=C[0],U=C[1]-1;U>=0;)R&1<<U&&(B|=1<<k),U--,--k<0&&(B==255?(se(255),se(0)):se(B),k=7,B=0)}function se(C){L.push(C)}function ge(C){se(C>>8&255),se(255&C)}function Me(C,R,U,$,J){for(var ie,de=J[0],ue=J[240],xe=function(Oe,it){var je,tt,Qe,qt,Ot,ft,kt,Nt,We,mt,Ke=0;for(We=0;We<8;++We){je=Oe[Ke],tt=Oe[Ke+1],Qe=Oe[Ke+2],qt=Oe[Ke+3],Ot=Oe[Ke+4],ft=Oe[Ke+5],kt=Oe[Ke+6];var gn=je+(Nt=Oe[Ke+7]),Dt=je-Nt,St=tt+kt,Pt=tt-kt,nn=Qe+ft,et=Qe-ft,Xt=qt+Ot,st=qt-Ot,pt=gn+Xt,rn=gn-Xt,At=St+nn,ot=St-nn;Oe[Ke]=pt+At,Oe[Ke+4]=pt-At;var Vt=.707106781*(ot+rn);Oe[Ke+2]=rn+Vt,Oe[Ke+6]=rn-Vt;var go=.382683433*((pt=st+et)-(ot=Pt+Dt)),Zn=.5411961*pt+go,br=1.306562965*ot+go,Ji=.707106781*(At=et+Pt),at=Dt+Ji,xr=Dt-Ji;Oe[Ke+5]=xr+Zn,Oe[Ke+3]=xr-Zn,Oe[Ke+1]=at+br,Oe[Ke+7]=at-br,Ke+=8}for(Ke=0,We=0;We<8;++We){je=Oe[Ke],tt=Oe[Ke+8],Qe=Oe[Ke+16],qt=Oe[Ke+24],Ot=Oe[Ke+32],ft=Oe[Ke+40],kt=Oe[Ke+48];var wr=je+(Nt=Oe[Ke+56]),Si=je-Nt,Pi=tt+kt,dn=tt-kt,Fn=Qe+ft,zn=Qe-ft,_o=qt+Ot,Hr=qt-Ot,zi=wr+_o,Qi=wr-_o,Ui=Pi+Fn,qi=Pi-Fn;Oe[Ke]=zi+Ui,Oe[Ke+32]=zi-Ui;var Ai=.707106781*(qi+Qi);Oe[Ke+16]=Qi+Ai,Oe[Ke+48]=Qi-Ai;var vo=.382683433*((zi=Hr+zn)-(qi=dn+Si)),er=.5411961*zi+vo,bo=1.306562965*qi+vo,Yo=.707106781*(Ui=zn+dn),Ko=Si+Yo,Xo=Si-Yo;Oe[Ke+40]=Xo+er,Oe[Ke+24]=Xo-er,Oe[Ke+8]=Ko+bo,Oe[Ke+56]=Ko-bo,Ke++}for(We=0;We<64;++We)mt=Oe[We]*it[We],h[We]=mt>0?mt+.5|0:mt-.5|0;return h}(C,R),Ee=0;Ee<64;++Ee)j[_e[Ee]]=xe[Ee];var Te=j[0]-U;U=j[0],Te==0?he($[0]):(he($[A[ie=32767+Te]]),he(S[ie]));for(var Fe=63;Fe>0&&j[Fe]==0;)Fe--;if(Fe==0)return he(de),U;for(var Xe,E=1;E<=Fe;){for(var Ie=E;j[E]==0&&E<=Fe;)++E;var xt=E-Ie;if(xt>=16){Xe=xt>>4;for(var nt=1;nt<=Xe;++nt)he(ue);xt&=15}ie=32767+j[E],he(J[(xt<<4)+A[ie]]),he(S[ie]),E++}return Fe!=63&&he(de),U}function Pe(C){C=Math.min(Math.max(C,1),100),o!=C&&(function(R){for(var U=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],$=0;$<64;$++){var J=c((U[$]*R+50)/100);J=Math.min(Math.max(J,1),255),l[_e[$]]=J}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var ue=c((ie[de]*R+50)/100);ue=Math.min(Math.max(ue,1),255),u[_e[de]]=ue}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,Te=0;Te<8;Te++)for(var Fe=0;Fe<8;Fe++)p[Ee]=1/(l[_e[Ee]]*xe[Te]*xe[Fe]*8),g[Ee]=1/(u[_e[Ee]]*xe[Te]*xe[Fe]*8),Ee++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),o=C)}this.encode=function(C,R){R&&Pe(R),L=new Array,B=0,k=7,ge(65496),ge(65504),ge(16),se(74),se(70),se(73),se(70),se(0),se(1),se(1),se(0),ge(1),ge(1),se(0),se(0),function(){ge(65499),ge(132),se(0);for(var tt=0;tt<64;tt++)se(l[tt]);se(1);for(var Qe=0;Qe<64;Qe++)se(u[Qe])}(),function(tt,Qe){ge(65472),ge(17),se(8),ge(Qe),ge(tt),se(3),se(1),se(17),se(0),se(2),se(17),se(1),se(3),se(17),se(1)}(C.width,C.height),function(){ge(65476),ge(418),se(0);for(var tt=0;tt<16;tt++)se(Q[tt+1]);for(var Qe=0;Qe<=11;Qe++)se(z[Qe]);se(16);for(var qt=0;qt<16;qt++)se(oe[qt+1]);for(var Ot=0;Ot<=161;Ot++)se(O[Ot]);se(1);for(var ft=0;ft<16;ft++)se(T[ft+1]);for(var kt=0;kt<=11;kt++)se(W[kt]);se(17);for(var Nt=0;Nt<16;Nt++)se(G[Nt+1]);for(var We=0;We<=161;We++)se(le[We])}(),ge(65498),ge(12),se(3),se(1),se(0),se(2),se(17),se(3),se(17),se(0),se(63),se(0);var U=0,$=0,J=0;B=0,k=7,this.encode.displayName="_encode_";for(var ie,de,ue,xe,Ee,Te,Fe,Xe,E,Ie=C.data,xt=C.width,nt=C.height,Oe=4*xt,it=0;it<nt;){for(ie=0;ie<Oe;){for(Ee=Oe*it+ie,Fe=-1,Xe=0,E=0;E<64;E++)Te=Ee+(Xe=E>>3)*Oe+(Fe=4*(7&E)),it+Xe>=nt&&(Te-=Oe*(it+1+Xe-nt)),ie+Fe>=Oe&&(Te-=ie+Fe-Oe+4),de=Ie[Te++],ue=Ie[Te++],xe=Ie[Te++],Y[E]=(ye[de]+ye[ue+256|0]+ye[xe+512|0]>>16)-128,K[E]=(ye[de+768|0]+ye[ue+1024|0]+ye[xe+1280|0]>>16)-128,V[E]=(ye[de+1280|0]+ye[ue+1536|0]+ye[xe+1792|0]>>16)-128;U=Me(Y,p,U,n,i),$=Me(K,g,$,t,r),J=Me(V,g,J,t,r),ie+=32}it+=8}if(k>=0){var je=[];je[1]=k+1,je[0]=(1<<k+1)-1,he(je)}return ge(65497),new Uint8Array(L)},e=e||50,function(){for(var C=String.fromCharCode,R=0;R<256;R++)ce[R]=C(R)}(),n=fe(Q,z),t=fe(T,W),i=fe(oe,O),r=fe(G,le),function(){for(var C=1,R=2,U=1;U<=15;U++){for(var $=C;$<R;$++)A[32767+$]=U,S[32767+$]=[],S[32767+$][1]=U,S[32767+$][0]=$;for(var J=-(R-1);J<=-C;J++)A[32767+J]=U,S[32767+J]=[],S[32767+J][1]=U,S[32767+J][0]=R-1+J;C<<=1,R<<=1}}(),function(){for(var C=0;C<256;C++)ye[C]=19595*C,ye[C+256|0]=38470*C,ye[C+512|0]=7471*C+32768,ye[C+768|0]=-11059*C,ye[C+1024|0]=-21709*C,ye[C+1280|0]=32768*C+8421375,ye[C+1536|0]=-27439*C,ye[C+1792|0]=-5329*C}(),Pe(e)}function Yi(e,n){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!n,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ap(e){function n(z){if(!z)throw Error("assert :P")}function t(z,oe,O){for(var T=0;4>T;T++)if(z[oe+T]!=O.charCodeAt(T))return!0;return!1}function i(z,oe,O,T,W){for(var G=0;G<W;G++)z[oe+G]=O[T+G]}function r(z,oe,O,T){for(var W=0;W<T;W++)z[oe+W]=O}function o(z){return new Int32Array(z)}function c(z,oe){for(var O=[],T=0;T<z;T++)O.push(new oe);return O}function l(z,oe){var O=[];return function T(W,G,le){for(var fe=le[G],he=0;he<fe&&(W.push(le.length>G+1?[]:new oe),!(le.length<G+1));he++)T(W[he],G+1,le)}(O,0,z),O}var u=function(){var z=this;function oe(a,s){for(var f=1<<s-1>>>0;a&f;)f>>>=1;return f?(a&f-1)+f:a}function O(a,s,f,m,v){n(!(m%f));do a[s+(m-=f)]=v;while(0<m)}function T(a,s,f,m,v){if(n(2328>=v),512>=v)var w=o(512);else if((w=o(v))==null)return 0;return function(y,P,N,I,Z,ae){var F,X,te=P,pe=1<<N,re=o(16),me=o(16);for(n(Z!=0),n(I!=null),n(y!=null),n(0<N),X=0;X<Z;++X){if(15<I[X])return 0;++re[I[X]]}if(re[0]==Z)return 0;for(me[1]=0,F=1;15>F;++F){if(re[F]>1<<F)return 0;me[F+1]=me[F]+re[F]}for(X=0;X<Z;++X)F=I[X],0<I[X]&&(ae[me[F]++]=X);if(me[15]==1)return(I=new W).g=0,I.value=ae[0],O(y,te,1,pe,I),pe;var be,ke=-1,Se=pe-1,Ye=0,De=1,_t=1,Ve=1<<N;for(X=0,F=1,Z=2;F<=N;++F,Z<<=1){if(De+=_t<<=1,0>(_t-=re[F]))return 0;for(;0<re[F];--re[F])(I=new W).g=F,I.value=ae[X++],O(y,te+Ye,Z,Ve,I),Ye=oe(Ye,F)}for(F=N+1,Z=2;15>=F;++F,Z<<=1){if(De+=_t<<=1,0>(_t-=re[F]))return 0;for(;0<re[F];--re[F]){if(I=new W,(Ye&Se)!=ke){for(te+=Ve,be=1<<(ke=F)-N;15>ke&&!(0>=(be-=re[ke]));)++ke,be<<=1;pe+=Ve=1<<(be=ke-N),y[P+(ke=Ye&Se)].g=be+N,y[P+ke].value=te-P-ke}I.g=F-N,I.value=ae[X++],O(y,te+(Ye>>N),Z,Ve,I),Ye=oe(Ye,F)}}return De!=2*me[15]-1?0:pe}(a,s,f,m,v,w)}function W(){this.value=this.g=0}function G(){this.value=this.g=0}function le(){this.G=c(5,W),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Eo,G)}function fe(a,s,f,m){n(a!=null),n(s!=null),n(2147483648>m),a.Ca=254,a.I=0,a.b=-8,a.Ka=0,a.oa=s,a.pa=f,a.Jd=s,a.Yc=f+m,a.Zc=4<=m?f+m-4+1:f,de(a)}function he(a,s){for(var f=0;0<s--;)f|=xe(a,128)<<s;return f}function se(a,s){var f=he(a,s);return ue(a)?-f:f}function ge(a,s,f,m){var v,w=0;for(n(a!=null),n(s!=null),n(4294967288>m),a.Sb=m,a.Ra=0,a.u=0,a.h=0,4<m&&(m=4),v=0;v<m;++v)w+=s[f+v]<<8*v;a.Ra=w,a.bb=m,a.oa=s,a.pa=f}function Me(a){for(;8<=a.u&&a.bb<a.Sb;)a.Ra>>>=8,a.Ra+=a.oa[a.pa+a.bb]<<Zr-8>>>0,++a.bb,a.u-=8;$(a)&&(a.h=1,a.u=0)}function Pe(a,s){if(n(0<=s),!a.h&&s<=fi){var f=U(a)&ui[s];return a.u+=s,Me(a),f}return a.h=1,a.u=0}function C(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function U(a){return a.Ra>>>(a.u&Zr-1)>>>0}function $(a){return n(a.bb<=a.Sb),a.h||a.bb==a.Sb&&a.u>Zr}function J(a,s){a.u=s,a.h=$(a)}function ie(a){a.u>=Lr&&(n(a.u>=Lr),Me(a))}function de(a){n(a!=null&&a.oa!=null),a.pa<a.Zc?(a.I=(a.oa[a.pa++]|a.I<<8)>>>0,a.b+=8):(n(a!=null&&a.oa!=null),a.pa<a.Yc?(a.b+=8,a.I=a.oa[a.pa++]|a.I<<8):a.Ka?a.b=0:(a.I<<=8,a.b+=8,a.Ka=1))}function ue(a){return he(a,1)}function xe(a,s){var f=a.Ca;0>a.b&&de(a);var m=a.b,v=f*s>>>8,w=(a.I>>>m>v)+0;for(w?(f-=v,a.I-=v+1<<m>>>0):f=v+1,m=f,v=0;256<=m;)v+=8,m>>=8;return m=7^v+Yr[m],a.b-=m,a.Ca=(f<<m)-1,w}function Ee(a,s,f){a[s+0]=f>>24&255,a[s+1]=f>>16&255,a[s+2]=f>>8&255,a[s+3]=255&f}function Te(a,s){return a[s+0]|a[s+1]<<8}function Fe(a,s){return Te(a,s)|a[s+2]<<16}function Xe(a,s){return Te(a,s)|Te(a,s+2)<<16}function E(a,s){var f=1<<s;return n(a!=null),n(0<s),a.X=o(f),a.X==null?0:(a.Mb=32-s,a.Xa=s,1)}function Ie(a,s){n(a!=null),n(s!=null),n(a.Xa==s.Xa),i(s.X,0,a.X,0,1<<s.Xa)}function xt(){this.X=[],this.Xa=this.Mb=0}function nt(a,s,f,m){n(f!=null),n(m!=null);var v=f[0],w=m[0];return v==0&&(v=(a*w+s/2)/s),w==0&&(w=(s*v+a/2)/a),0>=v||0>=w?0:(f[0]=v,m[0]=w,1)}function Oe(a,s){return a+(1<<s)-1>>>s}function it(a,s){return((4278255360&a)+(4278255360&s)>>>0&4278255360)+((16711935&a)+(16711935&s)>>>0&16711935)>>>0}function je(a,s){z[s]=function(f,m,v,w,y,P,N){var I;for(I=0;I<y;++I){var Z=z[a](P[N+I-1],v,w+I);P[N+I]=it(f[m+I],Z)}}}function tt(){this.ud=this.hd=this.jd=0}function Qe(a,s){return((4278124286&(a^s))>>>1)+(a&s)>>>0}function qt(a){return 0<=a&&256>a?a:0>a?0:255<a?255:void 0}function Ot(a,s){return qt(a+(a-s+.5>>1))}function ft(a,s,f){return Math.abs(s-f)-Math.abs(a-f)}function kt(a,s,f,m,v,w,y){for(m=w[y-1],f=0;f<v;++f)w[y+f]=m=it(a[s+f],m)}function Nt(a,s,f,m,v){var w;for(w=0;w<f;++w){var y=a[s+w],P=y>>8&255,N=16711935&(N=(N=16711935&y)+((P<<16)+P));m[v+w]=(4278255360&y)+N>>>0}}function We(a,s){s.jd=255&a,s.hd=a>>8&255,s.ud=a>>16&255}function mt(a,s,f,m,v,w){var y;for(y=0;y<m;++y){var P=s[f+y],N=P>>>8,I=P,Z=255&(Z=(Z=P>>>16)+((a.jd<<24>>24)*(N<<24>>24)>>>5));I=255&(I=(I+=(a.hd<<24>>24)*(N<<24>>24)>>>5)+((a.ud<<24>>24)*(Z<<24>>24)>>>5)),v[w+y]=(4278255360&P)+(Z<<16)+I}}function Ke(a,s,f,m,v){z[s]=function(w,y,P,N,I,Z,ae,F,X){for(N=ae;N<F;++N)for(ae=0;ae<X;++ae)I[Z++]=v(P[m(w[y++])])},z[a]=function(w,y,P,N,I,Z,ae){var F=8>>w.b,X=w.Ea,te=w.K[0],pe=w.w;if(8>F)for(w=(1<<w.b)-1,pe=(1<<F)-1;y<P;++y){var re,me=0;for(re=0;re<X;++re)re&w||(me=m(N[I++])),Z[ae++]=v(te[me&pe]),me>>=F}else z["VP8LMapColor"+f](N,I,te,pe,Z,ae,y,P,X)}}function gn(a,s,f,m,v){for(f=s+f;s<f;){var w=a[s++];m[v++]=w>>16&255,m[v++]=w>>8&255,m[v++]=255&w}}function Dt(a,s,f,m,v){for(f=s+f;s<f;){var w=a[s++];m[v++]=w>>16&255,m[v++]=w>>8&255,m[v++]=255&w,m[v++]=w>>24&255}}function St(a,s,f,m,v){for(f=s+f;s<f;){var w=(y=a[s++])>>16&240|y>>12&15,y=240&y|y>>28&15;m[v++]=w,m[v++]=y}}function Pt(a,s,f,m,v){for(f=s+f;s<f;){var w=(y=a[s++])>>16&248|y>>13&7,y=y>>5&224|y>>3&31;m[v++]=w,m[v++]=y}}function nn(a,s,f,m,v){for(f=s+f;s<f;){var w=a[s++];m[v++]=255&w,m[v++]=w>>8&255,m[v++]=w>>16&255}}function et(a,s,f,m,v,w){if(w==0)for(f=s+f;s<f;)Ee(m,((w=a[s++])[0]>>24|w[1]>>8&65280|w[2]<<8&16711680|w[3]<<24)>>>0),v+=32;else i(m,v,a,s,f)}function Xt(a,s){z[s][0]=z[a+"0"],z[s][1]=z[a+"1"],z[s][2]=z[a+"2"],z[s][3]=z[a+"3"],z[s][4]=z[a+"4"],z[s][5]=z[a+"5"],z[s][6]=z[a+"6"],z[s][7]=z[a+"7"],z[s][8]=z[a+"8"],z[s][9]=z[a+"9"],z[s][10]=z[a+"10"],z[s][11]=z[a+"11"],z[s][12]=z[a+"12"],z[s][13]=z[a+"13"],z[s][14]=z[a+"0"],z[s][15]=z[a+"0"]}function st(a){return a==yc||a==Cc||a==sl||a==Sc}function pt(){this.eb=[],this.size=this.A=this.fb=0}function rn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function At(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new pt,this.f.kb=new rn,this.sd=null}function ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Vt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function go(a){return alert("todo:WebPSamplerProcessPlane"),a.T}function Zn(a,s){var f=a.T,m=s.ba.f.RGBA,v=m.eb,w=m.fb+a.ka*m.A,y=Li[s.ba.S],P=a.y,N=a.O,I=a.f,Z=a.N,ae=a.ea,F=a.W,X=s.cc,te=s.dc,pe=s.Mc,re=s.Nc,me=a.ka,be=a.ka+a.T,ke=a.U,Se=ke+1>>1;for(me==0?y(P,N,null,null,I,Z,ae,F,I,Z,ae,F,v,w,null,null,ke):(y(s.ec,s.fc,P,N,X,te,pe,re,I,Z,ae,F,v,w-m.A,v,w,ke),++f);me+2<be;me+=2)X=I,te=Z,pe=ae,re=F,Z+=a.Rc,F+=a.Rc,w+=2*m.A,y(P,(N+=2*a.fa)-a.fa,P,N,X,te,pe,re,I,Z,ae,F,v,w-m.A,v,w,ke);return N+=a.fa,a.j+be<a.o?(i(s.ec,s.fc,P,N,ke),i(s.cc,s.dc,I,Z,Se),i(s.Mc,s.Nc,ae,F,Se),f--):1&be||y(P,N,null,null,I,Z,ae,F,I,Z,ae,F,v,w+m.A,null,null,ke),f}function br(a,s,f){var m=a.F,v=[a.J];if(m!=null){var w=a.U,y=s.ba.S,P=y==al||y==sl;s=s.ba.f.RGBA;var N=[0],I=a.ka;N[0]=a.T,a.Kb&&(I==0?--N[0]:(--I,v[0]-=a.width),a.j+a.ka+a.T==a.o&&(N[0]=a.o-a.j-I));var Z=s.eb;I=s.fb+I*s.A,a=Xd(m,v[0],a.width,w,N,Z,I+(P?0:3),s.A),n(f==N),a&&st(y)&&rs(Z,I,P,w,N,s.A)}return 0}function Ji(a){var s=a.ma,f=s.ba.S,m=11>f,v=f==rl||f==ol||f==al||f==wc||f==12||st(f);if(s.memory=null,s.Ib=null,s.Jb=null,s.Nd=null,!Ka(s.Oa,a,v?11:12))return 0;if(v&&st(f)&&$a(),a.da)alert("todo:use_scaling");else{if(m){if(s.Ib=go,a.Kb){if(f=a.U+1>>1,s.memory=o(a.U+2*f),s.memory==null)return 0;s.ec=s.memory,s.fc=0,s.cc=s.ec,s.dc=s.fc+a.U,s.Mc=s.cc,s.Nc=s.dc+f,s.Ib=Zn,$a()}}else alert("todo:EmitYUV");v&&(s.Jb=br,m&&Hi())}if(m&&!hu){for(a=0;256>a;++a)lh[a]=89858*(a-128)+cl>>ll,uh[a]=-22014*(a-128)+cl,dh[a]=-45773*(a-128),ch[a]=113618*(a-128)+cl>>ll;for(a=as;a<Oc;++a)s=76283*(a-16)+cl>>ll,fh[a-as]=tr(s,255),ph[a-as]=tr(s+8>>4,15);hu=1}return 1}function at(a){var s=a.ma,f=a.U,m=a.T;return n(!(1&a.ka)),0>=f||0>=m?0:(f=s.Ib(a,s),s.Jb!=null&&s.Jb(a,s,f),s.Dc+=f,1)}function xr(a){a.ma.memory=null}function wr(a,s,f,m){return Pe(a,8)!=47?0:(s[0]=Pe(a,14)+1,f[0]=Pe(a,14)+1,m[0]=Pe(a,1),Pe(a,3)!=0?0:!a.h)}function Si(a,s){if(4>a)return a+1;var f=a-2>>1;return(2+(1&a)<<f)+Pe(s,f)+1}function Pi(a,s){return 120<s?s-120:1<=(f=((f=Zp[s-1])>>4)*a+(8-(15&f)))?f:1;var f}function dn(a,s,f){var m=U(f),v=a[s+=255&m].g-8;return 0<v&&(J(f,f.u+8),m=U(f),s+=a[s].value,s+=m&(1<<v)-1),J(f,f.u+a[s].g),a[s].value}function Fn(a,s,f){return f.g+=a.g,f.value+=a.value<<s>>>0,n(8>=f.g),a.g}function zn(a,s,f){var m=a.xc;return n((s=m==0?0:a.vc[a.md*(f>>m)+(s>>m)])<a.Wb),a.Ya[s]}function _o(a,s,f,m){var v=a.ab,w=a.c*s,y=a.C;s=y+s;var P=f,N=m;for(m=a.Ta,f=a.Ua;0<v--;){var I=a.gc[v],Z=y,ae=s,F=P,X=N,te=(N=m,P=f,I.Ea);switch(n(Z<ae),n(ae<=I.nc),I.hc){case 2:_n(F,X,(ae-Z)*te,N,P);break;case 0:var pe=Z,re=ae,me=N,be=P,ke=(Ve=I).Ea;pe==0&&(Ja(F,X,null,null,1,me,be),kt(F,X+1,0,0,ke-1,me,be+1),X+=ke,be+=ke,++pe);for(var Se=1<<Ve.b,Ye=Se-1,De=Oe(ke,Ve.b),_t=Ve.K,Ve=Ve.w+(pe>>Ve.b)*De;pe<re;){var Et=_t,Mn=Ve,vt=1;for(oa(F,X,me,be-ke,1,me,be);vt<ke;){var He=(vt&~Ye)+Se;He>ke&&(He=ke),(0,es[Et[Mn++]>>8&15])(F,X+ +vt,me,be+vt-ke,He-vt,me,be+vt),vt=He}X+=ke,be+=ke,++pe&Ye||(Ve+=De)}ae!=I.nc&&i(N,P-te,N,P+(ae-Z-1)*te,te);break;case 1:for(te=F,re=X,ke=(F=I.Ea)-(be=F&~(me=(X=1<<I.b)-1)),pe=Oe(F,I.b),Se=I.K,I=I.w+(Z>>I.b)*pe;Z<ae;){for(Ye=Se,De=I,_t=new tt,Ve=re+be,Et=re+F;re<Ve;)We(Ye[De++],_t),ts(_t,te,re,X,N,P),re+=X,P+=X;re<Et&&(We(Ye[De++],_t),ts(_t,te,re,ke,N,P),re+=ke,P+=ke),++Z&me||(I+=pe)}break;case 3:if(F==N&&X==P&&0<I.b){for(re=N,F=te=P+(ae-Z)*te-(be=(ae-Z)*Oe(I.Ea,I.b)),X=N,me=P,pe=[],be=(ke=be)-1;0<=be;--be)pe[be]=X[me+be];for(be=ke-1;0<=be;--be)re[F+be]=pe[be];el(I,Z,ae,N,te,N,P)}else el(I,Z,ae,F,X,N,P)}P=m,N=f}N!=f&&i(m,f,P,N,w)}function Hr(a,s){var f=a.V,m=a.Ba+a.c*a.C,v=s-a.C;if(n(s<=a.l.o),n(16>=v),0<v){var w=a.l,y=a.Ta,P=a.Ua,N=w.width;if(_o(a,v,f,m),v=P=[P],n((f=a.C)<(m=s)),n(w.v<w.va),m>w.o&&(m=w.o),f<w.j){var I=w.j-f;f=w.j,v[0]+=I*N}if(f>=m?f=0:(v[0]+=4*w.v,w.ka=f-w.j,w.U=w.va-w.v,w.T=m-f,f=1),f){if(P=P[0],11>(f=a.ca).S){var Z=f.f.RGBA,ae=(m=f.S,v=w.U,w=w.T,I=Z.eb,Z.A),F=w;for(Z=Z.fb+a.Ma*Z.A;0<F--;){var X=y,te=P,pe=v,re=I,me=Z;switch(m){case il:ns(X,te,pe,re,me);break;case rl:Kr(X,te,pe,re,me);break;case yc:Kr(X,te,pe,re,me),rs(re,me,0,pe,1,0);break;case ru:Mo(X,te,pe,re,me);break;case ol:et(X,te,pe,re,me,1);break;case Cc:et(X,te,pe,re,me,1),rs(re,me,0,pe,1,0);break;case al:et(X,te,pe,re,me,0);break;case sl:et(X,te,pe,re,me,0),rs(re,me,1,pe,1,0);break;case wc:Xr(X,te,pe,re,me);break;case Sc:Xr(X,te,pe,re,me),Kd(re,me,pe,1,0);break;case ou:Jr(X,te,pe,re,me);break;default:n(0)}P+=N,Z+=ae}a.Ma+=w}else alert("todo:EmitRescaledRowsYUVA");n(a.Ma<=f.height)}}a.C=s,n(a.C<=a.i)}function zi(a){var s;if(0<a.ua)return 0;for(s=0;s<a.Wb;++s){var f=a.Ya[s].G,m=a.Ya[s].H;if(0<f[1][m[1]+0].g||0<f[2][m[2]+0].g||0<f[3][m[3]+0].g)return 0}return 1}function Qi(a,s,f,m,v,w){if(a.Z!=0){var y=a.qd,P=a.rd;for(n(to[a.Z]!=null);s<f;++s)to[a.Z](y,P,m,v,m,v,w),y=m,P=v,v+=w;a.qd=y,a.rd=P}}function Ui(a,s){var f=a.l.ma,m=f.Z==0||f.Z==1?a.l.j:a.C;if(m=a.C<m?m:a.C,n(s<=a.l.o),s>m){var v=a.l.width,w=f.ca,y=f.tb+v*m,P=a.V,N=a.Ba+a.c*m,I=a.gc;n(a.ab==1),n(I[0].hc==3),or(I[0],m,s,P,N,w,y),Qi(f,m,s,w,y,v)}a.C=a.Ma=s}function qi(a,s,f,m,v,w,y){var P=a.$/m,N=a.$%m,I=a.m,Z=a.s,ae=f+a.$,F=ae;v=f+m*v;var X=f+m*w,te=280+Z.ua,pe=a.Pb?P:16777216,re=0<Z.ua?Z.Wa:null,me=Z.wc,be=ae<X?zn(Z,N,P):null;n(a.C<w),n(X<=v);var ke=!1;e:for(;;){for(;ke||ae<X;){var Se=0;if(P>=pe){var Ye=ae-f;n((pe=a).Pb),pe.wd=pe.m,pe.xd=Ye,0<pe.s.ua&&Ie(pe.s.Wa,pe.s.vb),pe=P+Kp}if(N&me||(be=zn(Z,N,P)),n(be!=null),be.Qb&&(s[ae]=be.qb,ke=!0),!ke)if(ie(I),be.jc){Se=I,Ye=s;var De=ae,_t=be.pd[U(Se)&Eo-1];n(be.jc),256>_t.g?(J(Se,Se.u+_t.g),Ye[De]=_t.value,Se=0):(J(Se,Se.u+_t.g-256),n(256<=_t.value),Se=_t.value),Se==0&&(ke=!0)}else Se=dn(be.G[0],be.H[0],I);if(I.h)break;if(ke||256>Se){if(!ke)if(be.nd)s[ae]=(be.qb|Se<<8)>>>0;else{if(ie(I),ke=dn(be.G[1],be.H[1],I),ie(I),Ye=dn(be.G[2],be.H[2],I),De=dn(be.G[3],be.H[3],I),I.h)break;s[ae]=(De<<24|ke<<16|Se<<8|Ye)>>>0}if(ke=!1,++ae,++N>=m&&(N=0,++P,y!=null&&P<=w&&!(P%16)&&y(a,P),re!=null))for(;F<ae;)Se=s[F++],re.X[(506832829*Se&4294967295)>>>re.Mb]=Se}else if(280>Se){if(Se=Si(Se-256,I),Ye=dn(be.G[4],be.H[4],I),ie(I),Ye=Pi(m,Ye=Si(Ye,I)),I.h)break;if(ae-f<Ye||v-ae<Se)break e;for(De=0;De<Se;++De)s[ae+De]=s[ae+De-Ye];for(ae+=Se,N+=Se;N>=m;)N-=m,++P,y!=null&&P<=w&&!(P%16)&&y(a,P);if(n(ae<=v),N&me&&(be=zn(Z,N,P)),re!=null)for(;F<ae;)Se=s[F++],re.X[(506832829*Se&4294967295)>>>re.Mb]=Se}else{if(!(Se<te))break e;for(ke=Se-280,n(re!=null);F<ae;)Se=s[F++],re.X[(506832829*Se&4294967295)>>>re.Mb]=Se;Se=ae,n(!(ke>>>(Ye=re).Xa)),s[Se]=Ye.X[ke],ke=!0}ke||n(I.h==$(I))}if(a.Pb&&I.h&&ae<v)n(a.m.h),a.a=5,a.m=a.wd,a.$=a.xd,0<a.s.ua&&Ie(a.s.vb,a.s.Wa);else{if(I.h)break e;y?.(a,P>w?w:P),a.a=0,a.$=ae-f}return 1}return a.a=3,0}function Ai(a){n(a!=null),a.vc=null,a.yc=null,a.Ya=null;var s=a.Wa;s!=null&&(s.X=null),a.vb=null,n(a!=null)}function vo(){var a=new ct;return a==null?null:(a.a=0,a.xb=lu,Xt("Predictor","VP8LPredictors"),Xt("Predictor","VP8LPredictors_C"),Xt("PredictorAdd","VP8LPredictorsAdd"),Xt("PredictorAdd","VP8LPredictorsAdd_C"),_n=Nt,ts=mt,ns=gn,Kr=Dt,Xr=St,Jr=Pt,Mo=nn,z.VP8LMapColor32b=rr,z.VP8LMapColor8b=Qa,a)}function er(a,s,f,m,v){var w=1,y=[a],P=[s],N=m.m,I=m.s,Z=null,ae=0;e:for(;;){if(f)for(;w&&Pe(N,1);){var F=y,X=P,te=m,pe=1,re=te.m,me=te.gc[te.ab],be=Pe(re,2);if(te.Oc&1<<be)w=0;else{switch(te.Oc|=1<<be,me.hc=be,me.Ea=F[0],me.nc=X[0],me.K=[null],++te.ab,n(4>=te.ab),be){case 0:case 1:me.b=Pe(re,3)+2,pe=er(Oe(me.Ea,me.b),Oe(me.nc,me.b),0,te,me.K),me.K=me.K[0];break;case 3:var ke,Se=Pe(re,8)+1,Ye=16<Se?0:4<Se?1:2<Se?2:3;if(F[0]=Oe(me.Ea,Ye),me.b=Ye,ke=pe=er(Se,1,0,te,me.K)){var De,_t=Se,Ve=me,Et=1<<(8>>Ve.b),Mn=o(Et);if(Mn==null)ke=0;else{var vt=Ve.K[0],He=Ve.w;for(Mn[0]=Ve.K[0][0],De=1;De<1*_t;++De)Mn[De]=it(vt[He+De],Mn[De-1]);for(;De<4*Et;++De)Mn[De]=0;Ve.K[0]=null,Ve.K[0]=Mn,ke=1}}pe=ke;break;case 2:break;default:n(0)}w=pe}}if(y=y[0],P=P[0],w&&Pe(N,1)&&!(w=1<=(ae=Pe(N,4))&&11>=ae)){m.a=3;break e}var Le;if(Le=w)t:{var bn,ht,It,en=m,Vn=y,ti=P,un=ae,Yn=f,ni=en.m,Ln=en.s,Rt=[null],Gt=1,fn=0,Wt=Yp[un];n:for(;;){if(Yn&&Pe(ni,1)){var Hn=Pe(ni,3)+2,Wi=Oe(Vn,Hn),xn=Oe(ti,Hn),ai=Wi*xn;if(!er(Wi,xn,0,en,Rt))break n;for(Rt=Rt[0],Ln.xc=Hn,bn=0;bn<ai;++bn){var Yt=Rt[bn]>>8&65535;Rt[bn]=Yt,Yt>=Gt&&(Gt=Yt+1)}}if(ni.h)break n;for(ht=0;5>ht;++ht){var In=au[ht];!ht&&0<un&&(In+=1<<un),fn<In&&(fn=In)}var hi=c(Gt*Wt,W),ii=Gt,mi=c(ii,le);if(mi==null)var gi=null;else n(65536>=ii),gi=mi;var si=o(fn);if(gi==null||si==null||hi==null){en.a=1;break n}var _i=hi;for(bn=It=0;bn<Gt;++bn){var Qt=gi[bn],vi=Qt.G,$i=Qt.H,Io=0,Tr=1,Gn=0;for(ht=0;5>ht;++ht){In=au[ht],vi[ht]=_i,$i[ht]=It,!ht&&0<un&&(In+=1<<un);r:{var ul,Nc=In,fl=en,ss=si,gh=_i,_h=It,kc=0,no=fl.m,vh=Pe(no,1);if(r(ss,0,0,Nc),vh){var bh=Pe(no,1)+1,xh=Pe(no,1),_u=Pe(no,xh==0?1:8);ss[_u]=1,bh==2&&(ss[_u=Pe(no,8)]=1);var pl=1}else{var vu=o(19),bu=Pe(no,4)+4;if(19<bu){fl.a=3;var hl=0;break r}for(ul=0;ul<bu;++ul)vu[$p[ul]]=Pe(no,3);var Ec=void 0,ls=void 0,xu=fl,wh=vu,ml=Nc,wu=ss,Mc=0,io=xu.m,yu=8,Cu=c(128,W);i:for(;T(Cu,0,7,wh,19);){if(Pe(io,1)){var yh=2+2*Pe(io,3);if((Ec=2+Pe(io,yh))>ml)break i}else Ec=ml;for(ls=0;ls<ml&&Ec--;){ie(io);var Su=Cu[0+(127&U(io))];J(io,io.u+Su.g);var sa=Su.value;if(16>sa)wu[ls++]=sa,sa!=0&&(yu=sa);else{var Ch=sa==16,Pu=sa-16,Sh=Gp[Pu],Au=Pe(io,Hp[Pu])+Sh;if(ls+Au>ml)break i;for(var Ph=Ch?yu:0;0<Au--;)wu[ls++]=Ph}}Mc=1;break i}Mc||(xu.a=3),pl=Mc}(pl=pl&&!no.h)&&(kc=T(gh,_h,8,ss,Nc)),pl&&kc!=0?hl=kc:(fl.a=3,hl=0)}if(hl==0)break n;if(Tr&&Wp[ht]==1&&(Tr=_i[It].g==0),Io+=_i[It].g,It+=hl,3>=ht){var cs,Lc=si[0];for(cs=1;cs<In;++cs)si[cs]>Lc&&(Lc=si[cs]);Gn+=Lc}}if(Qt.nd=Tr,Qt.Qb=0,Tr&&(Qt.qb=(vi[3][$i[3]+0].value<<24|vi[1][$i[1]+0].value<<16|vi[2][$i[2]+0].value)>>>0,Io==0&&256>vi[0][$i[0]+0].value&&(Qt.Qb=1,Qt.qb+=vi[0][$i[0]+0].value<<8)),Qt.jc=!Qt.Qb&&6>Gn,Qt.jc){var gl,Dr=Qt;for(gl=0;gl<Eo;++gl){var ro=gl,oo=Dr.pd[ro],_l=Dr.G[0][Dr.H[0]+ro];256<=_l.value?(oo.g=_l.g+256,oo.value=_l.value):(oo.g=0,oo.value=0,ro>>=Fn(_l,8,oo),ro>>=Fn(Dr.G[1][Dr.H[1]+ro],16,oo),ro>>=Fn(Dr.G[2][Dr.H[2]+ro],0,oo),Fn(Dr.G[3][Dr.H[3]+ro],24,oo))}}}Ln.vc=Rt,Ln.Wb=Gt,Ln.Ya=gi,Ln.yc=hi,Le=1;break t}Le=0}if(!(w=Le)){m.a=3;break e}if(0<ae){if(I.ua=1<<ae,!E(I.Wa,ae)){m.a=1,w=0;break e}}else I.ua=0;var Ic=m,Ou=y,Ah=P,Fc=Ic.s,Tc=Fc.xc;if(Ic.c=Ou,Ic.i=Ah,Fc.md=Oe(Ou,Tc),Fc.wc=Tc==0?-1:(1<<Tc)-1,f){m.xb=ih;break e}if((Z=o(y*P))==null){m.a=1,w=0;break e}w=(w=qi(m,Z,0,y,P,P,null))&&!N.h;break e}return w?(v!=null?v[0]=Z:(n(Z==null),n(f)),m.$=0,f||Ai(I)):Ai(I),w}function bo(a,s){var f=a.c*a.i,m=f+s+16*s;return n(a.c<=s),a.V=o(m),a.V==null?(a.Ta=null,a.Ua=0,a.a=1,0):(a.Ta=a.V,a.Ua=a.Ba+f+s,1)}function Yo(a,s){var f=a.C,m=s-f,v=a.V,w=a.Ba+a.c*f;for(n(s<=a.l.o);0<m;){var y=16<m?16:m,P=a.l.ma,N=a.l.width,I=N*y,Z=P.ca,ae=P.tb+N*f,F=a.Ta,X=a.Ua;_o(a,y,v,w),Jd(F,X,Z,ae,I),Qi(P,f,f+y,Z,ae,N),m-=y,v+=y*a.c,f+=y}n(f==s),a.C=a.Ma=s}function Ko(){this.ub=this.yd=this.td=this.Rb=0}function Xo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function rc(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Da(){this.Yb=function(){var a=[];return function s(f,m,v){for(var w=v[m],y=0;y<w&&(f.push(v.length>m+1?[]:0),!(v.length<m+1));y++)s(f[y],m+1,v)}(a,0,[3,11]),a}()}function Ds(){this.jb=o(3),this.Wc=l([4,8],Da),this.Xc=l([4,17],Da)}function js(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Oi(){this.ld=this.La=this.dd=this.tc=0}function ja(){this.Na=this.la=0}function Rs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ra(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Bs(){this.uc=this.M=this.Nb=0,this.wa=Array(new Oi),this.Y=0,this.ya=Array(new Ra),this.aa=0,this.l=new Jo}function zs(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Us(){this.cb=this.a=0,this.sc="",this.m=new C,this.Od=new Ko,this.Kc=new Xo,this.ed=new js,this.Qa=new rc,this.Ic=this.$c=this.Aa=0,this.D=new Bs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,C),this.ia=0,this.pb=c(4,Rs),this.Pa=new Ds,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new zs),this.Hd=0,this.rb=Array(new ja),this.sb=0,this.wa=Array(new Oi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ra),this.L=this.aa=0,this.gd=l([4,2],Oi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function tr(a,s){return 0>a?0:a>s?s:a}function Jo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function oc(){var a=new Us;return a!=null&&(a.a=0,a.sc="OK",a.cb=0,a.Xb=0,os||(os=Qo)),a}function Sn(a,s,f){return a.a==0&&(a.a=s,a.sc=f,a.cb=0),0}function qs(a,s,f){return 3<=f&&a[s+0]==157&&a[s+1]==1&&a[s+2]==42}function nr(a,s){if(a==null)return 0;if(a.a=0,a.sc="OK",s==null)return Sn(a,2,"null VP8Io passed to VP8GetHeaders()");var f=s.data,m=s.w,v=s.ha;if(4>v)return Sn(a,7,"Truncated header.");var w=f[m+0]|f[m+1]<<8|f[m+2]<<16,y=a.Od;if(y.Rb=!(1&w),y.td=w>>1&7,y.yd=w>>4&1,y.ub=w>>5,3<y.td)return Sn(a,3,"Incorrect keyframe parameters.");if(!y.yd)return Sn(a,4,"Frame not displayable.");m+=3,v-=3;var P=a.Kc;if(y.Rb){if(7>v)return Sn(a,7,"cannot parse picture header");if(!qs(f,m,v))return Sn(a,3,"Bad code word");P.c=16383&(f[m+4]<<8|f[m+3]),P.Td=f[m+4]>>6,P.i=16383&(f[m+6]<<8|f[m+5]),P.Ud=f[m+6]>>6,m+=7,v-=7,a.za=P.c+15>>4,a.Ub=P.i+15>>4,s.width=P.c,s.height=P.i,s.Da=0,s.j=0,s.v=0,s.va=s.width,s.o=s.height,s.da=0,s.ib=s.width,s.hb=s.height,s.U=s.width,s.T=s.height,r((w=a.Pa).jb,0,255,w.jb.length),n((w=a.Qa)!=null),w.Cb=0,w.Bb=0,w.Fb=1,r(w.Zb,0,0,w.Zb.length),r(w.Lb,0,0,w.Lb)}if(y.ub>v)return Sn(a,7,"bad partition length");fe(w=a.m,f,m,y.ub),m+=y.ub,v-=y.ub,y.Rb&&(P.Ld=ue(w),P.Kd=ue(w)),P=a.Qa;var N,I=a.Pa;if(n(w!=null),n(P!=null),P.Cb=ue(w),P.Cb){if(P.Bb=ue(w),ue(w)){for(P.Fb=ue(w),N=0;4>N;++N)P.Zb[N]=ue(w)?se(w,7):0;for(N=0;4>N;++N)P.Lb[N]=ue(w)?se(w,6):0}if(P.Bb)for(N=0;3>N;++N)I.jb[N]=ue(w)?he(w,8):255}else P.Bb=0;if(w.Ka)return Sn(a,3,"cannot parse segment header");if((P=a.ed).zd=ue(w),P.Tb=he(w,6),P.wb=he(w,3),P.Pc=ue(w),P.Pc&&ue(w)){for(I=0;4>I;++I)ue(w)&&(P.vd[I]=se(w,6));for(I=0;4>I;++I)ue(w)&&(P.od[I]=se(w,6))}if(a.L=P.Tb==0?0:P.zd?1:2,w.Ka)return Sn(a,3,"cannot parse filter header");var Z=v;if(v=N=m,m=N+Z,P=Z,a.Xb=(1<<he(a.m,2))-1,Z<3*(I=a.Xb))f=7;else{for(N+=3*I,P-=3*I,Z=0;Z<I;++Z){var ae=f[v+0]|f[v+1]<<8|f[v+2]<<16;ae>P&&(ae=P),fe(a.Jc[+Z],f,N,ae),N+=ae,P-=ae,v+=3}fe(a.Jc[+I],f,N,P),f=N<m?0:5}if(f!=0)return Sn(a,f,"cannot parse partitions");for(f=he(N=a.m,7),v=ue(N)?se(N,4):0,m=ue(N)?se(N,4):0,P=ue(N)?se(N,4):0,I=ue(N)?se(N,4):0,N=ue(N)?se(N,4):0,Z=a.Qa,ae=0;4>ae;++ae){if(Z.Cb){var F=Z.Zb[ae];Z.Fb||(F+=f)}else{if(0<ae){a.pb[ae]=a.pb[0];continue}F=f}var X=a.pb[ae];X.Sc[0]=Pc[tr(F+v,127)],X.Sc[1]=Ac[tr(F+0,127)],X.Eb[0]=2*Pc[tr(F+m,127)],X.Eb[1]=101581*Ac[tr(F+P,127)]>>16,8>X.Eb[1]&&(X.Eb[1]=8),X.Qc[0]=Pc[tr(F+I,117)],X.Qc[1]=Ac[tr(F+N,127)],X.lc=F+N}if(!y.Rb)return Sn(a,4,"Not a key frame.");for(ue(w),y=a.Pa,f=0;4>f;++f){for(v=0;8>v;++v)for(m=0;3>m;++m)for(P=0;11>P;++P)I=xe(w,th[f][v][m][P])?he(w,8):Qp[f][v][m][P],y.Wc[f][v].Yb[m][P]=I;for(v=0;17>v;++v)y.Xc[f][v]=y.Wc[f][nh[v]]}return a.kc=ue(w),a.kc&&(a.Bd=he(w,8)),a.cb=1}function Qo(a,s,f,m,v,w,y){var P=s[v].Yb[f];for(f=0;16>v;++v){if(!xe(a,P[f+0]))return v;for(;!xe(a,P[f+1]);)if(P=s[++v].Yb[0],f=0,v==16)return 16;var N=s[v+1].Yb;if(xe(a,P[f+2])){var I=a,Z=0;if(xe(I,(F=P)[(ae=f)+3]))if(xe(I,F[ae+6])){for(P=0,ae=2*(Z=xe(I,F[ae+8]))+(F=xe(I,F[ae+9+Z])),Z=0,F=Xp[ae];F[P];++P)Z+=Z+xe(I,F[P]);Z+=3+(8<<ae)}else xe(I,F[ae+7])?(Z=7+2*xe(I,165),Z+=xe(I,145)):Z=5+xe(I,159);else Z=xe(I,F[ae+4])?3+xe(I,F[ae+5]):2;P=N[2]}else Z=1,P=N[1];N=y+Jp[v],0>(I=a).b&&de(I);var ae,F=I.b,X=(ae=I.Ca>>1)-(I.I>>F)>>31;--I.b,I.Ca+=X,I.Ca|=1,I.I-=(ae+1&X)<<F,w[N]=((Z^X)-X)*m[(0<v)+0]}return 16}function Vs(a){var s=a.rb[a.sb-1];s.la=0,s.Na=0,r(a.zc,0,0,a.zc.length),a.ja=0}function Ni(a,s,f,m,v){v=a[s+f+32*m]+(v>>3),a[s+f+32*m]=-256&v?0>v?0:255:v}function Nn(a,s,f,m,v,w){Ni(a,s,0,f,m+v),Ni(a,s,1,f,m+w),Ni(a,s,2,f,m-w),Ni(a,s,3,f,m-v)}function yr(a){return(20091*a>>16)+a}function Hs(a,s,f,m){var v,w=0,y=o(16);for(v=0;4>v;++v){var P=a[s+0]+a[s+8],N=a[s+0]-a[s+8],I=(35468*a[s+4]>>16)-yr(a[s+12]),Z=yr(a[s+4])+(35468*a[s+12]>>16);y[w+0]=P+Z,y[w+1]=N+I,y[w+2]=N-I,y[w+3]=P-Z,w+=4,s++}for(v=w=0;4>v;++v)P=(a=y[w+0]+4)+y[w+8],N=a-y[w+8],I=(35468*y[w+4]>>16)-yr(y[w+12]),Ni(f,m,0,0,P+(Z=yr(y[w+4])+(35468*y[w+12]>>16))),Ni(f,m,1,0,N+I),Ni(f,m,2,0,N-I),Ni(f,m,3,0,P-Z),w++,m+=32}function ac(a,s,f,m){var v=a[s+0]+4,w=35468*a[s+4]>>16,y=yr(a[s+4]),P=35468*a[s+1]>>16;Nn(f,m,0,v+y,a=yr(a[s+1]),P),Nn(f,m,1,v+w,a,P),Nn(f,m,2,v-w,a,P),Nn(f,m,3,v-y,a,P)}function sc(a,s,f,m,v){Hs(a,s,f,m),v&&Hs(a,s+16,f,m+4)}function ir(a,s,f,m){Lo(a,s+0,f,m,1),Lo(a,s+32,f,m+128,1)}function Gs(a,s,f,m){var v;for(a=a[s+0]+4,v=0;4>v;++v)for(s=0;4>s;++s)Ni(f,m,s,v,a)}function Ws(a,s,f,m){a[s+0]&&Ht(a,s+0,f,m),a[s+16]&&Ht(a,s+16,f,m+4),a[s+32]&&Ht(a,s+32,f,m+128),a[s+48]&&Ht(a,s+48,f,m+128+4)}function ea(a,s,f,m){var v,w=o(16);for(v=0;4>v;++v){var y=a[s+0+v]+a[s+12+v],P=a[s+4+v]+a[s+8+v],N=a[s+4+v]-a[s+8+v],I=a[s+0+v]-a[s+12+v];w[0+v]=y+P,w[8+v]=y-P,w[4+v]=I+N,w[12+v]=I-N}for(v=0;4>v;++v)y=(a=w[0+4*v]+3)+w[3+4*v],P=w[1+4*v]+w[2+4*v],N=w[1+4*v]-w[2+4*v],I=a-w[3+4*v],f[m+0]=y+P>>3,f[m+16]=I+N>>3,f[m+32]=y-P>>3,f[m+48]=I-N>>3,m+=64}function xo(a,s,f){var m,v=s-32,w=pi,y=255-a[v-1];for(m=0;m<f;++m){var P,N=w,I=y+a[s-1];for(P=0;P<f;++P)a[s+P]=N[I+a[v+P]];s+=32}}function lc(a,s){xo(a,s,4)}function cc(a,s){xo(a,s,8)}function dc(a,s){xo(a,s,16)}function Ba(a,s){var f;for(f=0;16>f;++f)i(a,s+32*f,a,s-32,16)}function $s(a,s){var f;for(f=16;0<f;--f)r(a,s,a[s-1],16),s+=32}function Vi(a,s,f){var m;for(m=0;16>m;++m)r(s,f+32*m,a,16)}function uc(a,s){var f,m=16;for(f=0;16>f;++f)m+=a[s-1+32*f]+a[s+f-32];Vi(m>>5,a,s)}function wo(a,s){var f,m=8;for(f=0;16>f;++f)m+=a[s-1+32*f];Vi(m>>4,a,s)}function za(a,s){var f,m=8;for(f=0;16>f;++f)m+=a[s+f-32];Vi(m>>4,a,s)}function fc(a,s){Vi(128,a,s)}function dt(a,s,f){return a+2*s+f+2>>2}function pc(a,s){var f,m=s-32;for(m=new Uint8Array([dt(a[m-1],a[m+0],a[m+1]),dt(a[m+0],a[m+1],a[m+2]),dt(a[m+1],a[m+2],a[m+3]),dt(a[m+2],a[m+3],a[m+4])]),f=0;4>f;++f)i(a,s+32*f,m,0,m.length)}function hc(a,s){var f=a[s-1],m=a[s-1+32],v=a[s-1+64],w=a[s-1+96];Ee(a,s+0,16843009*dt(a[s-1-32],f,m)),Ee(a,s+32,16843009*dt(f,m,v)),Ee(a,s+64,16843009*dt(m,v,w)),Ee(a,s+96,16843009*dt(v,w,w))}function mc(a,s){var f,m=4;for(f=0;4>f;++f)m+=a[s+f-32]+a[s-1+32*f];for(m>>=3,f=0;4>f;++f)r(a,s+32*f,m,4)}function Cr(a,s){var f=a[s-1+0],m=a[s-1+32],v=a[s-1+64],w=a[s-1-32],y=a[s+0-32],P=a[s+1-32],N=a[s+2-32],I=a[s+3-32];a[s+0+96]=dt(m,v,a[s-1+96]),a[s+1+96]=a[s+0+64]=dt(f,m,v),a[s+2+96]=a[s+1+64]=a[s+0+32]=dt(w,f,m),a[s+3+96]=a[s+2+64]=a[s+1+32]=a[s+0+0]=dt(y,w,f),a[s+3+64]=a[s+2+32]=a[s+1+0]=dt(P,y,w),a[s+3+32]=a[s+2+0]=dt(N,P,y),a[s+3+0]=dt(I,N,P)}function Sr(a,s){var f=a[s+1-32],m=a[s+2-32],v=a[s+3-32],w=a[s+4-32],y=a[s+5-32],P=a[s+6-32],N=a[s+7-32];a[s+0+0]=dt(a[s+0-32],f,m),a[s+1+0]=a[s+0+32]=dt(f,m,v),a[s+2+0]=a[s+1+32]=a[s+0+64]=dt(m,v,w),a[s+3+0]=a[s+2+32]=a[s+1+64]=a[s+0+96]=dt(v,w,y),a[s+3+32]=a[s+2+64]=a[s+1+96]=dt(w,y,P),a[s+3+64]=a[s+2+96]=dt(y,P,N),a[s+3+96]=dt(P,N,N)}function gc(a,s){var f=a[s-1+0],m=a[s-1+32],v=a[s-1+64],w=a[s-1-32],y=a[s+0-32],P=a[s+1-32],N=a[s+2-32],I=a[s+3-32];a[s+0+0]=a[s+1+64]=w+y+1>>1,a[s+1+0]=a[s+2+64]=y+P+1>>1,a[s+2+0]=a[s+3+64]=P+N+1>>1,a[s+3+0]=N+I+1>>1,a[s+0+96]=dt(v,m,f),a[s+0+64]=dt(m,f,w),a[s+0+32]=a[s+1+96]=dt(f,w,y),a[s+1+32]=a[s+2+96]=dt(w,y,P),a[s+2+32]=a[s+3+96]=dt(y,P,N),a[s+3+32]=dt(P,N,I)}function _c(a,s){var f=a[s+0-32],m=a[s+1-32],v=a[s+2-32],w=a[s+3-32],y=a[s+4-32],P=a[s+5-32],N=a[s+6-32],I=a[s+7-32];a[s+0+0]=f+m+1>>1,a[s+1+0]=a[s+0+64]=m+v+1>>1,a[s+2+0]=a[s+1+64]=v+w+1>>1,a[s+3+0]=a[s+2+64]=w+y+1>>1,a[s+0+32]=dt(f,m,v),a[s+1+32]=a[s+0+96]=dt(m,v,w),a[s+2+32]=a[s+1+96]=dt(v,w,y),a[s+3+32]=a[s+2+96]=dt(w,y,P),a[s+3+64]=dt(y,P,N),a[s+3+96]=dt(P,N,I)}function ta(a,s){var f=a[s-1+0],m=a[s-1+32],v=a[s-1+64],w=a[s-1+96];a[s+0+0]=f+m+1>>1,a[s+2+0]=a[s+0+32]=m+v+1>>1,a[s+2+32]=a[s+0+64]=v+w+1>>1,a[s+1+0]=dt(f,m,v),a[s+3+0]=a[s+1+32]=dt(m,v,w),a[s+3+32]=a[s+1+64]=dt(v,w,w),a[s+3+64]=a[s+2+64]=a[s+0+96]=a[s+1+96]=a[s+2+96]=a[s+3+96]=w}function Ua(a,s){var f=a[s-1+0],m=a[s-1+32],v=a[s-1+64],w=a[s-1+96],y=a[s-1-32],P=a[s+0-32],N=a[s+1-32],I=a[s+2-32];a[s+0+0]=a[s+2+32]=f+y+1>>1,a[s+0+32]=a[s+2+64]=m+f+1>>1,a[s+0+64]=a[s+2+96]=v+m+1>>1,a[s+0+96]=w+v+1>>1,a[s+3+0]=dt(P,N,I),a[s+2+0]=dt(y,P,N),a[s+1+0]=a[s+3+32]=dt(f,y,P),a[s+1+32]=a[s+3+64]=dt(m,f,y),a[s+1+64]=a[s+3+96]=dt(v,m,f),a[s+1+96]=dt(w,v,m)}function yo(a,s){var f;for(f=0;8>f;++f)i(a,s+32*f,a,s-32,8)}function vc(a,s){var f;for(f=0;8>f;++f)r(a,s,a[s-1],8),s+=32}function Pr(a,s,f){var m;for(m=0;8>m;++m)r(s,f+32*m,a,8)}function bc(a,s){var f,m=8;for(f=0;8>f;++f)m+=a[s+f-32]+a[s-1+32*f];Pr(m>>4,a,s)}function qa(a,s){var f,m=4;for(f=0;8>f;++f)m+=a[s+f-32];Pr(m>>3,a,s)}function Va(a,s){var f,m=4;for(f=0;8>f;++f)m+=a[s-1+32*f];Pr(m>>3,a,s)}function Zs(a,s){Pr(128,a,s)}function Ar(a,s,f){var m=a[s-f],v=a[s+0],w=3*(v-m)+xc[1020+a[s-2*f]-a[s+f]],y=nl[112+(w+4>>3)];a[s-f]=pi[255+m+nl[112+(w+3>>3)]],a[s+0]=pi[255+v-y]}function Ha(a,s,f,m){var v=a[s+0],w=a[s+f];return Mi[255+a[s-2*f]-a[s-f]]>m||Mi[255+w-v]>m}function na(a,s,f,m){return 4*Mi[255+a[s-f]-a[s+0]]+Mi[255+a[s-2*f]-a[s+f]]<=m}function Ga(a,s,f,m,v){var w=a[s-3*f],y=a[s-2*f],P=a[s-f],N=a[s+0],I=a[s+f],Z=a[s+2*f],ae=a[s+3*f];return 4*Mi[255+P-N]+Mi[255+y-I]>m?0:Mi[255+a[s-4*f]-w]<=v&&Mi[255+w-y]<=v&&Mi[255+y-P]<=v&&Mi[255+ae-Z]<=v&&Mi[255+Z-I]<=v&&Mi[255+I-N]<=v}function Co(a,s,f,m){var v=2*m+1;for(m=0;16>m;++m)na(a,s+m,f,v)&&Ar(a,s+m,f)}function Wa(a,s,f,m){var v=2*m+1;for(m=0;16>m;++m)na(a,s+m*f,1,v)&&Ar(a,s+m*f,1)}function Ys(a,s,f,m){var v;for(v=3;0<v;--v)Co(a,s+=4*f,f,m)}function Ks(a,s,f,m){var v;for(v=3;0<v;--v)Wa(a,s+=4,f,m)}function Or(a,s,f,m,v,w,y,P){for(w=2*w+1;0<v--;){if(Ga(a,s,f,w,y))if(Ha(a,s,f,P))Ar(a,s,f);else{var N=a,I=s,Z=f,ae=N[I-2*Z],F=N[I-Z],X=N[I+0],te=N[I+Z],pe=N[I+2*Z],re=27*(be=xc[1020+3*(X-F)+xc[1020+ae-te]])+63>>7,me=18*be+63>>7,be=9*be+63>>7;N[I-3*Z]=pi[255+N[I-3*Z]+be],N[I-2*Z]=pi[255+ae+me],N[I-Z]=pi[255+F+re],N[I+0]=pi[255+X-re],N[I+Z]=pi[255+te-me],N[I+2*Z]=pi[255+pe-be]}s+=m}}function Nr(a,s,f,m,v,w,y,P){for(w=2*w+1;0<v--;){if(Ga(a,s,f,w,y))if(Ha(a,s,f,P))Ar(a,s,f);else{var N=a,I=s,Z=f,ae=N[I-Z],F=N[I+0],X=N[I+Z],te=nl[112+(4+(pe=3*(F-ae))>>3)],pe=nl[112+(pe+3>>3)],re=te+1>>1;N[I-2*Z]=pi[255+N[I-2*Z]+re],N[I-Z]=pi[255+ae+pe],N[I+0]=pi[255+F-te],N[I+Z]=pi[255+X-re]}s+=m}}function Xs(a,s,f,m,v,w){Or(a,s,f,1,16,m,v,w)}function So(a,s,f,m,v,w){Or(a,s,1,f,16,m,v,w)}function Js(a,s,f,m,v,w){var y;for(y=3;0<y;--y)Nr(a,s+=4*f,f,1,16,m,v,w)}function d(a,s,f,m,v,w){var y;for(y=3;0<y;--y)Nr(a,s+=4,1,f,16,m,v,w)}function _(a,s,f,m,v,w,y,P){Or(a,s,v,1,8,w,y,P),Or(f,m,v,1,8,w,y,P)}function D(a,s,f,m,v,w,y,P){Or(a,s,1,v,8,w,y,P),Or(f,m,1,v,8,w,y,P)}function H(a,s,f,m,v,w,y,P){Nr(a,s+4*v,v,1,8,w,y,P),Nr(f,m+4*v,v,1,8,w,y,P)}function ee(a,s,f,m,v,w,y,P){Nr(a,s+4,1,v,8,w,y,P),Nr(f,m+4,1,v,8,w,y,P)}function ve(){this.ba=new At,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Vt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ce(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ue(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function $e(){this.ua=0,this.Wa=new xt,this.vb=new xt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new le,this.yc=new W}function ct(){this.xb=this.a=0,this.l=new Jo,this.ca=new At,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new $e,this.ab=0,this.gc=c(4,Ue),this.Oc=0}function gt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Jo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function jt(a,s,f,m,v,w,y){for(a=a==null?0:a[s+0],s=0;s<y;++s)v[w+s]=a+f[m+s]&255,a=v[w+s]}function cn(a,s,f,m,v,w,y){var P;if(a==null)jt(null,null,f,m,v,w,y);else for(P=0;P<y;++P)v[w+P]=a[s+P]+f[m+P]&255}function Pn(a,s,f,m,v,w,y){if(a==null)jt(null,null,f,m,v,w,y);else{var P,N=a[s+0],I=N,Z=N;for(P=0;P<y;++P)I=Z+(N=a[s+P])-I,Z=f[m+P]+(-256&I?0>I?0:255:I)&255,I=N,v[w+P]=Z}}function Jt(a,s,f,m){var v=s.width,w=s.o;if(n(a!=null&&s!=null),0>f||0>=m||f+m>w)return null;if(!a.Cc){if(a.ga==null){var y;if(a.ga=new gt,(y=a.ga==null)||(y=s.width*s.o,n(a.Gb.length==0),a.Gb=o(y),a.Uc=0,a.Gb==null?y=0:(a.mb=a.Gb,a.nb=a.Uc,a.rc=null,y=1),y=!y),!y){y=a.ga;var P=a.Fa,N=a.P,I=a.qc,Z=a.mb,ae=a.nb,F=N+1,X=I-1,te=y.l;if(n(P!=null&&Z!=null&&s!=null),to[0]=null,to[1]=jt,to[2]=cn,to[3]=Pn,y.ca=Z,y.tb=ae,y.c=s.width,y.i=s.height,n(0<y.c&&0<y.i),1>=I)s=0;else if(y.$a=3&P[N+0],y.Z=P[N+0]>>2&3,y.Lc=P[N+0]>>4&3,N=P[N+0]>>6&3,0>y.$a||1<y.$a||4<=y.Z||1<y.Lc||N)s=0;else if(te.put=at,te.ac=Ji,te.bc=xr,te.ma=y,te.width=s.width,te.height=s.height,te.Da=s.Da,te.v=s.v,te.va=s.va,te.j=s.j,te.o=s.o,y.$a)e:{n(y.$a==1),s=vo();t:for(;;){if(s==null){s=0;break e}if(n(y!=null),y.mc=s,s.c=y.c,s.i=y.i,s.l=y.l,s.l.ma=y,s.l.width=y.c,s.l.height=y.i,s.a=0,ge(s.m,P,F,X),!er(y.c,y.i,1,s,null)||(s.ab==1&&s.gc[0].hc==3&&zi(s.s)?(y.ic=1,P=s.c*s.i,s.Ta=null,s.Ua=0,s.V=o(P),s.Ba=0,s.V==null?(s.a=1,s=0):s=1):(y.ic=0,s=bo(s,y.c)),!s))break t;s=1;break e}y.mc=null,s=0}else s=X>=y.c*y.i;y=!s}if(y)return null;a.ga.Lc!=1?a.Ga=0:m=w-f}n(a.ga!=null),n(f+m<=w);e:{if(s=(P=a.ga).c,w=P.l.o,P.$a==0){if(F=a.rc,X=a.Vc,te=a.Fa,N=a.P+1+f*s,I=a.mb,Z=a.nb+f*s,n(N<=a.P+a.qc),P.Z!=0)for(n(to[P.Z]!=null),y=0;y<m;++y)to[P.Z](F,X,te,N,I,Z,s),F=I,X=Z,Z+=s,N+=s;else for(y=0;y<m;++y)i(I,Z,te,N,s),F=I,X=Z,Z+=s,N+=s;a.rc=F,a.Vc=X}else{if(n(P.mc!=null),s=f+m,n((y=P.mc)!=null),n(s<=y.i),y.C>=s)s=1;else if(P.ic||Hi(),P.ic){P=y.V,F=y.Ba,X=y.c;var pe=y.i,re=(te=1,N=y.$/X,I=y.$%X,Z=y.m,ae=y.s,y.$),me=X*pe,be=X*s,ke=ae.wc,Se=re<be?zn(ae,I,N):null;n(re<=me),n(s<=pe),n(zi(ae));t:for(;;){for(;!Z.h&&re<be;){if(I&ke||(Se=zn(ae,I,N)),n(Se!=null),ie(Z),256>(pe=dn(Se.G[0],Se.H[0],Z)))P[F+re]=pe,++re,++I>=X&&(I=0,++N<=s&&!(N%16)&&Ui(y,N));else{if(!(280>pe)){te=0;break t}pe=Si(pe-256,Z);var Ye,De=dn(Se.G[4],Se.H[4],Z);if(ie(Z),!(re>=(De=Pi(X,De=Si(De,Z)))&&me-re>=pe)){te=0;break t}for(Ye=0;Ye<pe;++Ye)P[F+re+Ye]=P[F+re+Ye-De];for(re+=pe,I+=pe;I>=X;)I-=X,++N<=s&&!(N%16)&&Ui(y,N);re<be&&I&ke&&(Se=zn(ae,I,N))}n(Z.h==$(Z))}Ui(y,N>s?s:N);break t}!te||Z.h&&re<me?(te=0,y.a=Z.h?5:3):y.$=re,s=te}else s=qi(y,y.V,y.Ba,y.c,y.i,s,Yo);if(!s){m=0;break e}}f+m>=w&&(a.Cc=1),m=1}if(!m)return null;if(a.Cc&&((m=a.ga)!=null&&(m.mc=null),a.ga=null,0<a.Ga))return alert("todo:WebPDequantizeLevels"),null}return a.nb+f*v}function kn(a,s,f,m,v,w){for(;0<v--;){var y,P=a,N=s+(f?1:0),I=a,Z=s+(f?0:3);for(y=0;y<m;++y){var ae=I[Z+4*y];ae!=255&&(ae*=32897,P[N+4*y+0]=P[N+4*y+0]*ae>>23,P[N+4*y+1]=P[N+4*y+1]*ae>>23,P[N+4*y+2]=P[N+4*y+2]*ae>>23)}s+=w}}function An(a,s,f,m,v){for(;0<m--;){var w;for(w=0;w<f;++w){var y=a[s+2*w+0],P=15&(I=a[s+2*w+1]),N=4369*P,I=(240&I|I>>4)*N>>16;a[s+2*w+0]=(240&y|y>>4)*N>>16&240|(15&y|y<<4)*N>>16>>4&15,a[s+2*w+1]=240&I|P}s+=v}}function Un(a,s,f,m,v,w,y,P){var N,I,Z=255;for(I=0;I<v;++I){for(N=0;N<m;++N){var ae=a[s+N];w[y+4*N]=ae,Z&=ae}s+=f,y+=P}return Z!=255}function kr(a,s,f,m,v){var w;for(w=0;w<v;++w)f[m+w]=a[s+w]>>8}function Hi(){rs=kn,Kd=An,Xd=Un,Jd=kr}function Er(a,s,f){z[a]=function(m,v,w,y,P,N,I,Z,ae,F,X,te,pe,re,me,be,ke){var Se,Ye=ke-1>>1,De=P[N+0]|I[Z+0]<<16,_t=ae[F+0]|X[te+0]<<16;n(m!=null);var Ve=3*De+_t+131074>>2;for(s(m[v+0],255&Ve,Ve>>16,pe,re),w!=null&&(Ve=3*_t+De+131074>>2,s(w[y+0],255&Ve,Ve>>16,me,be)),Se=1;Se<=Ye;++Se){var Et=P[N+Se]|I[Z+Se]<<16,Mn=ae[F+Se]|X[te+Se]<<16,vt=De+Et+_t+Mn+524296,He=vt+2*(Et+_t)>>3;Ve=He+De>>1,De=(vt=vt+2*(De+Mn)>>3)+Et>>1,s(m[v+2*Se-1],255&Ve,Ve>>16,pe,re+(2*Se-1)*f),s(m[v+2*Se-0],255&De,De>>16,pe,re+(2*Se-0)*f),w!=null&&(Ve=vt+_t>>1,De=He+Mn>>1,s(w[y+2*Se-1],255&Ve,Ve>>16,me,be+(2*Se-1)*f),s(w[y+2*Se+0],255&De,De>>16,me,be+(2*Se+0)*f)),De=Et,_t=Mn}1&ke||(Ve=3*De+_t+131074>>2,s(m[v+ke-1],255&Ve,Ve>>16,pe,re+(ke-1)*f),w!=null&&(Ve=3*_t+De+131074>>2,s(w[y+ke-1],255&Ve,Ve>>16,me,be+(ke-1)*f)))}}function $a(){Li[il]=rh,Li[rl]=cu,Li[ru]=oh,Li[ol]=du,Li[al]=uu,Li[wc]=fu,Li[ou]=ah,Li[yc]=cu,Li[Cc]=du,Li[sl]=uu,Li[Sc]=fu}function ia(a){return a&~sh?0>a?0:255:a>>pu}function Gr(a,s){return ia((19077*a>>8)+(26149*s>>8)-14234)}function Po(a,s,f){return ia((19077*a>>8)-(6419*s>>8)-(13320*f>>8)+8708)}function Ao(a,s){return ia((19077*a>>8)+(33050*s>>8)-17685)}function Wr(a,s,f,m,v){m[v+0]=Gr(a,f),m[v+1]=Po(a,s,f),m[v+2]=Ao(a,s)}function qn(a,s,f,m,v){m[v+0]=Ao(a,s),m[v+1]=Po(a,s,f),m[v+2]=Gr(a,f)}function Oo(a,s,f,m,v){var w=Po(a,s,f);s=w<<3&224|Ao(a,s)>>3,m[v+0]=248&Gr(a,f)|w>>5,m[v+1]=s}function No(a,s,f,m,v){var w=240&Ao(a,s)|15;m[v+0]=240&Gr(a,f)|Po(a,s,f)>>4,m[v+1]=w}function Za(a,s,f,m,v){m[v+0]=255,Wr(a,s,f,m,v+1)}function Ya(a,s,f,m,v){qn(a,s,f,m,v),m[v+3]=255}function ei(a,s,f,m,v){Wr(a,s,f,m,v),m[v+3]=255}function Mr(a,s,f){z[a]=function(m,v,w,y,P,N,I,Z,ae){for(var F=Z+(-2&ae)*f;Z!=F;)s(m[v+0],w[y+0],P[N+0],I,Z),s(m[v+1],w[y+0],P[N+0],I,Z+f),v+=2,++y,++N,Z+=2*f;1&ae&&s(m[v+0],w[y+0],P[N+0],I,Z)}}function ra(a,s,f){return f==0?a==0?s==0?6:5:s==0?4:0:f}function Qs(a,s,f,m,v){switch(a>>>30){case 3:Lo(s,f,m,v,0);break;case 2:Ei(s,f,m,v);break;case 1:Ht(s,f,m,v)}}function ki(a,s){var f,m,v=s.M,w=s.Nb,y=a.oc,P=a.pc+40,N=a.oc,I=a.pc+584,Z=a.oc,ae=a.pc+600;for(f=0;16>f;++f)y[P+32*f-1]=129;for(f=0;8>f;++f)N[I+32*f-1]=129,Z[ae+32*f-1]=129;for(0<v?y[P-1-32]=N[I-1-32]=Z[ae-1-32]=129:(r(y,P-32-1,127,21),r(N,I-32-1,127,9),r(Z,ae-32-1,127,9)),m=0;m<a.za;++m){var F=s.ya[s.aa+m];if(0<m){for(f=-1;16>f;++f)i(y,P+32*f-4,y,P+32*f+12,4);for(f=-1;8>f;++f)i(N,I+32*f-4,N,I+32*f+4,4),i(Z,ae+32*f-4,Z,ae+32*f+4,4)}var X=a.Gd,te=a.Hd+m,pe=F.ad,re=F.Hc;if(0<v&&(i(y,P-32,X[te].y,0,16),i(N,I-32,X[te].f,0,8),i(Z,ae-32,X[te].ea,0,8)),F.Za){var me=y,be=P-32+16;for(0<v&&(m>=a.za-1?r(me,be,X[te].y[15],4):i(me,be,X[te+1].y,0,4)),f=0;4>f;f++)me[be+128+f]=me[be+256+f]=me[be+384+f]=me[be+0+f];for(f=0;16>f;++f,re<<=2)me=y,be=P+mu[f],Gi[F.Ob[f]](me,be),Qs(re,pe,16*+f,me,be)}else if(me=ra(m,v,F.Ob[0]),eo[me](y,P),re!=0)for(f=0;16>f;++f,re<<=2)Qs(re,pe,16*+f,y,P+mu[f]);for(f=F.Gc,me=ra(m,v,F.Dd),Fr[me](N,I),Fr[me](Z,ae),re=pe,me=N,be=I,255&(F=0|f)&&(170&F?ar(re,256,me,be):Zt(re,256,me,be)),F=Z,re=ae,255&(f>>=8)&&(170&f?ar(pe,320,F,re):Zt(pe,320,F,re)),v<a.Ub-1&&(i(X[te].y,0,y,P+480,16),i(X[te].f,0,N,I+224,8),i(X[te].ea,0,Z,ae+224,8)),f=8*w*a.B,X=a.sa,te=a.ta+16*m+16*w*a.R,pe=a.qa,F=a.ra+8*m+f,re=a.Ha,me=a.Ia+8*m+f,f=0;16>f;++f)i(X,te+f*a.R,y,P+32*f,16);for(f=0;8>f;++f)i(pe,F+f*a.B,N,I+32*f,8),i(re,me+f*a.B,Z,ae+32*f,8)}}function ko(a,s,f,m,v,w,y,P,N){var I=[0],Z=[0],ae=0,F=N!=null?N.kd:0,X=N??new Ce;if(a==null||12>f)return 7;X.data=a,X.w=s,X.ha=f,s=[s],f=[f],X.gb=[X.gb];e:{var te=s,pe=f,re=X.gb;if(n(a!=null),n(pe!=null),n(re!=null),re[0]=0,12<=pe[0]&&!t(a,te[0],"RIFF")){if(t(a,te[0]+8,"WEBP")){re=3;break e}var me=Xe(a,te[0]+4);if(12>me||4294967286<me){re=3;break e}if(F&&me>pe[0]-8){re=7;break e}re[0]=me,te[0]+=12,pe[0]-=12}re=0}if(re!=0)return re;for(me=0<X.gb[0],f=f[0];;){e:{var be=a;pe=s,re=f;var ke=I,Se=Z,Ye=te=[0];if((Ve=ae=[ae])[0]=0,8>re[0])re=7;else{if(!t(be,pe[0],"VP8X")){if(Xe(be,pe[0]+4)!=10){re=3;break e}if(18>re[0]){re=7;break e}var De=Xe(be,pe[0]+8),_t=1+Fe(be,pe[0]+12);if(2147483648<=_t*(be=1+Fe(be,pe[0]+15))){re=3;break e}Ye!=null&&(Ye[0]=De),ke!=null&&(ke[0]=_t),Se!=null&&(Se[0]=be),pe[0]+=18,re[0]-=18,Ve[0]=1}re=0}}if(ae=ae[0],te=te[0],re!=0)return re;if(pe=!!(2&te),!me&&ae)return 3;if(w!=null&&(w[0]=!!(16&te)),y!=null&&(y[0]=pe),P!=null&&(P[0]=0),y=I[0],te=Z[0],ae&&pe&&N==null){re=0;break}if(4>f){re=7;break}if(me&&ae||!me&&!ae&&!t(a,s[0],"ALPH")){f=[f],X.na=[X.na],X.P=[X.P],X.Sa=[X.Sa];e:{De=a,re=s,me=f;var Ve=X.gb;ke=X.na,Se=X.P,Ye=X.Sa,_t=22,n(De!=null),n(me!=null),be=re[0];var Et=me[0];for(n(ke!=null),n(Ye!=null),ke[0]=null,Se[0]=null,Ye[0]=0;;){if(re[0]=be,me[0]=Et,8>Et){re=7;break e}var Mn=Xe(De,be+4);if(4294967286<Mn){re=3;break e}var vt=8+Mn+1&-2;if(_t+=vt,0<Ve&&_t>Ve){re=3;break e}if(!t(De,be,"VP8 ")||!t(De,be,"VP8L")){re=0;break e}if(Et[0]<vt){re=7;break e}t(De,be,"ALPH")||(ke[0]=De,Se[0]=be+8,Ye[0]=Mn),be+=vt,Et-=vt}}if(f=f[0],X.na=X.na[0],X.P=X.P[0],X.Sa=X.Sa[0],re!=0)break}f=[f],X.Ja=[X.Ja],X.xa=[X.xa];e:if(Ve=a,re=s,me=f,ke=X.gb[0],Se=X.Ja,Ye=X.xa,De=re[0],be=!t(Ve,De,"VP8 "),_t=!t(Ve,De,"VP8L"),n(Ve!=null),n(me!=null),n(Se!=null),n(Ye!=null),8>me[0])re=7;else{if(be||_t){if(Ve=Xe(Ve,De+4),12<=ke&&Ve>ke-12){re=3;break e}if(F&&Ve>me[0]-8){re=7;break e}Se[0]=Ve,re[0]+=8,me[0]-=8,Ye[0]=_t}else Ye[0]=5<=me[0]&&Ve[De+0]==47&&!(Ve[De+4]>>5),Se[0]=me[0];re=0}if(f=f[0],X.Ja=X.Ja[0],X.xa=X.xa[0],s=s[0],re!=0)break;if(4294967286<X.Ja)return 3;if(P==null||pe||(P[0]=X.xa?2:1),y=[y],te=[te],X.xa){if(5>f){re=7;break}P=y,F=te,pe=w,a==null||5>f?a=0:5<=f&&a[s+0]==47&&!(a[s+4]>>5)?(me=[0],Ve=[0],ke=[0],ge(Se=new R,a,s,f),wr(Se,me,Ve,ke)?(P!=null&&(P[0]=me[0]),F!=null&&(F[0]=Ve[0]),pe!=null&&(pe[0]=ke[0]),a=1):a=0):a=0}else{if(10>f){re=7;break}P=te,a==null||10>f||!qs(a,s+3,f-3)?a=0:(F=a[s+0]|a[s+1]<<8|a[s+2]<<16,pe=16383&(a[s+7]<<8|a[s+6]),a=16383&(a[s+9]<<8|a[s+8]),1&F||3<(F>>1&7)||!(F>>4&1)||F>>5>=X.Ja||!pe||!a?a=0:(y&&(y[0]=pe),P&&(P[0]=a),a=1))}if(!a||(y=y[0],te=te[0],ae&&(I[0]!=y||Z[0]!=te)))return 3;N!=null&&(N[0]=X,N.offset=s-N.w,n(4294967286>s-N.w),n(N.offset==N.ha-f));break}return re==0||re==7&&ae&&N==null?(w!=null&&(w[0]|=X.na!=null&&0<X.na.length),m!=null&&(m[0]=y),v!=null&&(v[0]=te),0):re}function Ka(a,s,f){var m=s.width,v=s.height,w=0,y=0,P=m,N=v;if(s.Da=a!=null&&0<a.Da,s.Da&&(P=a.cd,N=a.bd,w=a.v,y=a.j,11>f||(w&=-2,y&=-2),0>w||0>y||0>=P||0>=N||w+P>m||y+N>v))return 0;if(s.v=w,s.j=y,s.va=w+P,s.o=y+N,s.U=P,s.T=N,s.da=a!=null&&0<a.da,s.da){if(!nt(P,N,f=[a.ib],w=[a.hb]))return 0;s.ib=f[0],s.hb=w[0]}return s.ob=a!=null&&a.ob,s.Kb=a==null||!a.Sd,s.da&&(s.ob=s.ib<3*m/4&&s.hb<3*v/4,s.Kb=0),1}function Xa(a){if(a==null)return 2;if(11>a.S){var s=a.f.RGBA;s.fb+=(a.height-1)*s.A,s.A=-s.A}else s=a.f.kb,a=a.height,s.O+=(a-1)*s.fa,s.fa=-s.fa,s.N+=(a-1>>1)*s.Ab,s.Ab=-s.Ab,s.W+=(a-1>>1)*s.Db,s.Db=-s.Db,s.F!=null&&(s.J+=(a-1)*s.lb,s.lb=-s.lb);return 0}function $r(a,s,f,m){if(m==null||0>=a||0>=s)return 2;if(f!=null){if(f.Da){var v=f.cd,w=f.bd,y=-2&f.v,P=-2&f.j;if(0>y||0>P||0>=v||0>=w||y+v>a||P+w>s)return 2;a=v,s=w}if(f.da){if(!nt(a,s,v=[f.ib],w=[f.hb]))return 2;a=v[0],s=w[0]}}m.width=a,m.height=s;e:{var N=m.width,I=m.height;if(a=m.S,0>=N||0>=I||!(a>=il&&13>a))a=2;else{if(0>=m.Rd&&m.sd==null){y=w=v=s=0;var Z=(P=N*gu[a])*I;if(11>a||(w=(I+1)/2*(s=(N+1)/2),a==12&&(y=(v=N)*I)),(I=o(Z+2*w+y))==null){a=1;break e}m.sd=I,11>a?((N=m.f.RGBA).eb=I,N.fb=0,N.A=P,N.size=Z):((N=m.f.kb).y=I,N.O=0,N.fa=P,N.Fd=Z,N.f=I,N.N=0+Z,N.Ab=s,N.Cd=w,N.ea=I,N.W=0+Z+w,N.Db=s,N.Ed=w,a==12&&(N.F=I,N.J=0+Z+2*w),N.Tc=y,N.lb=v)}if(s=1,v=m.S,w=m.width,y=m.height,v>=il&&13>v)if(11>v)a=m.f.RGBA,s&=(P=Math.abs(a.A))*(y-1)+w<=a.size,s&=P>=w*gu[v],s&=a.eb!=null;else{a=m.f.kb,P=(w+1)/2,Z=(y+1)/2,N=Math.abs(a.fa),I=Math.abs(a.Ab);var ae=Math.abs(a.Db),F=Math.abs(a.lb),X=F*(y-1)+w;s&=N*(y-1)+w<=a.Fd,s&=I*(Z-1)+P<=a.Cd,s=(s&=ae*(Z-1)+P<=a.Ed)&N>=w&I>=P&ae>=P,s&=a.y!=null,s&=a.f!=null,s&=a.ea!=null,v==12&&(s&=F>=w,s&=X<=a.Tc,s&=a.F!=null)}else s=0;a=s?0:2}}return a!=0||f!=null&&f.fd&&(a=Xa(m)),a}var Eo=64,ui=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],fi=24,Zr=32,Lr=8,Yr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];je("Predictor0","PredictorAdd0"),z.Predictor0=function(){return 4278190080},z.Predictor1=function(a){return a},z.Predictor2=function(a,s,f){return s[f+0]},z.Predictor3=function(a,s,f){return s[f+1]},z.Predictor4=function(a,s,f){return s[f-1]},z.Predictor5=function(a,s,f){return Qe(Qe(a,s[f+1]),s[f+0])},z.Predictor6=function(a,s,f){return Qe(a,s[f-1])},z.Predictor7=function(a,s,f){return Qe(a,s[f+0])},z.Predictor8=function(a,s,f){return Qe(s[f-1],s[f+0])},z.Predictor9=function(a,s,f){return Qe(s[f+0],s[f+1])},z.Predictor10=function(a,s,f){return Qe(Qe(a,s[f-1]),Qe(s[f+0],s[f+1]))},z.Predictor11=function(a,s,f){var m=s[f+0];return 0>=ft(m>>24&255,a>>24&255,(s=s[f-1])>>24&255)+ft(m>>16&255,a>>16&255,s>>16&255)+ft(m>>8&255,a>>8&255,s>>8&255)+ft(255&m,255&a,255&s)?m:a},z.Predictor12=function(a,s,f){var m=s[f+0];return(qt((a>>24&255)+(m>>24&255)-((s=s[f-1])>>24&255))<<24|qt((a>>16&255)+(m>>16&255)-(s>>16&255))<<16|qt((a>>8&255)+(m>>8&255)-(s>>8&255))<<8|qt((255&a)+(255&m)-(255&s)))>>>0},z.Predictor13=function(a,s,f){var m=s[f-1];return(Ot((a=Qe(a,s[f+0]))>>24&255,m>>24&255)<<24|Ot(a>>16&255,m>>16&255)<<16|Ot(a>>8&255,m>>8&255)<<8|Ot(255&a,255&m))>>>0};var Ja=z.PredictorAdd0;z.PredictorAdd1=kt,je("Predictor2","PredictorAdd2"),je("Predictor3","PredictorAdd3"),je("Predictor4","PredictorAdd4"),je("Predictor5","PredictorAdd5"),je("Predictor6","PredictorAdd6"),je("Predictor7","PredictorAdd7"),je("Predictor8","PredictorAdd8"),je("Predictor9","PredictorAdd9"),je("Predictor10","PredictorAdd10"),je("Predictor11","PredictorAdd11"),je("Predictor12","PredictorAdd12"),je("Predictor13","PredictorAdd13");var oa=z.PredictorAdd2;Ke("ColorIndexInverseTransform","MapARGB","32b",function(a){return a>>8&255},function(a){return a}),Ke("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(a){return a},function(a){return a>>8&255});var _n,el=z.ColorIndexInverseTransform,rr=z.MapARGB,or=z.VP8LColorIndexInverseTransformAlpha,Qa=z.MapAlpha,es=z.VP8LPredictorsAdd=[];es.length=16,(z.VP8LPredictors=[]).length=16,(z.VP8LPredictorsAdd_C=[]).length=16,(z.VP8LPredictors_C=[]).length=16;var ts,ns,Kr,Xr,Jr,Mo,Qr,Lo,Ei,ar,Ht,Zt,vn,En,Ir,is,aa,tl,Hd,Gd,Wd,$d,Zd,Yd,rs,Kd,Xd,Jd,Qd=o(511),eu=o(2041),tu=o(225),nu=o(767),iu=0,xc=eu,nl=tu,pi=nu,Mi=Qd,il=0,rl=1,ru=2,ol=3,al=4,wc=5,ou=6,yc=7,Cc=8,sl=9,Sc=10,Hp=[2,3,7],Gp=[3,3,11],au=[280,256,256,256,40],Wp=[0,1,1,1,0],$p=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Zp=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Yp=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Kp=8,Pc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ac=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],os=null,Xp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Jp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],su=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Qp=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],eh=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],th=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],nh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],eo=[],Gi=[],Fr=[],ih=1,lu=2,to=[],Li=[];Er("UpsampleRgbLinePair",Wr,3),Er("UpsampleBgrLinePair",qn,3),Er("UpsampleRgbaLinePair",ei,4),Er("UpsampleBgraLinePair",Ya,4),Er("UpsampleArgbLinePair",Za,4),Er("UpsampleRgba4444LinePair",No,2),Er("UpsampleRgb565LinePair",Oo,2);var rh=z.UpsampleRgbLinePair,oh=z.UpsampleBgrLinePair,cu=z.UpsampleRgbaLinePair,du=z.UpsampleBgraLinePair,uu=z.UpsampleArgbLinePair,fu=z.UpsampleRgba4444LinePair,ah=z.UpsampleRgb565LinePair,ll=16,cl=1<<ll-1,as=-227,Oc=482,pu=6,sh=(256<<pu)-1,hu=0,lh=o(256),ch=o(256),dh=o(256),uh=o(256),fh=o(Oc-as),ph=o(Oc-as);Mr("YuvToRgbRow",Wr,3),Mr("YuvToBgrRow",qn,3),Mr("YuvToRgbaRow",ei,4),Mr("YuvToBgraRow",Ya,4),Mr("YuvToArgbRow",Za,4),Mr("YuvToRgba4444Row",No,2),Mr("YuvToRgb565Row",Oo,2);var mu=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],dl=[0,2,8],hh=[8,7,6,4,4,2,2,2,1,1,1,1],mh=1;this.WebPDecodeRGBA=function(a,s,f,m,v){var w=rl,y=new ve,P=new At;y.ba=P,P.S=w,P.width=[P.width],P.height=[P.height];var N=P.width,I=P.height,Z=new ot;if(Z==null||a==null)var ae=2;else n(Z!=null),ae=ko(a,s,f,Z.width,Z.height,Z.Pd,Z.Qd,Z.format,null);if(ae!=0?N=0:(N!=null&&(N[0]=Z.width[0]),I!=null&&(I[0]=Z.height[0]),N=1),N){P.width=P.width[0],P.height=P.height[0],m!=null&&(m[0]=P.width),v!=null&&(v[0]=P.height);e:{if(m=new Jo,(v=new Ce).data=a,v.w=s,v.ha=f,v.kd=1,s=[0],n(v!=null),((a=ko(v.data,v.w,v.ha,null,null,null,s,null,v))==0||a==7)&&s[0]&&(a=4),(s=a)==0){if(n(y!=null),m.data=v.data,m.w=v.w+v.offset,m.ha=v.ha-v.offset,m.put=at,m.ac=Ji,m.bc=xr,m.ma=y,v.xa){if((a=vo())==null){y=1;break e}if(function(F,X){var te=[0],pe=[0],re=[0];t:for(;;){if(F==null)return 0;if(X==null)return F.a=2,0;if(F.l=X,F.a=0,ge(F.m,X.data,X.w,X.ha),!wr(F.m,te,pe,re)){F.a=3;break t}if(F.xb=lu,X.width=te[0],X.height=pe[0],!er(te[0],pe[0],1,F,null))break t;return 1}return n(F.a!=0),0}(a,m)){if(m=(s=$r(m.width,m.height,y.Oa,y.ba))==0){t:{m=a;n:for(;;){if(m==null){m=0;break t}if(n(m.s.yc!=null),n(m.s.Ya!=null),n(0<m.s.Wb),n((f=m.l)!=null),n((v=f.ma)!=null),m.xb!=0){if(m.ca=v.ba,m.tb=v.tb,n(m.ca!=null),!Ka(v.Oa,f,ol)){m.a=2;break n}if(!bo(m,f.width)||f.da)break n;if((f.da||st(m.ca.S))&&Hi(),11>m.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),m.ca.f.kb.F!=null&&Hi()),m.Pb&&0<m.s.ua&&m.s.vb.X==null&&!E(m.s.vb,m.s.Wa.Xa)){m.a=1;break n}m.xb=0}if(!qi(m,m.V,m.Ba,m.c,m.i,f.o,Hr))break n;v.Dc=m.Ma,m=1;break t}n(m.a!=0),m=0}m=!m}m&&(s=a.a)}else s=a.a}else{if((a=new oc)==null){y=1;break e}if(a.Fa=v.na,a.P=v.P,a.qc=v.Sa,nr(a,m)){if((s=$r(m.width,m.height,y.Oa,y.ba))==0){if(a.Aa=0,f=y.Oa,n((v=a)!=null),f!=null){if(0<(N=0>(N=f.Md)?0:100<N?255:255*N/100)){for(I=Z=0;4>I;++I)12>(ae=v.pb[I]).lc&&(ae.ia=N*hh[0>ae.lc?0:ae.lc]>>3),Z|=ae.ia;Z&&(alert("todo:VP8InitRandom"),v.ia=1)}v.Ga=f.Id,100<v.Ga?v.Ga=100:0>v.Ga&&(v.Ga=0)}(function(F,X){if(F==null)return 0;if(X==null)return Sn(F,2,"NULL VP8Io parameter in VP8Decode().");if(!F.cb&&!nr(F,X))return 0;if(n(F.cb),X.ac==null||X.ac(X)){X.ob&&(F.L=0);var te=dl[F.L];if(F.L==2?(F.yb=0,F.zb=0):(F.yb=X.v-te>>4,F.zb=X.j-te>>4,0>F.yb&&(F.yb=0),0>F.zb&&(F.zb=0)),F.Va=X.o+15+te>>4,F.Hb=X.va+15+te>>4,F.Hb>F.za&&(F.Hb=F.za),F.Va>F.Ub&&(F.Va=F.Ub),0<F.L){var pe=F.ed;for(te=0;4>te;++te){var re;if(F.Qa.Cb){var me=F.Qa.Lb[te];F.Qa.Fb||(me+=pe.Tb)}else me=pe.Tb;for(re=0;1>=re;++re){var be=F.gd[te][re],ke=me;if(pe.Pc&&(ke+=pe.vd[0],re&&(ke+=pe.od[0])),0<(ke=0>ke?0:63<ke?63:ke)){var Se=ke;0<pe.wb&&(Se=4<pe.wb?Se>>2:Se>>1)>9-pe.wb&&(Se=9-pe.wb),1>Se&&(Se=1),be.dd=Se,be.tc=2*ke+Se,be.ld=40<=ke?2:15<=ke?1:0}else be.tc=0;be.La=re}}}te=0}else Sn(F,6,"Frame setup failed"),te=F.a;if(te=te==0){if(te){F.$c=0,0<F.Aa||(F.Ic=mh);t:{te=F.Ic,pe=4*(Se=F.za);var Ye=32*Se,De=Se+1,_t=0<F.L?Se*(0<F.Aa?2:1):0,Ve=(F.Aa==2?2:1)*Se;if((be=pe+832+(re=3*(16*te+dl[F.L])/2*Ye)+(me=F.Fa!=null&&0<F.Fa.length?F.Kc.c*F.Kc.i:0))!=be)te=0;else{if(be>F.Vb){if(F.Vb=0,F.Ec=o(be),F.Fc=0,F.Ec==null){te=Sn(F,1,"no memory during frame initialization.");break t}F.Vb=be}be=F.Ec,ke=F.Fc,F.Ac=be,F.Bc=ke,ke+=pe,F.Gd=c(Ye,zs),F.Hd=0,F.rb=c(De+1,ja),F.sb=1,F.wa=_t?c(_t,Oi):null,F.Y=0,F.D.Nb=0,F.D.wa=F.wa,F.D.Y=F.Y,0<F.Aa&&(F.D.Y+=Se),n(!0),F.oc=be,F.pc=ke,ke+=832,F.ya=c(Ve,Ra),F.aa=0,F.D.ya=F.ya,F.D.aa=F.aa,F.Aa==2&&(F.D.aa+=Se),F.R=16*Se,F.B=8*Se,Se=(Ye=dl[F.L])*F.R,Ye=Ye/2*F.B,F.sa=be,F.ta=ke+Se,F.qa=F.sa,F.ra=F.ta+16*te*F.R+Ye,F.Ha=F.qa,F.Ia=F.ra+8*te*F.B+Ye,F.$c=0,ke+=re,F.mb=me?be:null,F.nb=me?ke:null,n(ke+me<=F.Fc+F.Vb),Vs(F),r(F.Ac,F.Bc,0,pe),te=1}}if(te){if(X.ka=0,X.y=F.sa,X.O=F.ta,X.f=F.qa,X.N=F.ra,X.ea=F.Ha,X.Vd=F.Ia,X.fa=F.R,X.Rc=F.B,X.F=null,X.J=0,!iu){for(te=-255;255>=te;++te)Qd[255+te]=0>te?-te:te;for(te=-1020;1020>=te;++te)eu[1020+te]=-128>te?-128:127<te?127:te;for(te=-112;112>=te;++te)tu[112+te]=-16>te?-16:15<te?15:te;for(te=-255;510>=te;++te)nu[255+te]=0>te?0:255<te?255:te;iu=1}Qr=ea,Lo=sc,ar=ir,Ht=Gs,Zt=Ws,Ei=ac,vn=Xs,En=So,Ir=_,is=D,aa=Js,tl=d,Hd=H,Gd=ee,Wd=Co,$d=Wa,Zd=Ys,Yd=Ks,Gi[0]=mc,Gi[1]=lc,Gi[2]=pc,Gi[3]=hc,Gi[4]=Cr,Gi[5]=gc,Gi[6]=Sr,Gi[7]=_c,Gi[8]=Ua,Gi[9]=ta,eo[0]=uc,eo[1]=dc,eo[2]=Ba,eo[3]=$s,eo[4]=wo,eo[5]=za,eo[6]=fc,Fr[0]=bc,Fr[1]=cc,Fr[2]=yo,Fr[3]=vc,Fr[4]=Va,Fr[5]=qa,Fr[6]=Zs,te=1}else te=0}te&&(te=function(Et,Mn){for(Et.M=0;Et.M<Et.Va;++Et.M){var vt,He=Et.Jc[Et.M&Et.Xb],Le=Et.m,bn=Et;for(vt=0;vt<bn.za;++vt){var ht=Le,It=bn,en=It.Ac,Vn=It.Bc+4*vt,ti=It.zc,un=It.ya[It.aa+vt];if(It.Qa.Bb?un.$b=xe(ht,It.Pa.jb[0])?2+xe(ht,It.Pa.jb[2]):xe(ht,It.Pa.jb[1]):un.$b=0,It.kc&&(un.Ad=xe(ht,It.Bd)),un.Za=!xe(ht,145)+0,un.Za){var Yn=un.Ob,ni=0;for(It=0;4>It;++It){var Ln,Rt=ti[0+It];for(Ln=0;4>Ln;++Ln){Rt=eh[en[Vn+Ln]][Rt];for(var Gt=su[xe(ht,Rt[0])];0<Gt;)Gt=su[2*Gt+xe(ht,Rt[Gt])];Rt=-Gt,en[Vn+Ln]=Rt}i(Yn,ni,en,Vn,4),ni+=4,ti[0+It]=Rt}}else Rt=xe(ht,156)?xe(ht,128)?1:3:xe(ht,163)?2:0,un.Ob[0]=Rt,r(en,Vn,Rt,4),r(ti,0,Rt,4);un.Dd=xe(ht,142)?xe(ht,114)?xe(ht,183)?1:3:2:0}if(bn.m.Ka)return Sn(Et,7,"Premature end-of-partition0 encountered.");for(;Et.ja<Et.za;++Et.ja){if(bn=He,ht=(Le=Et).rb[Le.sb-1],en=Le.rb[Le.sb+Le.ja],vt=Le.ya[Le.aa+Le.ja],Vn=Le.kc?vt.Ad:0)ht.la=en.la=0,vt.Za||(ht.Na=en.Na=0),vt.Hc=0,vt.Gc=0,vt.ia=0;else{var fn,Wt;if(ht=en,en=bn,Vn=Le.Pa.Xc,ti=Le.ya[Le.aa+Le.ja],un=Le.pb[ti.$b],It=ti.ad,Yn=0,ni=Le.rb[Le.sb-1],Rt=Ln=0,r(It,Yn,0,384),ti.Za)var Hn=0,Wi=Vn[3];else{Gt=o(16);var xn=ht.Na+ni.Na;if(xn=os(en,Vn[1],xn,un.Eb,0,Gt,0),ht.Na=ni.Na=(0<xn)+0,1<xn)Qr(Gt,0,It,Yn);else{var ai=Gt[0]+3>>3;for(Gt=0;256>Gt;Gt+=16)It[Yn+Gt]=ai}Hn=1,Wi=Vn[0]}var Yt=15&ht.la,In=15&ni.la;for(Gt=0;4>Gt;++Gt){var hi=1&In;for(ai=Wt=0;4>ai;++ai)Yt=Yt>>1|(hi=(xn=os(en,Wi,xn=hi+(1&Yt),un.Sc,Hn,It,Yn))>Hn)<<7,Wt=Wt<<2|(3<xn?3:1<xn?2:It[Yn+0]!=0),Yn+=16;Yt>>=4,In=In>>1|hi<<7,Ln=(Ln<<8|Wt)>>>0}for(Wi=Yt,Hn=In>>4,fn=0;4>fn;fn+=2){for(Wt=0,Yt=ht.la>>4+fn,In=ni.la>>4+fn,Gt=0;2>Gt;++Gt){for(hi=1&In,ai=0;2>ai;++ai)xn=hi+(1&Yt),Yt=Yt>>1|(hi=0<(xn=os(en,Vn[2],xn,un.Qc,0,It,Yn)))<<3,Wt=Wt<<2|(3<xn?3:1<xn?2:It[Yn+0]!=0),Yn+=16;Yt>>=2,In=In>>1|hi<<5}Rt|=Wt<<4*fn,Wi|=Yt<<4<<fn,Hn|=(240&In)<<fn}ht.la=Wi,ni.la=Hn,ti.Hc=Ln,ti.Gc=Rt,ti.ia=43690&Rt?0:un.ia,Vn=!(Ln|Rt)}if(0<Le.L&&(Le.wa[Le.Y+Le.ja]=Le.gd[vt.$b][vt.Za],Le.wa[Le.Y+Le.ja].La|=!Vn),bn.Ka)return Sn(Et,7,"Premature end-of-file encountered.")}if(Vs(Et),Le=Mn,bn=1,vt=(He=Et).D,ht=0<He.L&&He.M>=He.zb&&He.M<=He.Va,He.Aa==0)t:{if(vt.M=He.M,vt.uc=ht,ki(He,vt),bn=1,vt=(Wt=He.D).Nb,ht=(Rt=dl[He.L])*He.R,en=Rt/2*He.B,Gt=16*vt*He.R,ai=8*vt*He.B,Vn=He.sa,ti=He.ta-ht+Gt,un=He.qa,It=He.ra-en+ai,Yn=He.Ha,ni=He.Ia-en+ai,In=(Yt=Wt.M)==0,Ln=Yt>=He.Va-1,He.Aa==2&&ki(He,Wt),Wt.uc)for(hi=(xn=He).D.M,n(xn.D.uc),Wt=xn.yb;Wt<xn.Hb;++Wt){Hn=Wt,Wi=hi;var ii=(mi=(Gn=xn).D).Nb;fn=Gn.R;var mi=mi.wa[mi.Y+Hn],gi=Gn.sa,si=Gn.ta+16*ii*fn+16*Hn,_i=mi.dd,Qt=mi.tc;if(Qt!=0)if(n(3<=Qt),Gn.L==1)0<Hn&&$d(gi,si,fn,Qt+4),mi.La&&Yd(gi,si,fn,Qt),0<Wi&&Wd(gi,si,fn,Qt+4),mi.La&&Zd(gi,si,fn,Qt);else{var vi=Gn.B,$i=Gn.qa,Io=Gn.ra+8*ii*vi+8*Hn,Tr=Gn.Ha,Gn=Gn.Ia+8*ii*vi+8*Hn;ii=mi.ld,0<Hn&&(En(gi,si,fn,Qt+4,_i,ii),is($i,Io,Tr,Gn,vi,Qt+4,_i,ii)),mi.La&&(tl(gi,si,fn,Qt,_i,ii),Gd($i,Io,Tr,Gn,vi,Qt,_i,ii)),0<Wi&&(vn(gi,si,fn,Qt+4,_i,ii),Ir($i,Io,Tr,Gn,vi,Qt+4,_i,ii)),mi.La&&(aa(gi,si,fn,Qt,_i,ii),Hd($i,Io,Tr,Gn,vi,Qt,_i,ii))}}if(He.ia&&alert("todo:DitherRow"),Le.put!=null){if(Wt=16*Yt,Yt=16*(Yt+1),In?(Le.y=He.sa,Le.O=He.ta+Gt,Le.f=He.qa,Le.N=He.ra+ai,Le.ea=He.Ha,Le.W=He.Ia+ai):(Wt-=Rt,Le.y=Vn,Le.O=ti,Le.f=un,Le.N=It,Le.ea=Yn,Le.W=ni),Ln||(Yt-=Rt),Yt>Le.o&&(Yt=Le.o),Le.F=null,Le.J=null,He.Fa!=null&&0<He.Fa.length&&Wt<Yt&&(Le.J=Jt(He,Le,Wt,Yt-Wt),Le.F=He.mb,Le.F==null&&Le.F.length==0)){bn=Sn(He,3,"Could not decode alpha data.");break t}Wt<Le.j&&(Rt=Le.j-Wt,Wt=Le.j,n(!(1&Rt)),Le.O+=He.R*Rt,Le.N+=He.B*(Rt>>1),Le.W+=He.B*(Rt>>1),Le.F!=null&&(Le.J+=Le.width*Rt)),Wt<Yt&&(Le.O+=Le.v,Le.N+=Le.v>>1,Le.W+=Le.v>>1,Le.F!=null&&(Le.J+=Le.v),Le.ka=Wt-Le.j,Le.U=Le.va-Le.v,Le.T=Yt-Wt,bn=Le.put(Le))}vt+1!=He.Ic||Ln||(i(He.sa,He.ta-ht,Vn,ti+16*He.R,ht),i(He.qa,He.ra-en,un,It+8*He.B,en),i(He.Ha,He.Ia-en,Yn,ni+8*He.B,en))}if(!bn)return Sn(Et,6,"Output aborted.")}return 1}(F,X)),X.bc!=null&&X.bc(X),te&=1}return te?(F.cb=0,te):0})(a,m)||(s=a.a)}}else s=a.a}s==0&&y.Oa!=null&&y.Oa.fd&&(s=Xa(y.ba))}y=s}w=y!=0?null:11>w?P.f.RGBA.eb:P.f.kb.y}else w=null;return w};var gu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(z,oe){for(var O="",T=0;T<4;T++)O+=String.fromCharCode(z[oe++]);return O}function g(z,oe){return z[oe+0]|z[oe+1]<<8}function S(z,oe){return(z[oe+0]|z[oe+1]<<8|z[oe+2]<<16)>>>0}function A(z,oe){return(z[oe+0]|z[oe+1]<<8|z[oe+2]<<16|z[oe+3]<<24)>>>0}new u;var h=[0],j=[0],L=[],B=new u,k=e,Y=function(z,oe){var O={},T=0,W=!1,G=0,le=0;if(O.frames=[],!function(C,R){for(var U=0;U<4;U++)if(C[R+U]!="RIFF".charCodeAt(U))return!0;return!1}(z,oe)){for(A(z,oe+=4),oe+=8;oe<z.length;){var fe=p(z,oe),he=A(z,oe+=4);oe+=4;var se=he+(1&he);switch(fe){case"VP8 ":case"VP8L":O.frames[T]===void 0&&(O.frames[T]={}),(Pe=O.frames[T]).src_off=W?le:oe-8,Pe.src_size=G+he+8,T++,W&&(W=!1,G=0,le=0);break;case"VP8X":(Pe=O.header={}).feature_flags=z[oe];var ge=oe+4;Pe.canvas_width=1+S(z,ge),ge+=3,Pe.canvas_height=1+S(z,ge),ge+=3;break;case"ALPH":W=!0,G=se+8,le=oe-8;break;case"ANIM":(Pe=O.header).bgcolor=A(z,oe),ge=oe+4,Pe.loop_count=g(z,ge),ge+=2;break;case"ANMF":var Me,Pe;(Pe=O.frames[T]={}).offset_x=2*S(z,oe),oe+=3,Pe.offset_y=2*S(z,oe),oe+=3,Pe.width=1+S(z,oe),oe+=3,Pe.height=1+S(z,oe),oe+=3,Pe.duration=S(z,oe),oe+=3,Me=z[oe++],Pe.dispose=1&Me,Pe.blend=Me>>1&1}fe!="ANMF"&&(oe+=se)}return O}}(k,0);Y.response=k,Y.rgbaoutput=!0,Y.dataurl=!1;var K=Y.header?Y.header:null,V=Y.frames?Y.frames:null;if(K){K.loop_counter=K.loop_count,h=[K.canvas_height],j=[K.canvas_width];for(var ce=0;ce<V.length&&V[ce].blend!=0;ce++);}var ye=V[0],_e=B.WebPDecodeRGBA(k,ye.src_off,ye.src_size,j,h);ye.rgba=_e,ye.imgwidth=j[0],ye.imgheight=h[0];for(var Q=0;Q<j[0]*h[0]*4;Q++)L[Q]=_e[Q];return this.width=j,this.height=h,this.data=L,this}(function(e){var n,t,i,r,o,c,l,u,p,g=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new u,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new c,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new c,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new S(this),n=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,p=new g}]);var S=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=C;Object.defineProperty(this,"pdf",{get:function(){return R}});var U=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return U},set:function(E){U=!!E}});var $=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return $},set:function(E){$=!!E}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(E){isNaN(E)||(J=E)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(E){isNaN(E)||(ie=E)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(E){var Ie;typeof E=="number"?Ie=[E,E,E,E]:((Ie=new Array(4))[0]=E[0],Ie[1]=E.length>=2?E[1]:Ie[0],Ie[2]=E.length>=3?E[2]:Ie[0],Ie[3]=E.length>=4?E[3]:Ie[1]),p.margin=Ie}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(E){de=E}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(E){ue=E}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(E){xe=E}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(E){E instanceof g&&(p=E)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(E){p.path=E}});var Ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ee},set:function(E){Ee=E}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(E){var Ie;Ie=A(E),this.ctx.fillStyle=Ie.style,this.ctx.isFillTransparent=Ie.a===0,this.ctx.fillOpacity=Ie.a,this.pdf.setFillColor(Ie.r,Ie.g,Ie.b,{a:Ie.a}),this.pdf.setTextColor(Ie.r,Ie.g,Ie.b,{a:Ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(E){var Ie=A(E);this.ctx.strokeStyle=Ie.style,this.ctx.isStrokeTransparent=Ie.a===0,this.ctx.strokeOpacity=Ie.a,Ie.a===0?this.pdf.setDrawColor(255,255,255):(Ie.a,this.pdf.setDrawColor(Ie.r,Ie.g,Ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(E){["butt","round","square"].indexOf(E)!==-1&&(this.ctx.lineCap=E,this.pdf.setLineCap(E))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(E){isNaN(E)||(this.ctx.lineWidth=E,this.pdf.setLineWidth(E))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(E){["bevel","round","miter"].indexOf(E)!==-1&&(this.ctx.lineJoin=E,this.pdf.setLineJoin(E))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(E){isNaN(E)||(this.ctx.miterLimit=E,this.pdf.setMiterLimit(E))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(E){this.ctx.textBaseline=E}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(E){["right","end","center","left","start"].indexOf(E)!==-1&&(this.ctx.textAlign=E)}});var Te=null,Fe=null,Xe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Xe},set:function(E){Te=null,Fe=null,Xe=E}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(E){var Ie;if(this.ctx.font=E,(Ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(E))!==null){var xt=Ie[1];Ie[2];var nt=Ie[3],Oe=Ie[4];Ie[5];var it=Ie[6],je=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Oe)[2];Oe=Math.floor(je==="px"?parseFloat(Oe)*this.pdf.internal.scaleFactor:je==="em"?parseFloat(Oe)*this.pdf.getFontSize():parseFloat(Oe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Oe);var tt=function(Ke){var gn,Dt,St=[],Pt=Ke.trim();if(Pt==="")return Dd;if(Pt in up)return[up[Pt]];for(;Pt!=="";){switch(Dt=null,gn=(Pt=pp(Pt)).charAt(0)){case'"':case"'":Dt=K5(Pt.substring(1),gn);break;default:Dt=X5(Pt)}if(Dt===null||(St.push(Dt[0]),(Pt=pp(Dt[1]))!==""&&Pt.charAt(0)!==","))return Dd;Pt=Pt.replace(/^,/,"")}return St}(it);if(this.fontFaces){var Qe=function(Ke,gn){var Dt=Ke.getFontList(),St=JSON.stringify(Dt);if(Te===null||Fe!==St){var Pt=function(nn){var et=[];return Object.keys(nn).forEach(function(Xt){nn[Xt].forEach(function(st){var pt=null;switch(st){case"bold":pt={family:Xt,weight:"bold"};break;case"italic":pt={family:Xt,style:"italic"};break;case"bolditalic":pt={family:Xt,weight:"bold",style:"italic"};break;case"":case"normal":pt={family:Xt}}pt!==null&&(pt.ref={name:Xt,style:st},et.push(pt))})}),et}(Dt);Te=function(nn){for(var et={},Xt=0;Xt<nn.length;++Xt){var st=Td(nn[Xt]),pt=st.family,rn=st.stretch,At=st.style,ot=st.weight;et[pt]=et[pt]||{},et[pt][rn]=et[pt][rn]||{},et[pt][rn][At]=et[pt][rn][At]||{},et[pt][rn][At][ot]=st}return et}(Pt.concat(gn)),Fe=St}return Te}(this.pdf,this.fontFaces),qt=tt.map(function(Ke){return{family:Ke,stretch:"normal",weight:nt,style:xt}}),Ot=function(Ke,gn,Dt){for(var St=(Dt=Dt||{}).defaultFontFamily||"times",Pt=Object.assign({},Y5,Dt.genericFontFamilies||{}),nn=null,et=null,Xt=0;Xt<gn.length;++Xt)if(Pt[(nn=Td(gn[Xt])).family]&&(nn.family=Pt[nn.family]),Ke.hasOwnProperty(nn.family)){et=Ke[nn.family];break}if(!(et=et||Ke[St]))throw new Error("Could not find a font-family for the rule '"+fp(nn)+"' and default family '"+St+"'.");if(et=function(st,pt){if(pt[st])return pt[st];var rn=qd[st],At=rn<=qd.normal?-1:1,ot=dp(pt,Dp,rn,At);if(!ot)throw new Error("Could not find a matching font-stretch value for "+st);return ot}(nn.stretch,et),et=function(st,pt){if(pt[st])return pt[st];for(var rn=Tp[st],At=0;At<rn.length;++At)if(pt[rn[At]])return pt[rn[At]];throw new Error("Could not find a matching font-style for "+st)}(nn.style,et),!(et=function(st,pt){if(pt[st])return pt[st];if(st===400&&pt[500])return pt[500];if(st===500&&pt[400])return pt[400];var rn=Z5[st],At=dp(pt,jp,rn,st<400?-1:1);if(!At)throw new Error("Could not find a matching font-weight for value "+st);return At}(nn.weight,et)))throw new Error("Failed to resolve a font for the rule '"+fp(nn)+"'.");return et}(Qe,qt);this.pdf.setFont(Ot.ref.name,Ot.ref.style)}else{var ft="";(nt==="bold"||parseInt(nt,10)>=700||xt==="bold")&&(ft="bold"),xt==="italic"&&(ft+="italic"),ft.length===0&&(ft="normal");for(var kt="",Nt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},We=0;We<tt.length;We++){if(this.pdf.internal.getFont(tt[We],ft,{noFallback:!0,disableWarning:!0})!==void 0){kt=tt[We];break}if(ft==="bolditalic"&&this.pdf.internal.getFont(tt[We],"bold",{noFallback:!0,disableWarning:!0})!==void 0)kt=tt[We],ft="bold";else if(this.pdf.internal.getFont(tt[We],"normal",{noFallback:!0,disableWarning:!0})!==void 0){kt=tt[We],ft="normal";break}}if(kt===""){for(var mt=0;mt<tt.length;mt++)if(Nt[tt[mt]]){kt=Nt[tt[mt]];break}}kt=kt===""?"Times":kt,this.pdf.setFont(kt,ft)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(E){this.ctx.globalCompositeOperation=E}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(E){this.ctx.globalAlpha=E}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(E){this.ctx.lineDashOffset=E,Pe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(E){this.ctx.lineDash=E,Pe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(E){this.ctx.ignoreClearRect=!!E}})};S.prototype.setLineDash=function(C){this.lineDash=C},S.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},S.prototype.fill=function(){V.call(this,"fill",!1)},S.prototype.stroke=function(){V.call(this,"stroke",!1)},S.prototype.beginPath=function(){this.path=[{type:"begin"}]},S.prototype.moveTo=function(C,R){if(isNaN(C)||isNaN(R))throw Kt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var U=this.ctx.transform.applyToPoint(new c(C,R));this.path.push({type:"mt",x:U.x,y:U.y}),this.ctx.lastPoint=new c(C,R)},S.prototype.closePath=function(){var C=new c(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&$t(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){C=new c(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(C.x,C.y)},S.prototype.lineTo=function(C,R){if(isNaN(C)||isNaN(R))throw Kt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var U=this.ctx.transform.applyToPoint(new c(C,R));this.path.push({type:"lt",x:U.x,y:U.y}),this.ctx.lastPoint=new c(U.x,U.y)},S.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),V.call(this,null,!0)},S.prototype.quadraticCurveTo=function(C,R,U,$){if(isNaN(U)||isNaN($)||isNaN(C)||isNaN(R))throw Kt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new c(U,$)),ie=this.ctx.transform.applyToPoint(new c(C,R));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:J.x,y:J.y}),this.ctx.lastPoint=new c(J.x,J.y)},S.prototype.bezierCurveTo=function(C,R,U,$,J,ie){if(isNaN(J)||isNaN(ie)||isNaN(C)||isNaN(R)||isNaN(U)||isNaN($))throw Kt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new c(J,ie)),ue=this.ctx.transform.applyToPoint(new c(C,R)),xe=this.ctx.transform.applyToPoint(new c(U,$));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:xe.x,y2:xe.y,x:de.x,y:de.y}),this.ctx.lastPoint=new c(de.x,de.y)},S.prototype.arc=function(C,R,U,$,J,ie){if(isNaN(C)||isNaN(R)||isNaN(U)||isNaN($)||isNaN(J))throw Kt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new c(C,R));C=de.x,R=de.y;var ue=this.ctx.transform.applyToPoint(new c(0,U)),xe=this.ctx.transform.applyToPoint(new c(0,0));U=Math.sqrt(Math.pow(ue.x-xe.x,2)+Math.pow(ue.y-xe.y,2))}Math.abs(J-$)>=2*Math.PI&&($=0,J=2*Math.PI),this.path.push({type:"arc",x:C,y:R,radius:U,startAngle:$,endAngle:J,counterclockwise:ie})},S.prototype.arcTo=function(C,R,U,$,J){throw new Error("arcTo not implemented.")},S.prototype.rect=function(C,R,U,$){if(isNaN(C)||isNaN(R)||isNaN(U)||isNaN($))throw Kt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,R),this.lineTo(C+U,R),this.lineTo(C+U,R+$),this.lineTo(C,R+$),this.lineTo(C,R),this.lineTo(C+U,R),this.lineTo(C,R)},S.prototype.fillRect=function(C,R,U,$){if(isNaN(C)||isNaN(R)||isNaN(U)||isNaN($))throw Kt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,R,U,$),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},S.prototype.strokeRect=function(C,R,U,$){if(isNaN(C)||isNaN(R)||isNaN(U)||isNaN($))throw Kt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect(C,R,U,$),this.stroke())},S.prototype.clearRect=function(C,R,U,$){if(isNaN(C)||isNaN(R)||isNaN(U)||isNaN($))throw Kt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,R,U,$))},S.prototype.save=function(C){C=typeof C!="boolean"||C;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var $=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=$}},S.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("Q");this.pdf.setPage(R),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},S.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(C){var R,U,$,J;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))R=0,U=0,$=0,J=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(ie!==null)R=parseInt(ie[1]),U=parseInt(ie[2]),$=parseInt(ie[3]),J=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)R=parseInt(ie[1]),U=parseInt(ie[2]),$=parseInt(ie[3]),J=parseFloat(ie[4]);else{if(J=1,typeof C=="string"&&C.charAt(0)!=="#"){var de=new Np(C);C=de.ok?de.toHex():"#000000"}C.length===4?(R=C.substring(1,2),R+=R,U=C.substring(2,3),U+=U,$=C.substring(3,4),$+=$):(R=C.substring(1,3),U=C.substring(3,5),$=C.substring(5,7)),R=parseInt(R,16),U=parseInt(U,16),$=parseInt($,16)}}return{r:R,g:U,b:$,a:J,style:C}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};S.prototype.fillText=function(C,R,U,$){if(isNaN(R)||isNaN(U)||typeof C!="string")throw Kt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if($=isNaN($)?void 0:$,!h.call(this)){var J=se(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;T.call(this,{text:C,x:R,y:U,scale:ie,angle:J,align:this.textAlign,maxWidth:$})}},S.prototype.strokeText=function(C,R,U,$){if(isNaN(R)||isNaN(U)||typeof C!="string")throw Kt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){$=isNaN($)?void 0:$;var J=se(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;T.call(this,{text:C,x:R,y:U,scale:ie,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:$})}},S.prototype.measureText=function(C){if(typeof C!="string")throw Kt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,U=this.pdf.internal.scaleFactor,$=R.internal.getFontSize(),J=R.getStringUnitWidth(C)*$/R.internal.scaleFactor;return new function(ie){var de=(ie=ie||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this}({width:J*=Math.round(96*U/72*1e4)/1e4})},S.prototype.scale=function(C,R){if(isNaN(C)||isNaN(R))throw Kt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var U=new u(C,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(U)},S.prototype.rotate=function(C){if(isNaN(C))throw Kt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new u(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},S.prototype.translate=function(C,R){if(isNaN(C)||isNaN(R))throw Kt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var U=new u(1,0,0,1,C,R);this.ctx.transform=this.ctx.transform.multiply(U)},S.prototype.transform=function(C,R,U,$,J,ie){if(isNaN(C)||isNaN(R)||isNaN(U)||isNaN($)||isNaN(J)||isNaN(ie))throw Kt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new u(C,R,U,$,J,ie);this.ctx.transform=this.ctx.transform.multiply(de)},S.prototype.setTransform=function(C,R,U,$,J,ie){C=isNaN(C)?1:C,R=isNaN(R)?0:R,U=isNaN(U)?0:U,$=isNaN($)?1:$,J=isNaN(J)?0:J,ie=isNaN(ie)?0:ie,this.ctx.transform=new u(C,R,U,$,J,ie)};var L=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};S.prototype.drawImage=function(C,R,U,$,J,ie,de,ue,xe){var Ee=this.pdf.getImageProperties(C),Te=1,Fe=1,Xe=1,E=1;$!==void 0&&ue!==void 0&&(Xe=ue/$,E=xe/J,Te=Ee.width/$*ue/$,Fe=Ee.height/J*xe/J),ie===void 0&&(ie=R,de=U,R=0,U=0),$!==void 0&&ue===void 0&&(ue=$,xe=J),$===void 0&&ue===void 0&&(ue=Ee.width,xe=Ee.height);var Ie=this.ctx.transform.decompose(),xt=se(Ie.rotate.shx),nt=new u,Oe=(nt=(nt=(nt=nt.multiply(Ie.translate)).multiply(Ie.skew)).multiply(Ie.scale)).applyToRectangle(new l(ie-R*Xe,de-U*E,$*Te,J*Fe));if(this.autoPaging){for(var it,je=B.call(this,Oe),tt=[],Qe=0;Qe<je.length;Qe+=1)tt.indexOf(je[Qe])===-1&&tt.push(je[Qe]);K(tt);for(var qt=tt[0],Ot=tt[tt.length-1],ft=qt;ft<Ot+1;ft++){this.pdf.setPage(ft);var kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nt=ft===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=ft===1?0:We+(ft-2)*mt;if(this.ctx.clip_path.length!==0){var gn=this.path;it=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Y(it,this.posX+this.margin[3],-Ke+Nt+this.ctx.prevPageLastElemOffset),ce.call(this,"fill",!0),this.path=gn}var Dt=JSON.parse(JSON.stringify(Oe));Dt=Y([Dt],this.posX+this.margin[3],-Ke+Nt+this.ctx.prevPageLastElemOffset)[0];var St=(ft>qt||ft<Ot)&&L.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,mt,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",Dt.x,Dt.y,Dt.w,Dt.h,null,null,xt),St&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(C,"JPEG",Oe.x,Oe.y,Oe.w,Oe.h,null,null,xt)};var B=function(C,R,U){var $=[];R=R||this.pdf.internal.pageSize.width,U=U||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":$.push(Math.floor((C.y+J)/U)+1);break;case"arc":$.push(Math.floor((C.y+J-C.radius)/U)+1),$.push(Math.floor((C.y+J+C.radius)/U)+1);break;case"qct":var ie=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);$.push(Math.floor((ie.y+J)/U)+1),$.push(Math.floor((ie.y+ie.h+J)/U)+1);break;case"bct":var de=Me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);$.push(Math.floor((de.y+J)/U)+1),$.push(Math.floor((de.y+de.h+J)/U)+1);break;case"rect":$.push(Math.floor((C.y+J)/U)+1),$.push(Math.floor((C.y+C.h+J)/U)+1)}for(var ue=0;ue<$.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<$[ue];)k.call(this);return $},k=function(){var C=this.fillStyle,R=this.strokeStyle,U=this.font,$=this.lineCap,J=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=R,this.font=U,this.lineCap=$,this.lineWidth=J,this.lineJoin=ie},Y=function(C,R,U){for(var $=0;$<C.length;$++)switch(C[$].type){case"bct":C[$].x2+=R,C[$].y2+=U;case"qct":C[$].x1+=R,C[$].y1+=U;default:C[$].x+=R,C[$].y+=U}return C},K=function(C){return C.sort(function(R,U){return R-U})},V=function(C,R){var U=this.fillStyle,$=this.strokeStyle,J=this.lineCap,ie=this.lineWidth,de=Math.abs(ie*this.ctx.transform.scaleX),ue=this.lineJoin;if(this.autoPaging){for(var xe,Ee,Te=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),Xe=[],E=0;E<Fe.length;E++)if(Fe[E].x!==void 0)for(var Ie=B.call(this,Fe[E]),xt=0;xt<Ie.length;xt+=1)Xe.indexOf(Ie[xt])===-1&&Xe.push(Ie[xt]);for(var nt=0;nt<Xe.length;nt++)for(;this.pdf.internal.getNumberOfPages()<Xe[nt];)k.call(this);K(Xe);for(var Oe=Xe[0],it=Xe[Xe.length-1],je=Oe;je<it+1;je++){this.pdf.setPage(je),this.fillStyle=U,this.strokeStyle=$,this.lineCap=J,this.lineWidth=de,this.lineJoin=ue;var tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qe=je===1?this.posY+this.margin[0]:this.margin[0],qt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ft=je===1?0:qt+(je-2)*Ot;if(this.ctx.clip_path.length!==0){var kt=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Y(xe,this.posX+this.margin[3],-ft+Qe+this.ctx.prevPageLastElemOffset),ce.call(this,C,!0),this.path=kt}if(Ee=JSON.parse(JSON.stringify(Te)),this.path=Y(Ee,this.posX+this.margin[3],-ft+Qe+this.ctx.prevPageLastElemOffset),R===!1||je===0){var Nt=(je>Oe||je<it)&&L.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,Ot,null).clip().discardPath()),ce.call(this,C,R),Nt&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}this.path=Te}else this.lineWidth=de,ce.call(this,C,R),this.lineWidth=ie},ce=function(C,R){if((C!=="stroke"||R||!j.call(this))&&(C==="stroke"||R||!h.call(this))){for(var U,$,J=[],ie=this.path,de=0;de<ie.length;de++){var ue=ie[de];switch(ue.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:ue,deltas:[],abs:[]});break;case"lt":var xe=J.length;if(ie[de-1]&&!isNaN(ie[de-1].x)&&(U=[ue.x-ie[de-1].x,ue.y-ie[de-1].y],xe>0)){for(;xe>=0;xe--)if(J[xe-1].close!==!0&&J[xe-1].begin!==!0){J[xe-1].deltas.push(U),J[xe-1].abs.push(ue);break}}break;case"bct":U=[ue.x1-ie[de-1].x,ue.y1-ie[de-1].y,ue.x2-ie[de-1].x,ue.y2-ie[de-1].y,ue.x-ie[de-1].x,ue.y-ie[de-1].y],J[J.length-1].deltas.push(U);break;case"qct":var Ee=ie[de-1].x+2/3*(ue.x1-ie[de-1].x),Te=ie[de-1].y+2/3*(ue.y1-ie[de-1].y),Fe=ue.x+2/3*(ue.x1-ue.x),Xe=ue.y+2/3*(ue.y1-ue.y),E=ue.x,Ie=ue.y;U=[Ee-ie[de-1].x,Te-ie[de-1].y,Fe-ie[de-1].x,Xe-ie[de-1].y,E-ie[de-1].x,Ie-ie[de-1].y],J[J.length-1].deltas.push(U);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(ue)}}$=R?null:C==="stroke"?"stroke":"fill";for(var xt=!1,nt=0;nt<J.length;nt++)if(J[nt].arc)for(var Oe=J[nt].abs,it=0;it<Oe.length;it++){var je=Oe[it];je.type==="arc"?Q.call(this,je.x,je.y,je.radius,je.startAngle,je.endAngle,je.counterclockwise,void 0,R,!xt):W.call(this,je.x,je.y),xt=!0}else if(J[nt].close===!0)this.pdf.internal.out("h"),xt=!1;else if(J[nt].begin!==!0){var tt=J[nt].start.x,Qe=J[nt].start.y;G.call(this,J[nt].deltas,tt,Qe),xt=!0}$&&z.call(this,$),R&&oe.call(this)}},ye=function(C){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,U=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-U;case"top":return C+R-U;case"hanging":return C+R-2*U;case"middle":return C+R/2-U;default:return C}},_e=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};S.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(R,U){this.colorStops.push([R,U])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},S.prototype.createPattern=function(){return this.createLinearGradient()},S.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Q=function(C,R,U,$,J,ie,de,ue,xe){for(var Ee=fe.call(this,U,$,J,ie),Te=0;Te<Ee.length;Te++){var Fe=Ee[Te];Te===0&&(xe?O.call(this,Fe.x1+C,Fe.y1+R):W.call(this,Fe.x1+C,Fe.y1+R)),le.call(this,C,R,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}ue?oe.call(this):z.call(this,de)},z=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},oe=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(C,R){this.pdf.internal.out(t(C)+" "+i(R)+" m")},T=function(C){var R;switch(C.align){case"right":case"end":R="right";break;case"center":R="center";break;default:R="left"}var U,$,J,ie=this.pdf.getTextDimensions(C.text),de=ye.call(this,C.y),ue=_e.call(this,de)-ie.h,xe=this.ctx.transform.applyToPoint(new c(C.x,de));if(this.autoPaging){var Ee=this.ctx.transform.decompose(),Te=new u;Te=(Te=(Te=Te.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale);for(var Fe=this.ctx.transform.applyToRectangle(new l(C.x,de,ie.w,ie.h)),Xe=Te.applyToRectangle(new l(C.x,ue,ie.w,ie.h)),E=B.call(this,Xe),Ie=[],xt=0;xt<E.length;xt+=1)Ie.indexOf(E[xt])===-1&&Ie.push(E[xt]);K(Ie);for(var nt=Ie[0],Oe=Ie[Ie.length-1],it=nt;it<Oe+1;it++){this.pdf.setPage(it);var je=it===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qe=this.pdf.internal.pageSize.height-this.margin[2],qt=Qe-this.margin[0],Ot=this.pdf.internal.pageSize.width-this.margin[1],ft=Ot-this.margin[3],kt=it===1?0:tt+(it-2)*qt;if(this.ctx.clip_path.length!==0){var Nt=this.path;U=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Y(U,this.posX+this.margin[3],-1*kt+je),ce.call(this,"fill",!0),this.path=Nt}var We=Y([JSON.parse(JSON.stringify(Xe))],this.posX+this.margin[3],-kt+je+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&($=this.pdf.internal.getFontSize(),this.pdf.setFontSize($*C.scale),J=this.lineWidth,this.lineWidth=J*C.scale);var mt=this.autoPaging!=="text";if(mt||We.y+We.h<=Qe){if(mt||We.y>=je&&We.x<=Ot){var Ke=mt?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||Ot-We.x)[0],gn=Y([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-kt+je+this.ctx.prevPageLastElemOffset)[0],Dt=mt&&(it>nt||it<Oe)&&L.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,qt,null).clip().discardPath()),this.pdf.text(Ke,gn.x,gn.y,{angle:C.angle,align:R,renderingMode:C.renderingMode}),Dt&&this.pdf.restoreGraphicsState()}}else We.y<Qe&&(this.ctx.prevPageLastElemOffset+=Qe-We.y);C.scale>=.01&&(this.pdf.setFontSize($),this.lineWidth=J)}}else C.scale>=.01&&($=this.pdf.internal.getFontSize(),this.pdf.setFontSize($*C.scale),J=this.lineWidth,this.lineWidth=J*C.scale),this.pdf.text(C.text,xe.x+this.posX,xe.y+this.posY,{angle:C.angle,align:R,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize($),this.lineWidth=J)},W=function(C,R,U,$){U=U||0,$=$||0,this.pdf.internal.out(t(C+U)+" "+i(R+$)+" l")},G=function(C,R,U){return this.pdf.lines(C,R,U,null,null)},le=function(C,R,U,$,J,ie,de,ue){this.pdf.internal.out([n(r(U+C)),n(o($+R)),n(r(J+C)),n(o(ie+R)),n(r(de+C)),n(o(ue+R)),"c"].join(" "))},fe=function(C,R,U,$){for(var J=2*Math.PI,ie=Math.PI/2;R>U;)R-=J;var de=Math.abs(U-R);de<J&&$&&(de=J-de);for(var ue=[],xe=$?-1:1,Ee=R;de>1e-5;){var Te=Ee+xe*Math.min(de,ie);ue.push(he.call(this,C,Ee,Te)),de-=Math.abs(Te-Ee),Ee=Te}return ue},he=function(C,R,U){var $=(U-R)/2,J=C*Math.cos($),ie=C*Math.sin($),de=J,ue=-ie,xe=de*de+ue*ue,Ee=xe+de*J+ue*ie,Te=4/3*(Math.sqrt(2*xe*Ee)-Ee)/(de*ie-ue*J),Fe=de-Te*ue,Xe=ue+Te*de,E=Fe,Ie=-Xe,xt=$+R,nt=Math.cos(xt),Oe=Math.sin(xt);return{x1:C*Math.cos(R),y1:C*Math.sin(R),x2:Fe*nt-Xe*Oe,y2:Fe*Oe+Xe*nt,x3:E*nt-Ie*Oe,y3:E*Oe+Ie*nt,x4:C*Math.cos(U),y4:C*Math.sin(U)}},se=function(C){return 180*C/Math.PI},ge=function(C,R,U,$,J,ie){var de=C+.5*(U-C),ue=R+.5*($-R),xe=J+.5*(U-J),Ee=ie+.5*($-ie),Te=Math.min(C,J,de,xe),Fe=Math.max(C,J,de,xe),Xe=Math.min(R,ie,ue,Ee),E=Math.max(R,ie,ue,Ee);return new l(Te,Xe,Fe-Te,E-Xe)},Me=function(C,R,U,$,J,ie,de,ue){var xe,Ee,Te,Fe,Xe,E,Ie,xt,nt,Oe,it,je,tt,Qe,qt=U-C,Ot=$-R,ft=J-U,kt=ie-$,Nt=de-J,We=ue-ie;for(Ee=0;Ee<41;Ee++)nt=(Ie=(Te=C+(xe=Ee/40)*qt)+xe*((Xe=U+xe*ft)-Te))+xe*(Xe+xe*(J+xe*Nt-Xe)-Ie),Oe=(xt=(Fe=R+xe*Ot)+xe*((E=$+xe*kt)-Fe))+xe*(E+xe*(ie+xe*We-E)-xt),Ee==0?(it=nt,je=Oe,tt=nt,Qe=Oe):(it=Math.min(it,nt),je=Math.min(je,Oe),tt=Math.max(tt,nt),Qe=Math.max(Qe,Oe));return new l(Math.round(it),Math.round(je),Math.round(tt-it),Math.round(Qe-je))},Pe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,R,U=(C=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:R}));this.prevLineDash!==U&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=U)}}})(Ze.API),function(e){var n=function(c){var l,u,p,g,S,A,h,j,L,B;for(/[^\x00-\xFF]/.test(c),u=[],p=0,g=(c+=l="\0\0\0\0".slice(c.length%4||4)).length;g>p;p+=4)(S=(c.charCodeAt(p)<<24)+(c.charCodeAt(p+1)<<16)+(c.charCodeAt(p+2)<<8)+c.charCodeAt(p+3))!==0?(A=(S=((S=((S=((S=(S-(B=S%85))/85)-(L=S%85))/85)-(j=S%85))/85)-(h=S%85))/85)%85,u.push(A+33,h+33,j+33,L+33,B+33)):u.push(122);return function(k,Y){for(var K=Y;K>0;K--)k.pop()}(u,l.length),String.fromCharCode.apply(String,u)+"~>"},t=function(c){var l,u,p,g,S,A=String,h="length",j=255,L="charCodeAt",B="slice",k="replace";for(c[B](-2),c=c[B](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),p=[],g=0,S=(c+=l="uuuuu"[B](c[h]%5||5))[h];S>g;g+=5)u=52200625*(c[L](g)-33)+614125*(c[L](g+1)-33)+7225*(c[L](g+2)-33)+85*(c[L](g+3)-33)+(c[L](g+4)-33),p.push(j&u>>24,j&u>>16,j&u>>8,j&u);return function(Y,K){for(var V=K;V>0;V--)Y.pop()}(p,l[h]),A.fromCharCode.apply(A,p)},i=function(c){return c.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(c){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),l.test(c)===!1)return"";for(var u="",p=0;p<c.length;p+=2)u+=String.fromCharCode("0x"+(c[p]+c[p+1]));return u},o=function(c){for(var l=new Uint8Array(c.length),u=c.length;u--;)l[u]=c.charCodeAt(u);return(l=Sl(l)).reduce(function(p,g){return p+String.fromCharCode(g)},"")};e.processDataByFilters=function(c,l){var u=0,p=c||"",g=[];for(typeof(l=l||[])=="string"&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":p=t(p),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=n(p),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=r(p),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=i(p),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=o(p),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:p,reverseChain:g.reverse().join(" ")}}}(Ze.API),function(e){e.loadFile=function(n,t,i){return function(r,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var l=void 0;try{l=function(u,p,g){var S=new XMLHttpRequest,A=0,h=function(j){var L=j.length,B=[],k=String.fromCharCode;for(A=0;A<L;A+=1)B.push(k(255&j.charCodeAt(A)));return B.join("")};if(S.open("GET",u,!p),S.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(S.onload=function(){S.status===200?g(h(this.responseText)):g(void 0)}),S.send(null),p&&S.status===200)return h(S.responseText)}(r,o,c)}catch{}return l}(n,t,i)},e.loadImageFile=e.loadFile}(Ze.API),function(e){function n(){return(lt.html2canvas?Promise.resolve(lt.html2canvas):import("./chunk-JPTIILKM.js")).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(lt.DOMPurify?Promise.resolve(lt.DOMPurify):import("./chunk-3OEN23XA.js")).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var i=function(l){var u=$t(l);return u==="undefined"?"undefined":u==="string"||l instanceof String?"string":u==="number"||l instanceof Number?"number":u==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":u==="object"?"object":"unknown"},r=function(l,u){var p=document.createElement(l);for(var g in u.className&&(p.className=u.className),u.innerHTML&&u.dompurify&&(p.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)p.style[g]=u.style[g];return p},o=function l(u,p){for(var g=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),S=u.firstChild;S;S=S.nextSibling)p!==!0&&S.nodeType===1&&S.nodeName==="SCRIPT"||g.appendChild(l(S,p));return u.nodeType===1&&(u.nodeName==="CANVAS"?(g.width=u.width,g.height=u.height,g.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(g.value=u.value),g.addEventListener("load",function(){g.scrollTop=u.scrollTop,g.scrollLeft=u.scrollLeft},!0)),g},c=function l(u){var p=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),g=l.convert(Promise.resolve(),p);return(g=g.setProgress(1,l,1,[l])).set(u)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(l,u){return l.__proto__=u||c.prototype,l},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(l,u){return this.then(function(){switch(u=u||function(p){switch(i(p)){case"string":return"string";case"element":return p.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),u){case"string":return this.then(t).then(function(p){return this.set({src:r("div",{innerHTML:l,dompurify:p})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},c.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(n).then(function(u){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,u(this.prop.container,p)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(n).then(function(u){var p=this.opt.jsPDF,g=this.opt.fontFaces,S=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:S,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,p.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=g,g)for(var h=0;h<g.length;++h){var j=g[h],L=j.src.find(function(B){return B.format==="truetype"});L&&p.addFont(L.url,j.ref.name,j.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,p.context2d.save(!0),u(this.prop.container,A)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(l,u,p){return(p=p||"pdf").toLowerCase()==="img"||p.toLowerCase()==="image"?this.outputImg(l,u):this.outputPdf(l,u)},c.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,u)})},c.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},c.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(l){if(i(l)!=="object")return this;var u=Object.keys(l||{}).map(function(p){if(p in c.template.prop)return function(){this.prop[p]=l[p]};switch(p){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[p]=l[p]}}},this);return this.then(function(){return this.thenList(u)})},c.prototype.get=function(l,u){return this.then(function(){var p=l in c.template.prop?this.prop[l]:this.opt[l];return u?u(p):p})},c.prototype.setMargin=function(l){return this.then(function(){switch(i(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},c.prototype.setPageSize=function(l){function u(p,g){return Math.floor(p*g/72*96)}return this.then(function(){(l=l||Ze.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},c.prototype.setProgress=function(l,u,p,g){return l!=null&&(this.progress.val=l),u!=null&&(this.progress.state=u),p!=null&&(this.progress.n=p),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(l,u,p,g){return this.setProgress(l?this.progress.val+l:null,u||null,p?this.progress.n+p:null,g?this.progress.stack.concat(g):null)},c.prototype.then=function(l,u){var p=this;return this.thenCore(l,u,function(g,S){return p.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(A){return p.updateProgress(null,g),A}).then(g,S).then(function(A){return p.updateProgress(1),A})})},c.prototype.thenCore=function(l,u,p){p=p||Promise.prototype.then;var g=this;l&&(l=l.bind(g)),u&&(u=u.bind(g));var S=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:c.convert(Object.assign({},g),Promise.prototype),A=p.call(S,l,u);return c.convert(A,g.__proto__)},c.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},c.prototype.thenList=function(l){var u=this;return l.forEach(function(p){u=u.thenCore(p)}),u},c.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return c.convert(u,this)},c.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},c.prototype.error=function(l){return this.then(function(){throw new Error(l)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Ze.getPageSize=function(l,u,p){if($t(l)==="object"){var g=l;l=g.orientation,u=g.unit||u,p=g.format||p}u=u||"mm",p=p||"a4",l=(""+(l||"P")).toLowerCase();var S,A=(""+p).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":S=1;break;case"mm":S=72/25.4;break;case"cm":S=72/2.54;break;case"in":S=72;break;case"px":S=.75;break;case"pc":case"em":S=12;break;case"ex":S=6;break;default:throw"Invalid unit: "+u}var j,L=0,B=0;if(h.hasOwnProperty(A))L=h[A][1]/S,B=h[A][0]/S;else try{L=p[1],B=p[0]}catch{throw new Error("Invalid format: "+p)}if(l==="p"||l==="portrait")l="p",B>L&&(j=B,B=L,L=j);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",L>B&&(j=B,B=L,L=j)}return{width:B,height:L,unit:u,k:S,orientation:l}},e.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(Td):null;var p=new c(u);return u.worker?p:p.from(l).doCallback()}}(Ze.API),Ze.API.addJS=function(e){return mp=e,this.internal.events.subscribe("postPutResources",function(){Zl=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Zl+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),hp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+mp+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Zl!==void 0&&hp!==void 0&&this.internal.out("/Names <</JavaScript "+Zl+" 0 R>>")}),this},function(e){var n;e.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),o=0;o<r.length;o++){var c=r[o],l=i.exec(c);if(l!=null){var u=l[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,g=[];for(o=0;o<p;o++){var S=t.internal.newObject();g.push(S);var A=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var h=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<g.length;o++)t.internal.write("(page_"+(o+1)+")"+g[o]+" 0 R");t.internal.write(" ] >>","endobj"),n=t.internal.newObject(),t.internal.write("<< /Dests "+h+" 0 R"),t.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+n+" 0 R"))}]),e.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,r,o){var c={title:r,options:o,children:[]};return i==null&&(i=this.root),i.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var c=i.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var l=this.count=this.count_r({count:0},c);if(l>0&&this.line("/Count "+l),c.options&&c.options.pageNumber){var u=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var p=0;p<i.children.length;p++)this.renderItems(i.children[p])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,r){for(var o=0;o<r.children.length;o++)i.count++,this.count_r(i,r.children[o]);return i.count}}])}(Ze.API),function(e){var n=[192,193,194,195,196,197,198,199];e.processJPEG=function(t,i,r,o,c,l){var u,p=this.decode.DCT_DECODE,g=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,u=function(S){for(var A,h=256*S.charCodeAt(4)+S.charCodeAt(5),j=S.length,L={width:0,height:0,numcomponents:1},B=4;B<j;B+=2){if(B+=h,n.indexOf(S.charCodeAt(B+1))!==-1){A=256*S.charCodeAt(B+5)+S.charCodeAt(B+6),L={width:256*S.charCodeAt(B+7)+S.charCodeAt(B+8),height:A,numcomponents:S.charCodeAt(B+9)};break}h=256*S.charCodeAt(B+2)+S.charCodeAt(B+3)}return L}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),u.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}g={data:t,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:p,index:i,alias:r}}return g}}(Ze.API),Ze.API.processPNG=function(e,n,t,i){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var r,o=ip(e,{checkCrc:!0}),c=o.width,l=o.height,u=o.channels,p=o.palette,g=o.depth;r=p&&u===1?function(Q){for(var z=Q.width,oe=Q.height,O=Q.data,T=Q.palette,W=Q.depth,G=!1,le=[],fe=[],he=void 0,se=!1,ge=0,Me=0;Me<T.length;Me++){var Pe=$c(T[Me],4),C=Pe[0],R=Pe[1],U=Pe[2],$=Pe[3];le.push(C,R,U),$!=null&&($===0?(ge++,fe.length<1&&fe.push(Me)):$<255&&(se=!0))}if(se||ge>1){G=!0,fe=void 0;var J=z*oe;he=new Uint8Array(J);for(var ie=new DataView(O.buffer),de=0;de<J;de++){var ue=jd(ie,de,W),xe=$c(T[ue],4)[3];he[de]=xe}}else ge===0&&(fe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:G?8:void 0,colorBytes:O,alphaBytes:he,needSMask:G,palette:le,mask:fe}}(o):u===2||u===4?function(Q){for(var z=Q.data,oe=Q.width,O=Q.height,T=Q.channels,W=Q.depth,G=T===2?"DeviceGray":"DeviceRGB",le=T-1,fe=oe*O,he=le,se=fe*he,ge=1*fe,Me=Math.ceil(se*W/8),Pe=Math.ceil(ge*W/8),C=new Uint8Array(Me),R=new Uint8Array(Pe),U=new DataView(z.buffer),$=new DataView(C.buffer),J=new DataView(R.buffer),ie=!1,de=0;de<fe;de++){for(var ue=de*T,xe=0;xe<he;xe++)Sp($,jd(U,ue+xe,W),de*he+xe,W);var Ee=jd(U,ue+he,W);Ee<(1<<W)-1&&(ie=!0),Sp(J,Ee,1*de,W)}return{colorSpace:G,colorsPerPixel:le,sMaskBitsPerComponent:ie?W:void 0,colorBytes:C,alphaBytes:R,needSMask:ie}}(o):function(Q){var z=Q.data,oe=Q.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:oe,colorsPerPixel:oe==="DeviceGray"?1:3,colorBytes:z instanceof Uint16Array?function(O){for(var T=O.length,W=new Uint8Array(2*T),G=new DataView(W.buffer,W.byteOffset,W.byteLength),le=0;le<T;le++)G.setUint16(2*le,O[le],!1);return W}(z):z,needSMask:!1}}(o);var S,A,h,j=r,L=j.colorSpace,B=j.colorsPerPixel,k=j.sMaskBitsPerComponent,Y=j.colorBytes,K=j.alphaBytes,V=j.needSMask,ce=j.palette,ye=j.mask,_e=null;return i!==Ze.API.image_compression.NONE&&typeof Sl=="function"?(_e=function(Q){var z;switch(Q){case Ze.API.image_compression.FAST:z=11;break;case Ze.API.image_compression.MEDIUM:z=13;break;case Ze.API.image_compression.SLOW:z=14;break;default:z=12}return z}(i),S=this.decode.FLATE_DECODE,A="/Predictor ".concat(_e," /Colors ").concat(B," /BitsPerComponent ").concat(g," /Columns ").concat(c),e=bp(Y,Math.ceil(c*B*g/8),B,g,i),V&&(h=bp(K,Math.ceil(c*k/8),1,k,i))):(S=void 0,A=void 0,e=Y,V&&(h=K)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:t,data:e,index:n,filter:S,decodeParameters:A,transparency:ye,palette:ce,sMask:h,predictor:_e,width:c,height:l,bitsPerComponent:g,sMaskBitsPerComponent:k,colorSpace:L}}},function(e){e.processGIF89A=function(n,t,i,r){var o=new t_(n),c=o.width,l=o.height,u=[];o.decodeAndBlitFrameRGBA(0,u);var p={data:u,width:c,height:l},g=new Rd(100).encode(p,100);return e.processJPEG.call(this,g,t,i,r)},e.processGIF87A=e.processGIF89A}(Ze.API),Yi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var n=0;n<e;n++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[n]={red:r,green:i,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Yi.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,n=this.width*this.height*4;this.data=new Uint8Array(n),this[e]()}catch(t){Kt.log("bit decode error:"+t)}},Yi.prototype.bit1=function(){var e,n=Math.ceil(this.width/8),t=n%4;for(e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<n;r++)for(var o=this.datav.getUint8(this.pos++,!0),c=i*this.width*4+8*r*4,l=0;l<8&&8*r+l<this.width;l++){var u=this.palette[o>>7-l&1];this.data[c+4*l]=u.blue,this.data[c+4*l+1]=u.green,this.data[c+4*l+2]=u.red,this.data[c+4*l+3]=255}t!==0&&(this.pos+=4-t)}},Yi.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),n=e%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<e;r++){var o=this.datav.getUint8(this.pos++,!0),c=i*this.width*4+2*r*4,l=o>>4,u=15&o,p=this.palette[l];if(this.data[c]=p.blue,this.data[c+1]=p.green,this.data[c+2]=p.red,this.data[c+3]=255,2*r+1>=this.width)break;p=this.palette[u],this.data[c+4]=p.blue,this.data[c+4+1]=p.green,this.data[c+4+2]=p.red,this.data[c+4+3]=255}n!==0&&(this.pos+=4-n)}},Yi.prototype.bit8=function(){for(var e=this.width%4,n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*i;if(r<this.palette.length){var c=this.palette[r];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}e!==0&&(this.pos+=4-e)}},Yi.prototype.bit15=function(){for(var e=this.width%3,n=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&n)/n*255|0,l=(o>>5&n)/n*255|0,u=(o>>10&n)/n*255|0,p=o>>15?255:0,g=i*this.width*4+4*r;this.data[g]=u,this.data[g+1]=l,this.data[g+2]=c,this.data[g+3]=p}this.pos+=e}},Yi.prototype.bit16=function(){for(var e=this.width%3,n=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(c&n)/n*255|0,u=(c>>5&t)/t*255|0,p=(c>>11)/n*255|0,g=r*this.width*4+4*o;this.data[g]=p,this.data[g+1]=u,this.data[g+2]=l,this.data[g+3]=255}this.pos+=e}},Yi.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+4*t;this.data[c]=o,this.data[c+1]=r,this.data[c+2]=i,this.data[c+3]=255}this.pos+=this.width%4}},Yi.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var n=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+4*t;this.data[l]=o,this.data[l+1]=r,this.data[l+2]=i,this.data[l+3]=c}},Yi.prototype.getData=function(){return this.data},function(e){e.processBMP=function(n,t,i,r){var o=new Yi(n,!1),c=o.width,l=o.height,u={data:o.getData(),width:c,height:l},p=new Rd(100).encode(u,100);return e.processJPEG.call(this,p,t,i,r)}}(Ze.API),Ap.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(n,t,i,r){var o=new Ap(n),c=o.width,l=o.height,u={data:o.getData(),width:c,height:l},p=new Rd(100).encode(u,100);return e.processJPEG.call(this,p,t,i,r)}}(Ze.API),Ze.API.processRGBA=function(e,n,t){for(var i=e.data,r=i.length,o=new Uint8Array(r/4*3),c=new Uint8Array(r/4),l=0,u=0,p=0;p<r;p+=4){var g=i[p],S=i[p+1],A=i[p+2],h=i[p+3];o[l++]=g,o[l++]=S,o[l++]=A,c[u++]=h}var j=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:j,index:n,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ze.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Na=Ze.API,Yl=Na.getCharWidthsArray=function(e,n){var t,i,r=(n=n||{}).font||this.internal.getFont(),o=n.fontSize||this.internal.getFontSize(),c=n.charSpace||this.internal.getCharSpace(),l=n.widths?n.widths:r.metadata.Unicode.widths,u=l.fof?l.fof:1,p=n.kerning?n.kerning:r.metadata.Unicode.kerning,g=p.fof?p.fof:1,S=n.doKerning!==!1,A=0,h=e.length,j=0,L=l[0]||u,B=[];for(t=0;t<h;t++)i=e.charCodeAt(t),typeof r.metadata.widthOfString=="function"?B.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+c*(1e3/o)||0)/1e3):(A=S&&$t(p[i])==="object"&&!isNaN(parseInt(p[i][j],10))?p[i][j]/g:0,B.push((l[i]||L)/u+A)),j=i;return B},gp=Na.getStringUnitWidth=function(e,n){var t=(n=n||{}).fontSize||this.internal.getFontSize(),i=n.font||this.internal.getFont(),r=n.charSpace||this.internal.getCharSpace();return Na.processArabic&&(e=Na.processArabic(e)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(e,t,r)/t:Yl.apply(this,arguments).reduce(function(o,c){return o+c},0)},_p=function(e,n,t,i){for(var r=[],o=0,c=e.length,l=0;o!==c&&l+n[o]<t;)l+=n[o],o++;r.push(e.slice(0,o));var u=o;for(l=0;o!==c;)l+n[o]>i&&(r.push(e.slice(u,o)),l=0,u=o),l+=n[o],o++;return u!==o&&r.push(e.slice(u,o)),r},vp=function(e,n,t){t||(t={});var i,r,o,c,l,u,p,g=[],S=[g],A=t.textIndent||0,h=0,j=0,L=e.split(" "),B=Yl.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?L[0].length+2:t.lineIndent||0){var k=Array(u).join(" "),Y=[];L.map(function(V){(V=V.split(/\s*\n/)).length>1?Y=Y.concat(V.map(function(ce,ye){return(ye&&ce.length?`
`:"")+ce})):Y.push(V[0])}),L=Y,u=gp.apply(this,[k,t])}for(o=0,c=L.length;o<c;o++){var K=0;if(i=L[o],u&&i[0]==`
`&&(i=i.substr(1),K=1),A+h+(j=(r=Yl.apply(this,[i,t])).reduce(function(V,ce){return V+ce},0))>n||K){if(j>n){for(l=_p.apply(this,[i,r,n-(A+h),n]),g.push(l.shift()),g=[l.pop()];l.length;)S.push([l.shift()]);j=r.slice(i.length-(g[0]?g[0].length:0)).reduce(function(V,ce){return V+ce},0)}else g=[i];S.push(g),A=j+u,h=B}else g.push(i),A+=h+j,h=B}return p=u?function(V,ce){return(ce?k:"")+V.join(" ")}:function(V){return V.join(" ")},S.map(p)},Na.splitTextToSize=function(e,n,t){var i,r=(t=t||{}).fontSize||this.internal.getFontSize(),o=function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var S=this.internal.getFont(g.fontName,g.fontStyle),A="Unicode";return S.metadata[A]?{widths:S.metadata[A].widths||{0:1},kerning:S.metadata[A].kerning||{}}:{font:S.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);i=Array.isArray(e)?e:String(e).split(/\r?\n/);var c=1*this.internal.scaleFactor*n/r;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/r:0,o.lineIndent=t.lineIndent;var l,u,p=[];for(l=0,u=i.length;l<u;l++)p=p.concat(vp.apply(this,[i[l],c,o]));return p},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var n="0123456789abcdef",t="klmnopqrstuvwxyz",i={},r={},o=0;o<16;o++)i[t[o]]=n[o],r[n[o]]=t[o];var c=function(A){return"0x"+parseInt(A,10).toString(16)},l=e.__fontmetrics__.compress=function(A){var h,j,L,B,k=["{"];for(var Y in A){if(h=A[Y],isNaN(parseInt(Y,10))?j="'"+Y+"'":(Y=parseInt(Y,10),j=(j=c(Y).slice(2)).slice(0,-1)+r[j.slice(-1)]),typeof h=="number")h<0?(L=c(h).slice(3),B="-"):(L=c(h).slice(2),B=""),L=B+L.slice(0,-1)+r[L.slice(-1)];else{if($t(h)!=="object")throw new Error("Don't know what to do with value type "+$t(h)+".");L=l(h)}k.push(j+L)}return k.push("}"),k.join("")},u=e.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,j,L,B,k={},Y=1,K=k,V=[],ce="",ye="",_e=A.length-1,Q=1;Q<_e;Q+=1)(B=A[Q])=="'"?h?(L=h.join(""),h=void 0):h=[]:h?h.push(B):B=="{"?(V.push([K,L]),K={},L=void 0):B=="}"?((j=V.pop())[0][j[1]]=K,L=void 0,K=j[0]):B=="-"?Y=-1:L===void 0?i.hasOwnProperty(B)?(ce+=i[B],L=parseInt(ce,16)*Y,Y=1,ce=""):ce+=B:i.hasOwnProperty(B)?(ye+=i[B],K[L]=parseInt(ye,16)*Y,Y=1,L=void 0,ye=""):ye+=B;return k},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},S={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(A){var h=A.font,j=S.Unicode[h.postScriptName];j&&(h.metadata.Unicode={},h.metadata.Unicode.widths=j.widths,h.metadata.Unicode.kerning=j.kerning);var L=g.Unicode[h.postScriptName];L&&(h.metadata.Unicode.encoding=L,h.encoding=L.codePages[0])}])}(Ze.API),function(e){var n=function(t){for(var i=t.length,r=new Uint8Array(i),o=0;o<i;o++)r[o]=t.charCodeAt(o);return r};e.API.events.push(["addFont",function(t){var i=void 0,r=t.font,o=t.instance;if(!r.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=o.existsFileInVFS(r.postScriptName)===!1?o.loadFile(r.postScriptName):o.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(c,l){l=/^\x00\x01\x00\x00/.test(l)?n(l):n(Kl(l)),c.metadata=e.API.TTFFont.open(l),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(r,i)}}])}(Ze),Ze.API.addSvgAsImage=function(e,n,t,i,r,o,c,l){if(isNaN(n)||isNaN(t))throw Kt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(r))throw Kt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=r;var p=u.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,u.width,u.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},S=this;return(lt.canvg?Promise.resolve(lt.canvg):import("./chunk-TAWYNOWT.js")).catch(function(A){return Promise.reject(new Error("Could not load canvg: "+A))}).then(function(A){return A.default?A.default:A}).then(function(A){return A.fromString(p,e,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(g)}).then(function(){S.addImage(u.toDataURL("image/jpeg",1),n,t,i,r,c,l)})},Ze.API.putTotalPages=function(e){var n,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(n=new RegExp(e,"g"),t=this.internal.getNumberOfPages()):(n=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(n,t);return this},Ze.API.viewerPreferences=function(e,n){var t;e=e||{},n=n||!1;var i,r,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(c),u=[],p=0,g=0,S=0;function A(j,L){var B,k=!1;for(B=0;B<j.length;B+=1)j[B]===L&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,e==="reset"||n===!0){var h=l.length;for(S=0;S<h;S+=1)t[l[S]].value=t[l[S]].defaultValue,t[l[S]].explicitSet=!1}if($t(e)==="object"){for(r in e)if(o=e[r],A(l,r)&&o!==void 0){if(t[r].type==="boolean"&&typeof o=="boolean")t[r].value=o;else if(t[r].type==="name"&&A(t[r].valueSet,o))t[r].value=o;else if(t[r].type==="integer"&&Number.isInteger(o))t[r].value=o;else if(t[r].type==="array"){for(p=0;p<o.length;p+=1)if(i=!0,o[p].length===1&&typeof o[p][0]=="number")u.push(String(o[p]-1));else if(o[p].length>1){for(g=0;g<o[p].length;g+=1)typeof o[p][g]!="number"&&(i=!1);i===!0&&u.push([o[p][0]-1,o[p][1]-1].join(" "))}t[r].value="["+u.join(" ")+"]"}else t[r].value=t[r].defaultValue;t[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var j,L=[];for(j in t)t[j].explicitSet===!0&&(t[j].type==="name"?L.push("/"+j+" /"+t[j].value):L.push("/"+j+" "+t[j].value));L.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+L.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(e){var n=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),p=o.length+c.length+l.length+r.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(r+o+c+l+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",n)),this}}(Ze.API),function(e){var n=e.API,t=n.pdfEscape16=function(o,c){for(var l,u=c.metadata.Unicode.widths,p=["","0","00","000","0000"],g=[""],S=0,A=o.length;S<A;++S){if(l=c.metadata.characterToGlyph(o.charCodeAt(S)),c.metadata.glyIdsUsed.push(l),c.metadata.toUnicode[l]=o.charCodeAt(S),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(c.metadata.widthOfGlyph(l),10)])),l=="0")return g.join("");l=l.toString(16),g.push(p[4-l.length],l)}return g.join("")},i=function(o){var c,l,u,p,g,S,A;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],S=0,A=(l=Object.keys(o).sort(function(h,j){return h-j})).length;S<A;S++)c=l[S],u.length>=100&&(g+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(p=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),u.push("<"+c+"><"+p+">"));return u.length&&(g+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};n.events.push(["putFont",function(o){(function(c){var l=c.font,u=c.out,p=c.newObject,g=c.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var S=l.metadata.Unicode.widths,A=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",j=0;j<A.length;j++)h+=String.fromCharCode(A[j]);var L=p();g({data:h,addLength1:!0,objectId:L}),u("endobj");var B=p();g({data:i(l.metadata.toUnicode),addLength1:!0,objectId:B}),u("endobj");var k=p();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Ea(l.fontName)),u("/FontFile2 "+L+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var Y=p();u("<<"),u("/Type /Font"),u("/BaseFont /"+Ea(l.fontName)),u("/FontDescriptor "+k+" 0 R"),u("/W "+e.API.PDFObject.convert(S)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=p(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+B+" 0 R"),u("/BaseFont /"+Ea(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+Y+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(o)}]),n.events.push(["putFont",function(o){(function(c){var l=c.font,u=c.out,p=c.newObject,g=c.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var S=l.metadata.rawData,A="",h=0;h<S.length;h++)A+=String.fromCharCode(S[h]);var j=p();g({data:A,addLength1:!0,objectId:j}),u("endobj");var L=p();g({data:i(l.metadata.toUnicode),addLength1:!0,objectId:L}),u("endobj");var B=p();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+j+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+Ea(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=p();for(var k=0;k<l.metadata.hmtx.widths.length;k++)l.metadata.hmtx.widths[k]=parseInt(l.metadata.hmtx.widths[k]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+L+" 0 R/BaseFont/"+Ea(l.fontName)+"/FontDescriptor "+B+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(o)}]);var r=function(o){var c,l=o.text||"",u=o.x,p=o.y,g=o.options||{},S=o.mutex||{},A=S.pdfEscape,h=S.activeFontKey,j=S.fonts,L=h,B="",k=0,Y="",K=j[L].encoding;if(j[L].encoding!=="Identity-H")return{text:l,x:u,y:p,options:g,mutex:S};for(Y=l,L=h,Array.isArray(l)&&(Y=l[0]),k=0;k<Y.length;k+=1)j[L].metadata.hasOwnProperty("cmap")&&(c=j[L].metadata.cmap.unicode.codeMap[Y[k].charCodeAt(0)]),c||Y[k].charCodeAt(0)<256&&j[L].metadata.hasOwnProperty("Unicode")?B+=Y[k]:B+="";var V="";return parseInt(L.slice(1))<14||K==="WinAnsiEncoding"?V=A(B,L).split("").map(function(ce){return ce.charCodeAt(0).toString(16)}).join(""):K==="Identity-H"&&(V=t(B,j[L])),S.isHex=!0,{text:V,x:u,y:p,options:g,mutex:S}};n.events.push(["postProcessText",function(o){var c=o.text||"",l=[],u={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var p=0;for(p=0;p<c.length;p+=1)Array.isArray(c[p])&&c[p].length===3?l.push([r(Object.assign({},u,{text:c[p][0]})).text,c[p][1],c[p][2]]):l.push(r(Object.assign({},u,{text:c[p]})).text);o.text=l}else o.text=r(Object.assign({},u,{text:c})).text}])}(Ze),function(e){var n=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(t){return n.call(this),this.internal.vFS[t]!==void 0},e.addFileToVFS=function(t,i){return n.call(this),this.internal.vFS[t]=i,this},e.getFileFromVFS=function(t){return n.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Ze.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(i){var r,o,c,l,u,p,g,S=n,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},L={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},B=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Y=!1,K=0;this.__bidiEngine__={};var V=function(O){var T=O.charCodeAt(),W=T>>8,G=L[W];return G!==void 0?S[256*G+(255&T)]:W===252||W===253?"AL":k.test(W)?"L":W===8?"R":"N"},ce=function(O){for(var T,W=0;W<O.length;W++){if((T=V(O.charAt(W)))==="L")return!1;if(T==="R")return!0}return!1},ye=function(O,T,W,G){var le,fe,he,se,ge=T[G];switch(ge){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Y=!1;break;case"N":case"AN":break;case"EN":Y&&(ge="AN");break;case"AL":Y=!0,ge="R";break;case"WS":case"BN":ge="N";break;case"CS":G<1||G+1>=T.length||(le=W[G-1])!=="EN"&&le!=="AN"||(fe=T[G+1])!=="EN"&&fe!=="AN"?ge="N":Y&&(fe="AN"),ge=fe===le?fe:"N";break;case"ES":ge=(le=G>0?W[G-1]:"B")==="EN"&&G+1<T.length&&T[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&W[G-1]==="EN"){ge="EN";break}if(Y){ge="N";break}for(he=G+1,se=T.length;he<se&&T[he]==="ET";)he++;ge=he<se&&T[he]==="EN"?"EN":"N";break;case"NSM":if(c&&!l){for(se=T.length,he=G+1;he<se&&T[he]==="NSM";)he++;if(he<se){var Me=O[G],Pe=Me>=1425&&Me<=2303||Me===64286;if(le=T[he],Pe&&(le==="R"||le==="AL")){ge="R";break}}}ge=G<1||(le=T[G-1])==="B"?"N":W[G-1];break;case"B":Y=!1,r=!0,ge=K;break;case"S":o=!0,ge="N"}return ge},_e=function(O,T,W){var G=O.split("");return W&&Q(G,W,{hiLevel:K}),G.reverse(),T&&T.reverse(),G.join("")},Q=function(O,T,W){var G,le,fe,he,se,ge=-1,Me=O.length,Pe=0,C=[],R=K?h:A,U=[];for(Y=!1,r=!1,o=!1,le=0;le<Me;le++)U[le]=V(O[le]);for(fe=0;fe<Me;fe++){if(se=Pe,C[fe]=ye(O,U,C,fe),G=240&(Pe=R[se][j[C[fe]]]),Pe&=15,T[fe]=he=R[Pe][5],G>0)if(G===16){for(le=ge;le<fe;le++)T[le]=1;ge=-1}else ge=-1;if(R[Pe][6])ge===-1&&(ge=fe);else if(ge>-1){for(le=ge;le<fe;le++)T[le]=he;ge=-1}U[fe]==="B"&&(T[fe]=0),W.hiLevel|=he}o&&function($,J,ie){for(var de=0;de<ie;de++)if($[de]==="S"){J[de]=K;for(var ue=de-1;ue>=0&&$[ue]==="WS";ue--)J[ue]=K}}(U,T,Me)},z=function(O,T,W,G,le){if(!(le.hiLevel<O)){if(O===1&&K===1&&!r)return T.reverse(),void(W&&W.reverse());for(var fe,he,se,ge,Me=T.length,Pe=0;Pe<Me;){if(G[Pe]>=O){for(se=Pe+1;se<Me&&G[se]>=O;)se++;for(ge=Pe,he=se-1;ge<he;ge++,he--)fe=T[ge],T[ge]=T[he],T[he]=fe,W&&(fe=W[ge],W[ge]=W[he],W[he]=fe);Pe=se}Pe++}}},oe=function(O,T,W){var G=O.split(""),le={hiLevel:K};return W||(W=[]),Q(G,W,le),function(fe,he,se){if(se.hiLevel!==0&&g)for(var ge,Me=0;Me<fe.length;Me++)he[Me]===1&&(ge=B.indexOf(fe[Me]))>=0&&(fe[Me]=B[ge+1])}(G,W,le),z(2,G,T,W,le),z(1,G,T,W,le),G.join("")};return this.__bidiEngine__.doBidiReorder=function(O,T,W){if(function(le,fe){if(fe)for(var he=0;he<le.length;he++)fe[he]=he;l===void 0&&(l=ce(le)),p===void 0&&(p=ce(le))}(O,T),c||!u||p)if(c&&u&&l^p)K=l?1:0,O=_e(O,T,W);else if(!c&&u&&p)K=l?1:0,O=oe(O,T,W),O=_e(O,T);else if(!c||l||u||p){if(c&&!u&&l^p)O=_e(O,T),l?(K=0,O=oe(O,T,W)):(K=1,O=oe(O,T,W),O=_e(O,T));else if(c&&l&&!u&&p)K=1,O=oe(O,T,W),O=_e(O,T);else if(!c&&!u&&l^p){var G=g;l?(K=1,O=oe(O,T,W),K=0,g=!1,O=oe(O,T,W),g=G):(K=0,O=oe(O,T,W),O=_e(O,T),K=1,g=!1,O=oe(O,T,W),g=G,O=_e(O,T))}}else K=0,O=oe(O,T,W);else K=l?1:0,O=oe(O,T,W);return O},this.__bidiEngine__.setOptions=function(O){O&&(c=O.isInputVisual,u=O.isOutputVisual,l=O.isInputRtl,p=O.isOutputRtl,g=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var n=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var o=i.options||{};i.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(r)==="[object Array]"){var l=0;for(c=[],l=0;l<r.length;l+=1)Object.prototype.toString.call(r[l])==="[object Array]"?c.push([t.doBidiReorder(r[l][0]),r[l][1],r[l][2]]):c.push([t.doBidiReorder(r[l])]);i.text=c}else i.text=t.doBidiReorder(r);t.setOptions({isInputVisual:!0})}])}(Ze),Ze.API.TTFFont=function(){function e(n){var t;if(this.rawData=n,t=this.contents=new mo(n),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new g_(this),this.registerTTF()}return e.open=function(n){return new e(n)},e.prototype.parse=function(){return this.directory=new n_(this.contents),this.head=new r_(this),this.name=new c_(this),this.cmap=new Bp(this),this.toUnicode={},this.hhea=new o_(this),this.maxp=new d_(this),this.hmtx=new u_(this),this.post=new s_(this),this.os2=new a_(this),this.loca=new m_(this),this.glyf=new f_(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var n,t,i,r,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var c,l,u,p;for(p=[],c=0,l=(u=this.bbox).length;c<l;c++)n=u[c],p.push(Math.round(n*this.scaleFactor));return p}.call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(n){var t;return((t=this.cmap.unicode)!=null?t.codeMap[n]:void 0)||0},e.prototype.widthOfGlyph=function(n){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(n).advance*t},e.prototype.widthOfString=function(n,t,i){var r,o,c,l;for(c=0,o=0,l=(n=""+n).length;0<=l?o<l:o>l;o=0<=l?++o:--o)r=n.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/t)||0;return c*(t/1e3)},e.prototype.lineHeight=function(n,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*n},e}();var Xi,mo=function(){function e(n){this.data=n??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(n){return this.data[this.pos++]=n},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(n){return this.writeByte(n>>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt32=function(){var n;return(n=this.readUInt32())>=2147483648?n-4294967296:n},e.prototype.writeInt32=function(n){return n<0&&(n+=4294967296),this.writeUInt32(n)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(n){return this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt16=function(){var n;return(n=this.readUInt16())>=32768?n-65536:n},e.prototype.writeInt16=function(n){return n<0&&(n+=65536),this.writeUInt16(n)},e.prototype.readString=function(n){var t,i;for(i=[],t=0;0<=n?t<n:t>n;t=0<=n?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},e.prototype.writeString=function(n){var t,i,r;for(r=[],t=0,i=n.length;0<=i?t<i:t>i;t=0<=i?++t:--t)r.push(this.writeByte(n.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(n){return this.writeInt16(n)},e.prototype.readLongLong=function(){var n,t,i,r,o,c,l,u;return n=this.readByte(),t=this.readByte(),i=this.readByte(),r=this.readByte(),o=this.readByte(),c=this.readByte(),l=this.readByte(),u=this.readByte(),128&n?-1*(72057594037927940*(255^n)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^o)+65536*(255^c)+256*(255^l)+(255^u)+1):72057594037927940*n+281474976710656*t+1099511627776*i+4294967296*r+16777216*o+65536*c+256*l+u},e.prototype.writeLongLong=function(n){var t,i;return t=Math.floor(n/4294967296),i=4294967295&n,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(n){return this.writeInt32(n)},e.prototype.read=function(n){var t,i;for(t=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)t.push(this.readByte());return t},e.prototype.write=function(n){var t,i,r,o;for(o=[],i=0,r=n.length;i<r;i++)t=n[i],o.push(this.writeByte(t));return o},e}(),n_=function(){var e;function n(t){var i,r,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},r=0,o=this.tableCount;0<=o?r<o:r>o;r=0<=o?++r:--r)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return n.prototype.encode=function(t){var i,r,o,c,l,u,p,g,S,A,h,j,L;for(L in h=Object.keys(t).length,u=Math.log(2),S=16*Math.floor(Math.log(h)/u),c=Math.floor(S/u),g=16*h-S,(r=new mo).writeInt(this.scalarType),r.writeShort(h),r.writeShort(S),r.writeShort(c),r.writeShort(g),o=16*h,p=r.pos+o,l=null,j=[],t)for(A=t[L],r.writeString(L),r.writeInt(e(A)),r.writeInt(p),r.writeInt(A.length),j=j.concat(A),L==="head"&&(l=p),p+=A.length;p%4;)j.push(0),p++;return r.write(j),i=2981146554-e(r.data),r.pos=l+8,r.writeUInt32(i),r.data},e=function(t){var i,r,o,c;for(t=zp.call(t);t.length%4;)t.push(0);for(o=new mo(t),r=0,i=0,c=t.length;i<c;i=i+=4)r+=o.readUInt32();return 4294967295&r},n}(),i_={}.hasOwnProperty,vr=function(e,n){for(var t in n)i_.call(n,t)&&(e[t]=n[t]);function i(){this.constructor=e}return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};Xi=function(){function e(n){var t;this.file=n,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var r_=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vr(e,Xi),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var t;return(t=new mo).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(n),t.writeShort(this.glyphDataFormat),t.data},e}(),Op=function(){function e(n,t){var i,r,o,c,l,u,p,g,S,A,h,j,L,B,k,Y,K;switch(this.platformID=n.readUInt16(),this.encodingID=n.readShort(),this.offset=t+n.readInt(),S=n.pos,n.pos=this.offset,this.format=n.readUInt16(),this.length=n.readUInt16(),this.language=n.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=n.readByte();break;case 4:for(h=n.readUInt16(),A=h/2,n.pos+=6,o=function(){var V,ce;for(ce=[],u=V=0;0<=A?V<A:V>A;u=0<=A?++V:--V)ce.push(n.readUInt16());return ce}(),n.pos+=2,L=function(){var V,ce;for(ce=[],u=V=0;0<=A?V<A:V>A;u=0<=A?++V:--V)ce.push(n.readUInt16());return ce}(),p=function(){var V,ce;for(ce=[],u=V=0;0<=A?V<A:V>A;u=0<=A?++V:--V)ce.push(n.readUInt16());return ce}(),g=function(){var V,ce;for(ce=[],u=V=0;0<=A?V<A:V>A;u=0<=A?++V:--V)ce.push(n.readUInt16());return ce}(),r=(this.length-n.pos+this.offset)/2,l=function(){var V,ce;for(ce=[],u=V=0;0<=r?V<r:V>r;u=0<=r?++V:--V)ce.push(n.readUInt16());return ce}(),u=k=0,K=o.length;k<K;u=++k)for(B=o[u],i=Y=j=L[u];j<=B?Y<=B:Y>=B;i=j<=B?++Y:--Y)g[u]===0?c=i+p[u]:(c=l[g[u]/2+(i-j)-(A-u)]||0)!==0&&(c+=p[u]),this.codeMap[i]=65535&c}n.pos=S}return e.encode=function(n,t){var i,r,o,c,l,u,p,g,S,A,h,j,L,B,k,Y,K,V,ce,ye,_e,Q,z,oe,O,T,W,G,le,fe,he,se,ge,Me,Pe,C,R,U,$,J,ie,de,ue,xe,Ee,Te;switch(G=new mo,c=Object.keys(n).sort(function(Fe,Xe){return Fe-Xe}),t){case"macroman":for(L=0,B=function(){var Fe=[];for(j=0;j<256;++j)Fe.push(0);return Fe}(),Y={0:0},o={},le=0,ge=c.length;le<ge;le++)Y[ue=n[r=c[le]]]==null&&(Y[ue]=++L),o[r]={old:n[r],new:Y[n[r]]},B[r]=Y[n[r]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(B),{charMap:o,subtable:G.data,maxGlyphID:L+1};case"unicode":for(T=[],S=[],K=0,Y={},i={},k=p=null,fe=0,Me=c.length;fe<Me;fe++)Y[ce=n[r=c[fe]]]==null&&(Y[ce]=++K),i[r]={old:ce,new:Y[ce]},l=Y[ce]-r,k!=null&&l===p||(k&&S.push(k),T.push(r),p=l),k=r;for(k&&S.push(k),S.push(65535),T.push(65535),oe=2*(z=T.length),Q=2*Math.pow(Math.log(z)/Math.LN2,2),A=Math.log(Q/2)/Math.LN2,_e=2*z-Q,u=[],ye=[],h=[],j=he=0,Pe=T.length;he<Pe;j=++he){if(O=T[j],g=S[j],O===65535){u.push(0),ye.push(0);break}if(O-(W=i[O].new)>=32768)for(u.push(0),ye.push(2*(h.length+z-j)),r=se=O;O<=g?se<=g:se>=g;r=O<=g?++se:--se)h.push(i[r].new);else u.push(W-O),ye.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*z+2*h.length),G.writeUInt16(0),G.writeUInt16(oe),G.writeUInt16(Q),G.writeUInt16(A),G.writeUInt16(_e),ie=0,C=S.length;ie<C;ie++)r=S[ie],G.writeUInt16(r);for(G.writeUInt16(0),de=0,R=T.length;de<R;de++)r=T[de],G.writeUInt16(r);for(xe=0,U=u.length;xe<U;xe++)l=u[xe],G.writeUInt16(l);for(Ee=0,$=ye.length;Ee<$;Ee++)V=ye[Ee],G.writeUInt16(V);for(Te=0,J=h.length;Te<J;Te++)L=h[Te],G.writeUInt16(L);return{charMap:i,subtable:G.data,maxGlyphID:K+1}}},e}(),Bp=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vr(e,Xi),e.prototype.tag="cmap",e.prototype.parse=function(n){var t,i,r;for(n.pos=this.offset,this.version=n.readUInt16(),r=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)t=new Op(n,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},e.encode=function(n,t){var i,r;return t==null&&(t="macroman"),i=Op.encode(n,t),(r=new mo).writeUInt16(0),r.writeUInt16(1),i.table=r.data.concat(i.subtable),i},e}(),o_=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vr(e,Xi),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),a_=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vr(e,Xi),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var t,i;for(i=[],t=0;t<10;++t)i.push(n.readByte());return i}(),this.charRange=function(){var t,i;for(i=[],t=0;t<4;++t)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var t,i;for(i=[],t=0;t<2;t=++t)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),s_=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vr(e,Xi),e.prototype.tag="post",e.prototype.parse=function(n){var t,i,r;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],r=[];n.pos<this.offset+this.length;)t=n.readByte(),r.push(this.names.push(n.readString(t)));return r;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 262144:return this.map=function(){var c,l,u;for(u=[],o=c=0,l=this.file.maxp.numGlyphs;0<=l?c<l:c>l;o=0<=l?++c:--c)u.push(n.readUInt32());return u}.call(this)}},e}(),l_=function(e,n){this.raw=e,this.length=e.length,this.platformID=n.platformID,this.encodingID=n.encodingID,this.languageID=n.languageID},c_=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vr(e,Xi),e.prototype.tag="name",e.prototype.parse=function(n){var t,i,r,o,c,l,u,p,g,S,A;for(n.pos=this.offset,n.readShort(),t=n.readShort(),l=n.readShort(),i=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(u={},o=g=0,S=i.length;g<S;o=++g)r=i[o],n.pos=r.offset,p=n.readString(r.length),c=new l_(p,r),u[A=r.nameID]==null&&(u[A]=[]),u[r.nameID].push(c);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),d_=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vr(e,Xi),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),u_=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vr(e,Xi),e.prototype.tag="hmtx",e.prototype.parse=function(n){var t,i,r,o,c,l,u;for(n.pos=this.offset,this.metrics=[],t=0,l=this.file.hhea.numberOfMetrics;0<=l?t<l:t>l;t=0<=l?++t:--t)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,g;for(g=[],t=p=0;0<=r?p<r:p>r;t=0<=r?++p:--p)g.push(n.readInt16());return g}(),this.widths=function(){var p,g,S,A;for(A=[],p=0,g=(S=this.metrics).length;p<g;p++)o=S[p],A.push(o.advance);return A}.call(this),i=this.widths[this.widths.length-1],u=[],t=c=0;0<=r?c<r:c>r;t=0<=r?++c:--c)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),zp=[].slice,f_=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vr(e,Xi),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var t,i,r,o,c,l,u,p,g,S;return n in this.cache?this.cache[n]:(o=this.file.loca,t=this.file.contents,i=o.indexOf(n),(r=o.lengthOf(n))===0?this.cache[n]=null:(t.pos=this.offset+i,c=(l=new mo(t.read(r))).readShort(),p=l.readShort(),S=l.readShort(),u=l.readShort(),g=l.readShort(),this.cache[n]=c===-1?new h_(l,p,S,u,g):new p_(l,c,p,S,u,g),this.cache[n]))},e.prototype.encode=function(n,t,i){var r,o,c,l,u;for(c=[],o=[],l=0,u=t.length;l<u;l++)r=n[t[l]],o.push(c.length),r&&(c=c.concat(r.encode(i)));return o.push(c.length),{table:c,offsets:o}},e}(),p_=function(){function e(n,t,i,r,o,c){this.raw=n,this.numberOfContours=t,this.xMin=i,this.yMin=r,this.xMax=o,this.yMax=c,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),h_=function(){function e(n,t,i,r,o){var c,l;for(this.raw=n,this.xMin=t,this.yMin=i,this.xMax=r,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;l=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&l;)c.pos+=1&l?4:2,128&l?c.pos+=8:64&l?c.pos+=4:8&l&&(c.pos+=2)}return e.prototype.encode=function(){var n,t,i;for(t=new mo(zp.call(this.raw.data)),n=0,i=this.glyphIDs.length;n<i;++n)t.pos=this.glyphOffsets[n];return t.data},e}(),m_=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vr(e,Xi),e.prototype.tag="loca",e.prototype.parse=function(n){var t,i;return n.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?function(){var r,o;for(o=[],i=0,r=this.length;i<r;i+=2)o.push(2*n.readUInt16());return o}.call(this):function(){var r,o;for(o=[],i=0,r=this.length;i<r;i+=4)o.push(n.readUInt32());return o}.call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,t){for(var i=new Uint32Array(this.offsets.length),r=0,o=0,c=0;c<i.length;++c)if(i[c]=r,o<t.length&&t[o]==c){++o,i[c]=r;var l=this.offsets[c],u=this.offsets[c+1]-l;u>0&&(r+=u)}for(var p=new Array(4*i.length),g=0;g<i.length;++g)p[4*g+3]=255&i[g],p[4*g+2]=(65280&i[g])>>8,p[4*g+1]=(16711680&i[g])>>16,p[4*g]=(4278190080&i[g])>>24;return p},e}(),g_=function(){function e(n){this.font=n,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var n,t,i,r,o;for(t in r=this.font.cmap.tables[0].codeMap,n={},o=this.subset)i=o[t],n[t]=r[i];return n},e.prototype.glyphsFor=function(n){var t,i,r,o,c,l,u;for(r={},c=0,l=n.length;c<l;c++)r[o=n[c]]=this.font.glyf.glyphFor(o);for(o in t=[],r)(i=r[o])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(o in u=this.glyphsFor(t))i=u[o],r[o]=i;return r},e.prototype.encode=function(n,t){var i,r,o,c,l,u,p,g,S,A,h,j,L,B,k;for(r in i=Bp.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(n),h={0:0},k=i.charMap)h[(u=k[r]).old]=u.new;for(j in A=i.maxGlyphID,c)j in h||(h[j]=A++);return g=function(Y){var K,V;for(K in V={},Y)V[Y[K]]=K;return V}(h),S=Object.keys(g).sort(function(Y,K){return Y-K}),L=function(){var Y,K,V;for(V=[],Y=0,K=S.length;Y<K;Y++)l=S[Y],V.push(g[l]);return V}(),o=this.font.glyf.encode(c,L,h),p=this.font.loca.encode(o.offsets,L),B={cmap:this.font.cmap.raw(),glyf:o.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(B["OS/2"]=this.font.os2.raw()),this.font.directory.encode(B)},e}();Ze.API.PDFObject=function(){var e;function n(){}return e=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},n.convert=function(t){var i,r,o,c;if(Array.isArray(t))return"["+function(){var l,u,p;for(p=[],l=0,u=t.length;l<u;l++)i=t[l],p.push(n.convert(i));return p}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+e(t.getUTCFullYear(),4)+e(t.getUTCMonth(),2)+e(t.getUTCDate(),2)+e(t.getUTCHours(),2)+e(t.getUTCMinutes(),2)+e(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(r in o=["<<"],t)c=t[r],o.push("/"+r+" "+n.convert(c));return o.push(">>"),o.join(`
`)}return""+t},n}();var Up=Oh(Nh());function __(e,n){if(e&1&&Ge(0,"img",16),e&2){let t=we();ne("src",t.order==null?null:t.order.imageBase64,Nu)}}function v_(e,n){if(e&1&&(x(0,"tr")(1,"td"),M(2),b(),x(3,"td"),M(4),on(5,"number"),b(),x(6,"td"),M(7),b(),x(8,"td"),M(9),on(10,"number"),b(),x(11,"td"),M(12),on(13,"number"),b()()),e&2){let t,i,r,o=n.$implicit;q(2),Je((o.product==null?null:o.product.name)||"\u2014"),q(2),Je(On(5,5,(t=o.product==null?null:o.product.price)!==null&&t!==void 0?t:0,"1.2-2")),q(3),Je((i=o.quantity)!==null&&i!==void 0?i:0),q(2),Je(On(10,8,(r=o.total)!==null&&r!==void 0?r:((r=o.product==null?null:o.product.price)!==null&&r!==void 0?r:0)*((r=o.quantity)!==null&&r!==void 0?r:0),"1.2-2")),q(3),Je(o.product.iva?On(13,11,o.quantity*o.product.price*.16,"1.2-2"):0)}}function b_(e,n){if(e&1&&(x(0,"table",18)(1,"thead")(2,"tr")(3,"th"),M(4,"Producto"),b(),x(5,"th"),M(6,"Precio"),b(),x(7,"th"),M(8,"Cantidad"),b(),x(9,"th"),M(10,"Subtotal"),b(),x(11,"th"),M(12,"IVA"),b()()(),x(13,"tbody"),Ae(14,v_,14,14,"tr",19),b()()),e&2){let t=we().ngIf;q(14),ne("ngForOf",t)}}function x_(e,n){if(e&1&&(Eu(0),Ae(1,b_,15,1,"table",17),Mu()),e&2){let t=n.ngIf;q(),ne("ngIf",t.length>0)}}function w_(e,n){e&1&&(x(0,"div",20),M(1,"No hay productos en este pedido."),b())}var qp=(()=>{class e{constructor(){this.complete=new Ft}get subtotal(){return!this.order?.details||this.order.details.length===0?0:this.order.details.reduce((t,i)=>{let r=i.total??(i.product?.price??0)*(i.quantity??0);return t+(r??0)},0)}get total(){return this.order?.total??this.subtotal}getTotalIVA(){let t=0;if(this.order?.details)for(let i of this.order.details)i.product.iva&&(t+=i.quantity*i.product.price*.16);return t}generarPDF(){let t=document.getElementById("toPdf");t&&(0,Up.default)(t).then(i=>{let r=i.toDataURL("image/png"),o=new Ze("p","mm","a4"),c=210,l=297,u=i.height*c/i.width,p=u,g=0;for(o.addImage(r,"PNG",0,g,c,u),p-=l;p>0;)g=p-u,o.addPage(),o.addImage(r,"PNG",0,g,c,u),p-=l;o.save("factura.pdf")})}markCompleted(){this.order&&(this.order.paid=!0,this.complete.emit(this.order))}formatDate(t){if(!t)return"";let i=new Date(t);return new Intl.DateTimeFormat("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}).format(i)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=wt({type:e,selectors:[["details-invoice"]],inputs:{invoice:"invoice",order:"order"},outputs:{complete:"complete"},standalone:!0,features:[yt],decls:65,vars:23,consts:[["noProducts",""],["id","toPdf",1,"card-orden"],[1,"card-header"],[1,"title"],["icon","",2,"cursor","pointer","font-size","24px",3,"click"],[1,"date"],[1,"section","client"],[1,"status-row"],[1,"status"],["flex","",2,"justify-content","center","height","60%"],[3,"src",4,"ngIf"],[1,"client-grid"],[1,"section","products"],[4,"ngIf","ngIfElse"],[1,"section","summary"],[1,"summary-row"],[3,"src"],["class","products-table",4,"ngIf"],[1,"products-table"],[4,"ngFor","ngForOf"],[1,"no-products"]],template:function(i,r){if(i&1){let o=bt();x(0,"div",1)(1,"header",2)(2,"div",3),M(3),b(),x(4,"div",4),Ne("click",function(){return Re(o),Be(r.generarPDF())}),M(5,"picture_as_pdf"),b(),x(6,"div",5),M(7),b()(),x(8,"section",6)(9,"h3"),M(10),b(),x(11,"div",7)(12,"strong"),M(13,"Estado:"),b(),x(14,"span",8),M(15),b()(),x(16,"h3"),M(17,"Comprobante de pago"),b(),x(18,"section",9),Ae(19,__,1,1,"img",10),b()(),x(20,"section",6)(21,"h3"),M(22,"Cliente"),b(),x(23,"div",11)(24,"div")(25,"strong"),M(26,"Nombre:"),b(),M(27),b(),x(28,"div")(29,"strong"),M(30,"Email:"),b(),M(31),b(),x(32,"div")(33,"strong"),M(34,"Tel\xE9fono:"),b(),M(35),b(),x(36,"div")(37,"strong"),M(38,"Direcci\xF3n:"),b(),M(39),b()()(),x(40,"section",12)(41,"h3"),M(42,"Productos"),b(),Ae(43,x_,2,1,"ng-container",13)(44,w_,2,0,"ng-template",null,0,ju),b(),x(46,"section",14)(47,"div",15)(48,"span"),M(49,"Subtotal"),b(),x(50,"span"),M(51),on(52,"number"),b()(),x(53,"div",15)(54,"strong"),M(55,"IVA"),b(),x(56,"strong"),M(57),on(58,"number"),b()(),x(59,"div",15)(60,"strong"),M(61,"Total"),b(),x(62,"strong"),M(63),on(64,"number"),b()()()()}if(i&2){let o=Lu(45);q(3),Bt("Factura ",r.invoice==null?null:r.invoice._id,""),q(4),Je(r.formatDate(r.order==null?null:r.order.date)),q(3),Bt("Pedido ",r.order==null?null:r.order.orderId,""),q(5),Je(r.order!=null&&r.order.paid?"Pagado":"En espera por comprobante"),q(4),ne("ngIf",r.order==null?null:r.order.imageBase64),q(8),Bt(" ",(r.order==null||r.order.client==null?null:r.order.client.name)||"\u2014",""),q(4),Bt(" ",(r.order==null||r.order.client==null?null:r.order.client.email)||"\u2014",""),q(4),Bt(" ",(r.order==null||r.order.client==null?null:r.order.client.phone)||"\u2014",""),q(4),Bt(" ",(r.order==null||r.order.client==null?null:r.order.client.address)||"\u2014",""),q(4),ne("ngIf",r.order==null?null:r.order.details)("ngIfElse",o),q(8),Je(On(52,14,r.subtotal,"1.2-2")),q(6),Je(On(58,17,r.getTotalIVA(),"1.2-2")),q(6),Je(On(64,20,r.getTotalIVA()+r.total,"1.2-2"))}},dependencies:[Ct,Tn,Tt,cr],styles:[".card-orden[_ngcontent-%COMP%]{width:600px;height:600px;box-shadow:0 6px 18px #0000001f;border-radius:8px;padding:18px;box-sizing:border-box;background:#fff;display:flex;flex-direction:column;gap:12px;overflow:auto}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline;border-bottom:1px solid #eee;padding-bottom:8px}.card-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem}.card-header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.section[_ngcontent-%COMP%]{padding:8px 0}.section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:.95rem}.client-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:6px 12px}.products-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.products-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .products-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:6px 8px;border-bottom:1px solid #f2f2f2;text-align:left}.products-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;background:#fafafa}.no-products[_ngcontent-%COMP%]{color:#777;padding:8px 0}.summary[_ngcontent-%COMP%]{margin-top:auto;border-top:1px solid #eee;padding-top:12px}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:6px 0}.actions[_ngcontent-%COMP%]{padding-top:12px;border-top:1px dashed #f0f0f0}.status-row[_ngcontent-%COMP%]{margin-bottom:8px;display:flex;gap:8px;align-items:center}.status[_ngcontent-%COMP%]{font-weight:700;color:#282828}.actions-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.btn-complete[_ngcontent-%COMP%]{padding:10px 14px;background:linear-gradient(90deg,#00b894,#00a86b);color:#fff;border:none;border-radius:6px;cursor:pointer;font-weight:700}.btn-complete[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:default}"]})}}return e})();function y_(e,n){if(e&1){let t=bt();x(0,"app-create-invoice",9),Ne("close",function(){Re(t);let r=we();return Be(r.closeCreateInvoice())})("create",function(r){Re(t);let o=we();return Be(o.onCreateOrder(r))}),b()}}function C_(e,n){if(e&1){let t=bt();x(0,"app-card-invoice",18),Ne("click",function(){let r=Re(t).$implicit,o=we(2);return Be(o.openInvoice(r))})("complete",function(r){Re(t);let o=we(2);return Be(o.completeFromCompleted(r))}),b()}if(e&2){let t=n.$implicit;ne("invoice",t)}}function S_(e,n){if(e&1){let t=bt();x(0,"section",10)(1,"div",11)(2,"button",12),Ne("click",function(){Re(t);let r=we();return Be(r.toggleCompleted())}),x(3,"h2",13),M(4,"Facturas Completadas"),b(),Ge(5,"span",14),b(),x(6,"div",15)(7,"div",16),Ae(8,C_,1,1,"app-card-invoice",17),b()()()()}if(e&2){let t=we();q(2),Rr("aria-expanded",t.showCompleted),q(3),Do("open",t.showCompleted),q(),Do("open",t.showCompleted),Rr("aria-labelledby","completed-panel-title"),q(2),ne("ngForOf",t.invoicesComplete)}}function P_(e,n){if(e&1){let t=bt();x(0,"app-card-invoice",18),Ne("click",function(){let r=Re(t).$implicit,o=we(2);return Be(o.openInvoice(r))})("complete",function(r){Re(t);let o=we(2);return Be(o.completeFromNull(r))}),b()}if(e&2){let t=n.$implicit;ne("invoice",t)}}function A_(e,n){if(e&1){let t=bt();x(0,"section",10)(1,"div",11)(2,"button",19),Ne("click",function(){Re(t);let r=we();return Be(r.toggleNull())}),x(3,"h2",20),M(4,"Facturas Anuladas"),b(),Ge(5,"span",14),b(),x(6,"div",21)(7,"div",16),Ae(8,P_,1,1,"app-card-invoice",17),b()()()()}if(e&2){let t=we();q(2),Rr("aria-expanded",t.showNull),q(3),Do("open",t.showNull),q(),Do("open",t.showNull),Rr("aria-labelledby","null-panel-title"),q(2),ne("ngForOf",t.invoicesNull)}}function O_(e,n){if(e&1){let t=bt();x(0,"div",22)(1,"div",23)(2,"button",24),Ne("click",function(){Re(t);let r=we();return Be(r.closeSelected())}),M(3,"Cerrar"),b(),Ge(4,"details-invoice",25),b()()}if(e&2){let t=we();q(4),ne("order",t.selectedOrder)("invoice",t.forDetailInvoice)}}var Vp=(()=>{class e{constructor(){this.showCreateOrder=!1,this.invoiceService=qe(_a),this.popup=qe(hn),this.allInvoices=[],this.inpSearch=new dr(""),this.invoicesComplete=[],this.invoicesNull=[],this.showCompleted=!0,this.showNull=!0,this.showCreateInvoice=!1,this.showDetailInvoice=!1,this.http=qe(li)}openCreateOrder(){this.showCreateOrder=!0}closeCreateOrder(){this.showCreateOrder=!1}openCreateInvoice(){this.showCreateInvoice=!0}closeCreateInvoice(){this.showCreateInvoice=!1}onCreateOrder(t){this.showCreateInvoice=!1,this.gets()}closeSelected(){this.selectedOrder=void 0,this.forDetailInvoice=void 0}ngOnInit(){this.gets(),this.searchSub=this.inpSearch.valueChanges.pipe(sr(250),lr()).subscribe(()=>this.applyLocalFilter())}openInvoice(t){this.forDetailInvoice=t,this.selectedOrder=t.order,this.showDetailInvoice=!0}gets(){this.invoiceService.findAll().subscribe({next:t=>{this.allInvoices=Array.isArray(t)?t:[],this.invoicesComplete=this.allInvoices.filter(i=>i.status==="PAGADA"),this.invoicesNull=this.allInvoices.filter(i=>i.status==="ANULADA")},error:t=>{}})}completeNull(t){this.gets()}completeFromCompleted(t){this.gets()}completeFromNull(t){this.gets()}descargarArchivo(){this.http.get("assets/images/manual_facturacion.pdf",{responseType:"blob"}).subscribe(t=>{let i=window.URL.createObjectURL(t),r=document.createElement("a");r.href=i,r.download="Manual.pdf",r.click(),window.URL.revokeObjectURL(i)})}formatDate(t){let i=new Date(t.toString());return new Intl.DateTimeFormat("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}).format(i)}applyLocalFilter(){let t=(this.inpSearch.value||"").toString().toLowerCase().trim();if(!t){this.invoicesComplete=this.allInvoices.filter(r=>r.status==="PAGADA"),this.invoicesNull=this.allInvoices.filter(r=>r.status==="ANULADA");return}let i=this.allInvoices.filter(r=>{let o=(r._id||"").toString().toLowerCase();return o.includes(t)||o.includes(t)});this.invoicesComplete=i.filter(r=>r.status==="PAGADA"),this.invoicesNull=i.filter(r=>r.status==="ANULADA")}toggleCompleted(){this.showCompleted=!this.showCompleted}toggleNull(){this.showNull=!this.showNull}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=wt({type:e,selectors:[["app-invoice-page"]],standalone:!0,features:[yt],decls:18,vars:5,consts:[[1,"cont-prin-ordenes"],[1,"section-1"],["flex","",1,"user-actions",2,"gap","1em"],["type","button",1,"btn-add-user",3,"click"],[3,"close","create",4,"ngIf"],[1,"input-search"],["type","text","placeholder","Buscar Facturas...",1,"inp-a",3,"formControl"],["class","section-2",4,"ngIf"],["class","order-preview-overlay",4,"ngIf"],[3,"close","create"],[1,"section-2"],[1,"expansion-panel"],["type","button","id","completed-panel-button","aria-controls","completedInvoicesPanel",1,"panel-header",3,"click"],["id","completed-panel-title"],[1,"panel-caret"],["id","completedInvoicesPanel","role","region",1,"panel-body"],[1,"invoices-grid"],[3,"invoice","click","complete",4,"ngFor","ngForOf"],[3,"click","complete","invoice"],["type","button","id","null-panel-button","aria-controls","nullInvoicesPanel",1,"panel-header",3,"click"],["id","null-panel-title"],["id","nullInvoicesPanel","role","region",1,"panel-body"],[1,"order-preview-overlay"],[1,"order-preview-wrapper"],["type","button",1,"close-preview",3,"click"],[3,"order","invoice"]],template:function(i,r){i&1&&(x(0,"div",0)(1,"section",1)(2,"div")(3,"h1"),M(4,"Gesti\xF3n de Facturas"),b(),x(5,"p"),M(6,"Administra las facturas desde esta secci\xF3n"),b()(),x(7,"div",2)(8,"button",3),Ne("click",function(){return r.openCreateInvoice()}),M(9,"Agregar Factura"),b(),x(10,"button",3),Ne("click",function(){return r.descargarArchivo()}),M(11,"Descargar Manual"),b()()(),Ae(12,y_,1,0,"app-create-invoice",4),x(13,"div",5),Ge(14,"input",6),b(),Ae(15,S_,9,7,"section",7)(16,A_,9,7,"section",7),b(),Ae(17,O_,5,2,"div",8)),i&2&&(q(12),ne("ngIf",r.showCreateInvoice),q(2),ne("formControl",r.inpSearch),q(),ne("ngIf",r.invoicesComplete&&r.invoicesComplete.length),q(),ne("ngIf",r.invoicesNull&&r.invoicesNull.length),q(),ne("ngIf",r.selectedOrder))},dependencies:[Ct,Tn,Tt,uf,pn,an,sn,ur,qp,df],styles:['@charset "UTF-8";.cont-prin-ordenes[_ngcontent-%COMP%]{padding:20px}.section-1[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.btn-add-user[_ngcontent-%COMP%]{padding:10px 16px;border:none;border-radius:8px;background:#144b9d;color:#fff;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn-add-user[_ngcontent-%COMP%]:hover{background:#1d6ddc}.btn-add-user[_ngcontent-%COMP%]:active{background:#0e3a73}.section-2[_ngcontent-%COMP%]{margin-top:18px}.section-2[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 12px;font-size:16px;font-weight:700;color:#0b1621}.orders-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:grid;gap:8px}.orders-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;background:#fff;border:1px solid #eef2f4;border-radius:10px;box-shadow:0 4px 14px #0b16210a}.orders-list[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;color:#47585a;font-size:14px;justify-content:space-between;cursor:pointer}.orders-list[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .id-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;min-width:44px;height:28px;border-radius:8px;background:#f1f6fb;color:#144b9d;font-weight:700}.orders-list[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]{font-weight:600;color:#0b1621}.orders-list[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;justify-content:space-around;gap:40px}.orders-list[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .seller[_ngcontent-%COMP%]{color:#6b7a7f;font-size:13px}.orders-list[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{color:#6b7a7f}.orders-list[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{font-weight:700;color:#008c75;min-width:120px;text-align:right}@media (max-width: 640px){.orders-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.orders-list[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{text-align:left}}.btn-delete[_ngcontent-%COMP%]{padding:6px 10px;border-radius:6px;border:1px solid #ffc6c0;background:#ffebe9;color:#b22a2a;cursor:pointer}.invoices-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;margin-top:12px;justify-content:center}.input-search[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;box-sizing:border-box;margin:0 auto;padding:8px 0}.input-search[_ngcontent-%COMP%]   .sub-top-inp[_ngcontent-%COMP%], .input-search[_ngcontent-%COMP%]   .inp-a[_ngcontent-%COMP%]{width:100%;max-width:640px;background:#ffffffe6;border:1px solid rgba(11,22,33,.08);box-shadow:0 6px 18px #0b16210f;padding:10px 16px;border-radius:999px;font-size:14px;outline:none;transition:box-shadow .12s ease,transform .12s ease}.input-search[_ngcontent-%COMP%]   .sub-top-inp[_ngcontent-%COMP%]:focus, .input-search[_ngcontent-%COMP%]   .inp-a[_ngcontent-%COMP%]:focus{box-shadow:0 8px 22px #0b16211f;transform:translateY(-1px)}@media (max-width: 680px){.input-search[_ngcontent-%COMP%]   .sub-top-inp[_ngcontent-%COMP%], .input-search[_ngcontent-%COMP%]   .inp-a[_ngcontent-%COMP%]{max-width:100%;border-radius:12px}}.order-preview-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000073;display:flex;align-items:center;justify-content:center;z-index:9999}.order-preview-wrapper[_ngcontent-%COMP%]{position:relative}.close-preview[_ngcontent-%COMP%]{position:absolute;right:-12px;top:-12px;z-index:10000;width:44px;height:44px;padding:0;border:none;border-radius:50%;background:linear-gradient(135deg,#ff6b6b,#ff3b3b);box-shadow:0 6px 18px #ff3b3b2e;display:inline-flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:18px;line-height:1;cursor:pointer;transition:transform .12s ease,box-shadow .12s ease,opacity .12s ease;text-indent:-9999px}.close-preview[_ngcontent-%COMP%]:before{content:"\\d7";text-indent:0;font-size:20px;line-height:1;display:block}.close-preview[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.03);box-shadow:0 10px 24px #ff3b3b38}.close-preview[_ngcontent-%COMP%]:active{transform:scale(.98);opacity:.95}.close-preview[_ngcontent-%COMP%]:focus{outline:3px solid rgba(255,107,107,.22);outline-offset:2px}.expansion-panel[_ngcontent-%COMP%]{margin-bottom:12px;display:flex;flex-direction:column;justify-content:center;align-items:center}.panel-header[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;gap:12px;padding:10px 12px;background:#fff;border:1px solid #eef2f4;border-radius:8px;cursor:pointer}.panel-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:16px}.panel-caret[_ngcontent-%COMP%]{width:10px;height:10px;border-right:2px solid #0b1621;border-bottom:2px solid #0b1621;transform:rotate(-45deg);display:inline-block;transition:transform .18s ease}.panel-caret.open[_ngcontent-%COMP%]{transform:rotate(45deg)}.panel-body[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:max-height .26s ease,padding .26s ease;padding:0 12px}.panel-body.open[_ngcontent-%COMP%]{max-height:1200px;padding:12px}']})}}return e})();var W4=[{path:"",canActivate:[],component:$u,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:Yu},{path:"usuarios",component:Ju},{path:"clientes-list",component:nf},{path:"productos",component:af},{path:"pedidos",component:cf},{path:"facturas",component:Vp},{path:"**",redirectTo:"dashboard"}]}];export{W4 as HomeRoutes};
